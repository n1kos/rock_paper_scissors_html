var _gsScope = "undefined" != typeof module && module.exports && "undefined" != typeof global ? global : this || window;
(_gsScope._gsQueue || (_gsScope._gsQueue = [])).push(function() {
    "use strict";
    var a, b, c = /(\d|\.)+/g, d = /(?:\d|\-\d|\.\d|\-\.\d|\+=\d|\-=\d|\+=.\d|\-=\.\d)+/g, e = {
        aqua: [0, 255, 255],
        lime: [0, 255, 0],
        silver: [192, 192, 192],
        black: [0, 0, 0],
        maroon: [128, 0, 0],
        teal: [0, 128, 128],
        blue: [0, 0, 255],
        navy: [0, 0, 128],
        white: [255, 255, 255],
        fuchsia: [255, 0, 255],
        olive: [128, 128, 0],
        yellow: [255, 255, 0],
        orange: [255, 165, 0],
        gray: [128, 128, 128],
        purple: [128, 0, 128],
        green: [0, 128, 0],
        red: [255, 0, 0],
        pink: [255, 192, 203],
        cyan: [0, 255, 255],
        transparent: [255, 255, 255, 0]
    }, f = function(a, b, c) {
        return a = 0 > a ? a + 1 : a > 1 ? a - 1 : a,
        255 * (1 > 6 * a ? b + (c - b) * a * 6 : .5 > a ? c : 2 > 3 * a ? b + (c - b) * (2 / 3 - a) * 6 : b) + .5 | 0
    }
    , g = function(a, b) {
        var g, h, i, j, k, l, m, n, o, p, q;
        if (a)
            if ("number" == typeof a)
                g = [a >> 16, a >> 8 & 255, 255 & a];
            else {
                if ("," === a.charAt(a.length - 1) && (a = a.substr(0, a.length - 1)),
                e[a])
                    g = e[a];
                else if ("#" === a.charAt(0))
                    4 === a.length && (h = a.charAt(1),
                    i = a.charAt(2),
                    j = a.charAt(3),
                    a = "#" + h + h + i + i + j + j),
                    a = parseInt(a.substr(1), 16),
                    g = [a >> 16, a >> 8 & 255, 255 & a];
                else if ("hsl" === a.substr(0, 3))
                    if (g = q = a.match(c),
                    b) {
                        if (-1 !== a.indexOf("="))
                            return a.match(d)
                    } else
                        k = Number(g[0]) % 360 / 360,
                        l = Number(g[1]) / 100,
                        m = Number(g[2]) / 100,
                        i = .5 >= m ? m * (l + 1) : m + l - m * l,
                        h = 2 * m - i,
                        g.length > 3 && (g[3] = Number(a[3])),
                        g[0] = f(k + 1 / 3, h, i),
                        g[1] = f(k, h, i),
                        g[2] = f(k - 1 / 3, h, i);
                else
                    g = a.match(c) || e.transparent;
                g[0] = Number(g[0]),
                g[1] = Number(g[1]),
                g[2] = Number(g[2]),
                g.length > 3 && (g[3] = Number(g[3]))
            }
        else
            g = e.black;
        return b && !q && (h = g[0] / 255,
        i = g[1] / 255,
        j = g[2] / 255,
        n = Math.max(h, i, j),
        o = Math.min(h, i, j),
        m = (n + o) / 2,
        n === o ? k = l = 0 : (p = n - o,
        l = m > .5 ? p / (2 - n - o) : p / (n + o),
        k = n === h ? (i - j) / p + (j > i ? 6 : 0) : n === i ? (j - h) / p + 2 : (h - i) / p + 4,
        k *= 60),
        g[0] = k + .5 | 0,
        g[1] = 100 * l + .5 | 0,
        g[2] = 100 * m + .5 | 0),
        g
    }
    , h = function(a, b) {
        var c, d, e, f = (a + "").match(j) || [], h = 0, i = f.length ? "" : a;
        for (c = 0; c < f.length; c++)
            d = f[c],
            e = a.substr(h, a.indexOf(d, h) - h),
            h += e.length + d.length,
            d = g(d, b),
            3 === d.length && d.push(1),
            i += e + (b ? "hsla(" + d[0] + "," + d[1] + "%," + d[2] + "%," + d[3] : "rgba(" + d.join(",")) + ")";
        return i
    }
    , i = _gsScope.TweenLite, j = "(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#(?:[0-9a-f]{3}){1,2}\\b", k = _gsScope._gsDefine.plugin({
        propName: "colorProps",
        version: "1.4.1",
        priority: -1,
        API: 2,
        global: !0,
        init: function(a, c, d) {
            var e, f, h, i;
            this._target = a,
            this._proxy = f = "NUMBER" === (c.format + "").toUpperCase() ? {} : 0;
            for (e in c)
                "format" !== e && (f ? (this._firstNumPT = h = {
                    _next: this._firstNumPT,
                    t: a,
                    p: e,
                    f: "function" == typeof a[e]
                },
                f[e] = "rgb(" + g(h.f ? a[e.indexOf("set") || "function" != typeof a["get" + e.substr(3)] ? e : "get" + e.substr(3)]() : a[e]).join(",") + ")",
                i = c[e],
                this._addTween(f, e, "get", "number" == typeof i ? "rgb(" + g(i, !1).join(",") + ")" : i, e, null , null , b)) : this._addTween(a, e, "get", c[e], e, null , null , b));
            return !0
        },
        set: function(a) {
            var b, c = this._firstNumPT;
            for (this._super.setRatio.call(this, a); c; )
                b = g(this._proxy[c.p], !1),
                b = b[0] << 16 | b[1] << 8 | b[2],
                c.f ? this._target[c.p](b) : this._target[c.p] = b,
                c = c._next
        }
    });
    for (a in e)
        j += "|" + a + "\\b";
    j = new RegExp(j + ")","gi"),
    k.colorStringFilter = b = function(a) {
        var b, c = a[0] + a[1];
        j.lastIndex = 0,
        j.test(c) && (b = -1 !== c.indexOf("hsl(") || -1 !== c.indexOf("hsla("),
        a[0] = h(a[0], b),
        a[1] = h(a[1], b))
    }
    ,
    i.defaultStringFilter || (i.defaultStringFilter = k.colorStringFilter),
    k.parseColor = g,
    a = k.prototype,
    a._firstNumPT = null ,
    a._kill = function(b) {
        for (var c, d = this._firstNumPT; d; )
            d.p in b ? (d === a._firstNumPT && (this._firstNumPT = d._next),
            c && (c._next = d._next)) : c = d,
            d = d._next;
        return this._super._kill(b)
    }
}),
_gsScope._gsDefine && _gsScope._gsQueue.pop()();
;!function(a, b) {
    "object" == typeof module && "object" == typeof module.exports ? module.exports = a.document ? b(a, !0) : function(a) {
        if (!a.document)
            throw new Error("jQuery requires a window with a document");
        return b(a)
    }
     : b(a)
}("undefined" != typeof window ? window : this, function(a, b) {
    var c = []
      , d = c.slice
      , e = c.concat
      , f = c.push
      , g = c.indexOf
      , h = {}
      , i = h.toString
      , j = h.hasOwnProperty
      , k = {}
      , l = a.document
      , m = "2.1.3"
      , n = function(a, b) {
        return new n.fn.init(a,b)
    }
      , o = /^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g
      , p = /^-ms-/
      , q = /-([\da-z])/gi
      , r = function(a, b) {
        return b.toUpperCase()
    }
    ;
    n.fn = n.prototype = {
        jquery: m,
        constructor: n,
        selector: "",
        length: 0,
        toArray: function() {
            return d.call(this)
        },
        get: function(a) {
            return null  != a ? 0 > a ? this[a + this.length] : this[a] : d.call(this)
        },
        pushStack: function(a) {
            var b = n.merge(this.constructor(), a);
            return b.prevObject = this,
            b.context = this.context,
            b
        },
        each: function(a, b) {
            return n.each(this, a, b)
        },
        map: function(a) {
            return this.pushStack(n.map(this, function(b, c) {
                return a.call(b, c, b)
            }))
        },
        slice: function() {
            return this.pushStack(d.apply(this, arguments))
        },
        first: function() {
            return this.eq(0)
        },
        last: function() {
            return this.eq(-1)
        },
        eq: function(a) {
            var b = this.length
              , c = +a + (0 > a ? b : 0);
            return this.pushStack(c >= 0 && b > c ? [this[c]] : [])
        },
        end: function() {
            return this.prevObject || this.constructor(null )
        },
        push: f,
        sort: c.sort,
        splice: c.splice
    },
    n.extend = n.fn.extend = function() {
        var a, b, c, d, e, f, g = arguments[0] || {}, h = 1, i = arguments.length, j = !1;
        for ("boolean" == typeof g && (j = g,
        g = arguments[h] || {},
        h++),
        "object" == typeof g || n.isFunction(g) || (g = {}),
        h === i && (g = this,
        h--); i > h; h++)
            if (null  != (a = arguments[h]))
                for (b in a)
                    c = g[b],
                    d = a[b],
                    g !== d && (j && d && (n.isPlainObject(d) || (e = n.isArray(d))) ? (e ? (e = !1,
                    f = c && n.isArray(c) ? c : []) : f = c && n.isPlainObject(c) ? c : {},
                    g[b] = n.extend(j, f, d)) : void 0 !== d && (g[b] = d));
        return g
    }
    ,
    n.extend({
        expando: "jQuery" + (m + Math.random()).replace(/\D/g, ""),
        isReady: !0,
        error: function(a) {
            throw new Error(a)
        },
        noop: function() {},
        isFunction: function(a) {
            return "function" === n.type(a)
        },
        isArray: Array.isArray,
        isWindow: function(a) {
            return null  != a && a === a.window
        },
        isNumeric: function(a) {
            return !n.isArray(a) && a - parseFloat(a) + 1 >= 0
        },
        isPlainObject: function(a) {
            return "object" !== n.type(a) || a.nodeType || n.isWindow(a) ? !1 : a.constructor && !j.call(a.constructor.prototype, "isPrototypeOf") ? !1 : !0
        },
        isEmptyObject: function(a) {
            var b;
            for (b in a)
                return !1;
            return !0
        },
        type: function(a) {
            return null  == a ? a + "" : "object" == typeof a || "function" == typeof a ? h[i.call(a)] || "object" : typeof a
        },
        globalEval: function(a) {
            var b, c = eval;
            a = n.trim(a),
            a && (1 === a.indexOf("use strict") ? (b = l.createElement("script"),
            b.text = a,
            l.head.appendChild(b).parentNode.removeChild(b)) : c(a))
        },
        camelCase: function(a) {
            return a.replace(p, "ms-").replace(q, r)
        },
        nodeName: function(a, b) {
            return a.nodeName && a.nodeName.toLowerCase() === b.toLowerCase()
        },
        each: function(a, b, c) {
            var d, e = 0, f = a.length, g = s(a);
            if (c) {
                if (g) {
                    for (; f > e; e++)
                        if (d = b.apply(a[e], c),
                        d === !1)
                            break
                } else
                    for (e in a)
                        if (d = b.apply(a[e], c),
                        d === !1)
                            break
            } else if (g) {
                for (; f > e; e++)
                    if (d = b.call(a[e], e, a[e]),
                    d === !1)
                        break
            } else
                for (e in a)
                    if (d = b.call(a[e], e, a[e]),
                    d === !1)
                        break;
            return a
        },
        trim: function(a) {
            return null  == a ? "" : (a + "").replace(o, "")
        },
        makeArray: function(a, b) {
            var c = b || [];
            return null  != a && (s(Object(a)) ? n.merge(c, "string" == typeof a ? [a] : a) : f.call(c, a)),
            c
        },
        inArray: function(a, b, c) {
            return null  == b ? -1 : g.call(b, a, c)
        },
        merge: function(a, b) {
            for (var c = +b.length, d = 0, e = a.length; c > d; d++)
                a[e++] = b[d];
            return a.length = e,
            a
        },
        grep: function(a, b, c) {
            for (var d, e = [], f = 0, g = a.length, h = !c; g > f; f++)
                d = !b(a[f], f),
                d !== h && e.push(a[f]);
            return e
        },
        map: function(a, b, c) {
            var d, f = 0, g = a.length, h = s(a), i = [];
            if (h)
                for (; g > f; f++)
                    d = b(a[f], f, c),
                    null  != d && i.push(d);
            else
                for (f in a)
                    d = b(a[f], f, c),
                    null  != d && i.push(d);
            return e.apply([], i)
        },
        guid: 1,
        proxy: function(a, b) {
            var c, e, f;
            return "string" == typeof b && (c = a[b],
            b = a,
            a = c),
            n.isFunction(a) ? (e = d.call(arguments, 2),
            f = function() {
                return a.apply(b || this, e.concat(d.call(arguments)))
            }
            ,
            f.guid = a.guid = a.guid || n.guid++,
            f) : void 0
        },
        now: Date.now,
        support: k
    }),
    n.each("Boolean Number String Function Array Date RegExp Object Error".split(" "), function(a, b) {
        h["[object " + b + "]"] = b.toLowerCase()
    });
    function s(a) {
        var b = a.length
          , c = n.type(a);
        return "function" === c || n.isWindow(a) ? !1 : 1 === a.nodeType && b ? !0 : "array" === c || 0 === b || "number" == typeof b && b > 0 && b - 1 in a
    }
    var t = function(a) {
        var b, c, d, e, f, g, h, i, j, k, l, m, n, o, p, q, r, s, t, u = "sizzle" + 1 * new Date, v = a.document, w = 0, x = 0, y = hb(), z = hb(), A = hb(), B = function(a, b) {
            return a === b && (l = !0),
            0
        }
        , C = 1 << 31, D = {}.hasOwnProperty, E = [], F = E.pop, G = E.push, H = E.push, I = E.slice, J = function(a, b) {
            for (var c = 0, d = a.length; d > c; c++)
                if (a[c] === b)
                    return c;
            return -1
        }
        , K = "checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped", L = "[\\x20\\t\\r\\n\\f]", M = "(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+", N = M.replace("w", "w#"), O = "\\[" + L + "*(" + M + ")(?:" + L + "*([*^$|!~]?=)" + L + "*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|(" + N + "))|)" + L + "*\\]", P = ":(" + M + ")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|" + O + ")*)|.*)\\)|)", Q = new RegExp(L + "+","g"), R = new RegExp("^" + L + "+|((?:^|[^\\\\])(?:\\\\.)*)" + L + "+$","g"), S = new RegExp("^" + L + "*," + L + "*"), T = new RegExp("^" + L + "*([>+~]|" + L + ")" + L + "*"), U = new RegExp("=" + L + "*([^\\]'\"]*?)" + L + "*\\]","g"), V = new RegExp(P), W = new RegExp("^" + N + "$"), X = {
            ID: new RegExp("^#(" + M + ")"),
            CLASS: new RegExp("^\\.(" + M + ")"),
            TAG: new RegExp("^(" + M.replace("w", "w*") + ")"),
            ATTR: new RegExp("^" + O),
            PSEUDO: new RegExp("^" + P),
            CHILD: new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\(" + L + "*(even|odd|(([+-]|)(\\d*)n|)" + L + "*(?:([+-]|)" + L + "*(\\d+)|))" + L + "*\\)|)","i"),
            bool: new RegExp("^(?:" + K + ")$","i"),
            needsContext: new RegExp("^" + L + "*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\(" + L + "*((?:-\\d)?\\d*)" + L + "*\\)|)(?=[^-]|$)","i")
        }, Y = /^(?:input|select|textarea|button)$/i, Z = /^h\d$/i, $ = /^[^{]+\{\s*\[native \w/, _ = /^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/, ab = /[+~]/, bb = /'|\\/g, cb = new RegExp("\\\\([\\da-f]{1,6}" + L + "?|(" + L + ")|.)","ig"), db = function(a, b, c) {
            var d = "0x" + b - 65536;
            return d !== d || c ? b : 0 > d ? String.fromCharCode(d + 65536) : String.fromCharCode(d >> 10 | 55296, 1023 & d | 56320)
        }
        , eb = function() {
            m()
        }
        ;
        try {
            H.apply(E = I.call(v.childNodes), v.childNodes),
            E[v.childNodes.length].nodeType
        } catch (fb) {
            H = {
                apply: E.length ? function(a, b) {
                    G.apply(a, I.call(b))
                }
                 : function(a, b) {
                    var c = a.length
                      , d = 0;
                    while (a[c++] = b[d++])
                        ;
                    a.length = c - 1
                }
            }
        }
        function gb(a, b, d, e) {
            var f, h, j, k, l, o, r, s, w, x;
            if ((b ? b.ownerDocument || b : v) !== n && m(b),
            b = b || n,
            d = d || [],
            k = b.nodeType,
            "string" != typeof a || !a || 1 !== k && 9 !== k && 11 !== k)
                return d;
            if (!e && p) {
                if (11 !== k && (f = _.exec(a)))
                    if (j = f[1]) {
                        if (9 === k) {
                            if (h = b.getElementById(j),
                            !h || !h.parentNode)
                                return d;
                            if (h.id === j)
                                return d.push(h),
                                d
                        } else if (b.ownerDocument && (h = b.ownerDocument.getElementById(j)) && t(b, h) && h.id === j)
                            return d.push(h),
                            d
                    } else {
                        if (f[2])
                            return H.apply(d, b.getElementsByTagName(a)),
                            d;
                        if ((j = f[3]) && c.getElementsByClassName)
                            return H.apply(d, b.getElementsByClassName(j)),
                            d
                    }
                if (c.qsa && (!q || !q.test(a))) {
                    if (s = r = u,
                    w = b,
                    x = 1 !== k && a,
                    1 === k && "object" !== b.nodeName.toLowerCase()) {
                        o = g(a),
                        (r = b.getAttribute("id")) ? s = r.replace(bb, "\\$&") : b.setAttribute("id", s),
                        s = "[id='" + s + "'] ",
                        l = o.length;
                        while (l--)
                            o[l] = s + rb(o[l]);
                        w = ab.test(a) && pb(b.parentNode) || b,
                        x = o.join(",")
                    }
                    if (x)
                        try {
                            return H.apply(d, w.querySelectorAll(x)),
                            d
                        } catch (y) {} finally {
                            r || b.removeAttribute("id")
                        }
                }
            }
            return i(a.replace(R, "$1"), b, d, e)
        }
        function hb() {
            var a = [];
            function b(c, e) {
                return a.push(c + " ") > d.cacheLength && delete b[a.shift()],
                b[c + " "] = e
            }
            return b
        }
        function ib(a) {
            return a[u] = !0,
            a
        }
        function jb(a) {
            var b = n.createElement("div");
            try {
                return !!a(b)
            } catch (c) {
                return !1
            } finally {
                b.parentNode && b.parentNode.removeChild(b),
                b = null 
            }
        }
        function kb(a, b) {
            var c = a.split("|")
              , e = a.length;
            while (e--)
                d.attrHandle[c[e]] = b
        }
        function lb(a, b) {
            var c = b && a
              , d = c && 1 === a.nodeType && 1 === b.nodeType && (~b.sourceIndex || C) - (~a.sourceIndex || C);
            if (d)
                return d;
            if (c)
                while (c = c.nextSibling)
                    if (c === b)
                        return -1;
            return a ? 1 : -1
        }
        function mb(a) {
            return function(b) {
                var c = b.nodeName.toLowerCase();
                return "input" === c && b.type === a
            }
        }
        function nb(a) {
            return function(b) {
                var c = b.nodeName.toLowerCase();
                return ("input" === c || "button" === c) && b.type === a
            }
        }
        function ob(a) {
            return ib(function(b) {
                return b = +b,
                ib(function(c, d) {
                    var e, f = a([], c.length, b), g = f.length;
                    while (g--)
                        c[e = f[g]] && (c[e] = !(d[e] = c[e]))
                })
            })
        }
        function pb(a) {
            return a && "undefined" != typeof a.getElementsByTagName && a
        }
        c = gb.support = {},
        f = gb.isXML = function(a) {
            var b = a && (a.ownerDocument || a).documentElement;
            return b ? "HTML" !== b.nodeName : !1
        }
        ,
        m = gb.setDocument = function(a) {
            var b, e, g = a ? a.ownerDocument || a : v;
            return g !== n && 9 === g.nodeType && g.documentElement ? (n = g,
            o = g.documentElement,
            e = g.defaultView,
            e && e !== e.top && (e.addEventListener ? e.addEventListener("unload", eb, !1) : e.attachEvent && e.attachEvent("onunload", eb)),
            p = !f(g),
            c.attributes = jb(function(a) {
                return a.className = "i",
                !a.getAttribute("className")
            }),
            c.getElementsByTagName = jb(function(a) {
                return a.appendChild(g.createComment("")),
                !a.getElementsByTagName("*").length
            }),
            c.getElementsByClassName = $.test(g.getElementsByClassName),
            c.getById = jb(function(a) {
                return o.appendChild(a).id = u,
                !g.getElementsByName || !g.getElementsByName(u).length
            }),
            c.getById ? (d.find.ID = function(a, b) {
                if ("undefined" != typeof b.getElementById && p) {
                    var c = b.getElementById(a);
                    return c && c.parentNode ? [c] : []
                }
            }
            ,
            d.filter.ID = function(a) {
                var b = a.replace(cb, db);
                return function(a) {
                    return a.getAttribute("id") === b
                }
            }
            ) : (delete d.find.ID,
            d.filter.ID = function(a) {
                var b = a.replace(cb, db);
                return function(a) {
                    var c = "undefined" != typeof a.getAttributeNode && a.getAttributeNode("id");
                    return c && c.value === b
                }
            }
            ),
            d.find.TAG = c.getElementsByTagName ? function(a, b) {
                return "undefined" != typeof b.getElementsByTagName ? b.getElementsByTagName(a) : c.qsa ? b.querySelectorAll(a) : void 0
            }
             : function(a, b) {
                var c, d = [], e = 0, f = b.getElementsByTagName(a);
                if ("*" === a) {
                    while (c = f[e++])
                        1 === c.nodeType && d.push(c);
                    return d
                }
                return f
            }
            ,
            d.find.CLASS = c.getElementsByClassName && function(a, b) {
                return p ? b.getElementsByClassName(a) : void 0
            }
            ,
            r = [],
            q = [],
            (c.qsa = $.test(g.querySelectorAll)) && (jb(function(a) {
                o.appendChild(a).innerHTML = "<a id='" + u + "'></a><select id='" + u + "-\f]' msallowcapture=''><option selected=''></option></select>",
                a.querySelectorAll("[msallowcapture^='']").length && q.push("[*^$]=" + L + "*(?:''|\"\")"),
                a.querySelectorAll("[selected]").length || q.push("\\[" + L + "*(?:value|" + K + ")"),
                a.querySelectorAll("[id~=" + u + "-]").length || q.push("~="),
                a.querySelectorAll(":checked").length || q.push(":checked"),
                a.querySelectorAll("a#" + u + "+*").length || q.push(".#.+[+~]")
            }),
            jb(function(a) {
                var b = g.createElement("input");
                b.setAttribute("type", "hidden"),
                a.appendChild(b).setAttribute("name", "D"),
                a.querySelectorAll("[name=d]").length && q.push("name" + L + "*[*^$|!~]?="),
                a.querySelectorAll(":enabled").length || q.push(":enabled", ":disabled"),
                a.querySelectorAll("*,:x"),
                q.push(",.*:")
            })),
            (c.matchesSelector = $.test(s = o.matches || o.webkitMatchesSelector || o.mozMatchesSelector || o.oMatchesSelector || o.msMatchesSelector)) && jb(function(a) {
                c.disconnectedMatch = s.call(a, "div"),
                s.call(a, "[s!='']:x"),
                r.push("!=", P)
            }),
            q = q.length && new RegExp(q.join("|")),
            r = r.length && new RegExp(r.join("|")),
            b = $.test(o.compareDocumentPosition),
            t = b || $.test(o.contains) ? function(a, b) {
                var c = 9 === a.nodeType ? a.documentElement : a
                  , d = b && b.parentNode;
                return a === d || !(!d || 1 !== d.nodeType || !(c.contains ? c.contains(d) : a.compareDocumentPosition && 16 & a.compareDocumentPosition(d)))
            }
             : function(a, b) {
                if (b)
                    while (b = b.parentNode)
                        if (b === a)
                            return !0;
                return !1
            }
            ,
            B = b ? function(a, b) {
                if (a === b)
                    return l = !0,
                    0;
                var d = !a.compareDocumentPosition - !b.compareDocumentPosition;
                return d ? d : (d = (a.ownerDocument || a) === (b.ownerDocument || b) ? a.compareDocumentPosition(b) : 1,
                1 & d || !c.sortDetached && b.compareDocumentPosition(a) === d ? a === g || a.ownerDocument === v && t(v, a) ? -1 : b === g || b.ownerDocument === v && t(v, b) ? 1 : k ? J(k, a) - J(k, b) : 0 : 4 & d ? -1 : 1)
            }
             : function(a, b) {
                if (a === b)
                    return l = !0,
                    0;
                var c, d = 0, e = a.parentNode, f = b.parentNode, h = [a], i = [b];
                if (!e || !f)
                    return a === g ? -1 : b === g ? 1 : e ? -1 : f ? 1 : k ? J(k, a) - J(k, b) : 0;
                if (e === f)
                    return lb(a, b);
                c = a;
                while (c = c.parentNode)
                    h.unshift(c);
                c = b;
                while (c = c.parentNode)
                    i.unshift(c);
                while (h[d] === i[d])
                    d++;
                return d ? lb(h[d], i[d]) : h[d] === v ? -1 : i[d] === v ? 1 : 0
            }
            ,
            g) : n
        }
        ,
        gb.matches = function(a, b) {
            return gb(a, null , null , b)
        }
        ,
        gb.matchesSelector = function(a, b) {
            if ((a.ownerDocument || a) !== n && m(a),
            b = b.replace(U, "='$1']"),
            !(!c.matchesSelector || !p || r && r.test(b) || q && q.test(b)))
                try {
                    var d = s.call(a, b);
                    if (d || c.disconnectedMatch || a.document && 11 !== a.document.nodeType)
                        return d
                } catch (e) {}
            return gb(b, n, null , [a]).length > 0
        }
        ,
        gb.contains = function(a, b) {
            return (a.ownerDocument || a) !== n && m(a),
            t(a, b)
        }
        ,
        gb.attr = function(a, b) {
            (a.ownerDocument || a) !== n && m(a);
            var e = d.attrHandle[b.toLowerCase()]
              , f = e && D.call(d.attrHandle, b.toLowerCase()) ? e(a, b, !p) : void 0;
            return void 0 !== f ? f : c.attributes || !p ? a.getAttribute(b) : (f = a.getAttributeNode(b)) && f.specified ? f.value : null 
        }
        ,
        gb.error = function(a) {
            throw new Error("Syntax error, unrecognized expression: " + a)
        }
        ,
        gb.uniqueSort = function(a) {
            var b, d = [], e = 0, f = 0;
            if (l = !c.detectDuplicates,
            k = !c.sortStable && a.slice(0),
            a.sort(B),
            l) {
                while (b = a[f++])
                    b === a[f] && (e = d.push(f));
                while (e--)
                    a.splice(d[e], 1)
            }
            return k = null ,
            a
        }
        ,
        e = gb.getText = function(a) {
            var b, c = "", d = 0, f = a.nodeType;
            if (f) {
                if (1 === f || 9 === f || 11 === f) {
                    if ("string" == typeof a.textContent)
                        return a.textContent;
                    for (a = a.firstChild; a; a = a.nextSibling)
                        c += e(a)
                } else if (3 === f || 4 === f)
                    return a.nodeValue
            } else
                while (b = a[d++])
                    c += e(b);
            return c
        }
        ,
        d = gb.selectors = {
            cacheLength: 50,
            createPseudo: ib,
            match: X,
            attrHandle: {},
            find: {},
            relative: {
                ">": {
                    dir: "parentNode",
                    first: !0
                },
                " ": {
                    dir: "parentNode"
                },
                "+": {
                    dir: "previousSibling",
                    first: !0
                },
                "~": {
                    dir: "previousSibling"
                }
            },
            preFilter: {
                ATTR: function(a) {
                    return a[1] = a[1].replace(cb, db),
                    a[3] = (a[3] || a[4] || a[5] || "").replace(cb, db),
                    "~=" === a[2] && (a[3] = " " + a[3] + " "),
                    a.slice(0, 4)
                },
                CHILD: function(a) {
                    return a[1] = a[1].toLowerCase(),
                    "nth" === a[1].slice(0, 3) ? (a[3] || gb.error(a[0]),
                    a[4] = +(a[4] ? a[5] + (a[6] || 1) : 2 * ("even" === a[3] || "odd" === a[3])),
                    a[5] = +(a[7] + a[8] || "odd" === a[3])) : a[3] && gb.error(a[0]),
                    a
                },
                PSEUDO: function(a) {
                    var b, c = !a[6] && a[2];
                    return X.CHILD.test(a[0]) ? null  : (a[3] ? a[2] = a[4] || a[5] || "" : c && V.test(c) && (b = g(c, !0)) && (b = c.indexOf(")", c.length - b) - c.length) && (a[0] = a[0].slice(0, b),
                    a[2] = c.slice(0, b)),
                    a.slice(0, 3))
                }
            },
            filter: {
                TAG: function(a) {
                    var b = a.replace(cb, db).toLowerCase();
                    return "*" === a ? function() {
                        return !0
                    }
                     : function(a) {
                        return a.nodeName && a.nodeName.toLowerCase() === b
                    }
                },
                CLASS: function(a) {
                    var b = y[a + " "];
                    return b || (b = new RegExp("(^|" + L + ")" + a + "(" + L + "|$)")) && y(a, function(a) {
                        return b.test("string" == typeof a.className && a.className || "undefined" != typeof a.getAttribute && a.getAttribute("class") || "")
                    })
                },
                ATTR: function(a, b, c) {
                    return function(d) {
                        var e = gb.attr(d, a);
                        return null  == e ? "!=" === b : b ? (e += "",
                        "=" === b ? e === c : "!=" === b ? e !== c : "^=" === b ? c && 0 === e.indexOf(c) : "*=" === b ? c && e.indexOf(c) > -1 : "$=" === b ? c && e.slice(-c.length) === c : "~=" === b ? (" " + e.replace(Q, " ") + " ").indexOf(c) > -1 : "|=" === b ? e === c || e.slice(0, c.length + 1) === c + "-" : !1) : !0
                    }
                },
                CHILD: function(a, b, c, d, e) {
                    var f = "nth" !== a.slice(0, 3)
                      , g = "last" !== a.slice(-4)
                      , h = "of-type" === b;
                    return 1 === d && 0 === e ? function(a) {
                        return !!a.parentNode
                    }
                     : function(b, c, i) {
                        var j, k, l, m, n, o, p = f !== g ? "nextSibling" : "previousSibling", q = b.parentNode, r = h && b.nodeName.toLowerCase(), s = !i && !h;
                        if (q) {
                            if (f) {
                                while (p) {
                                    l = b;
                                    while (l = l[p])
                                        if (h ? l.nodeName.toLowerCase() === r : 1 === l.nodeType)
                                            return !1;
                                    o = p = "only" === a && !o && "nextSibling"
                                }
                                return !0
                            }
                            if (o = [g ? q.firstChild : q.lastChild],
                            g && s) {
                                k = q[u] || (q[u] = {}),
                                j = k[a] || [],
                                n = j[0] === w && j[1],
                                m = j[0] === w && j[2],
                                l = n && q.childNodes[n];
                                while (l = ++n && l && l[p] || (m = n = 0) || o.pop())
                                    if (1 === l.nodeType && ++m && l === b) {
                                        k[a] = [w, n, m];
                                        break
                                    }
                            } else if (s && (j = (b[u] || (b[u] = {}))[a]) && j[0] === w)
                                m = j[1];
                            else
                                while (l = ++n && l && l[p] || (m = n = 0) || o.pop())
                                    if ((h ? l.nodeName.toLowerCase() === r : 1 === l.nodeType) && ++m && (s && ((l[u] || (l[u] = {}))[a] = [w, m]),
                                    l === b))
                                        break;
                            return m -= e,
                            m === d || m % d === 0 && m / d >= 0
                        }
                    }
                },
                PSEUDO: function(a, b) {
                    var c, e = d.pseudos[a] || d.setFilters[a.toLowerCase()] || gb.error("unsupported pseudo: " + a);
                    return e[u] ? e(b) : e.length > 1 ? (c = [a, a, "", b],
                    d.setFilters.hasOwnProperty(a.toLowerCase()) ? ib(function(a, c) {
                        var d, f = e(a, b), g = f.length;
                        while (g--)
                            d = J(a, f[g]),
                            a[d] = !(c[d] = f[g])
                    }) : function(a) {
                        return e(a, 0, c)
                    }
                    ) : e
                }
            },
            pseudos: {
                not: ib(function(a) {
                    var b = []
                      , c = []
                      , d = h(a.replace(R, "$1"));
                    return d[u] ? ib(function(a, b, c, e) {
                        var f, g = d(a, null , e, []), h = a.length;
                        while (h--)
                            (f = g[h]) && (a[h] = !(b[h] = f))
                    }) : function(a, e, f) {
                        return b[0] = a,
                        d(b, null , f, c),
                        b[0] = null ,
                        !c.pop()
                    }
                }),
                has: ib(function(a) {
                    return function(b) {
                        return gb(a, b).length > 0
                    }
                }),
                contains: ib(function(a) {
                    return a = a.replace(cb, db),
                    function(b) {
                        return (b.textContent || b.innerText || e(b)).indexOf(a) > -1
                    }
                }),
                lang: ib(function(a) {
                    return W.test(a || "") || gb.error("unsupported lang: " + a),
                    a = a.replace(cb, db).toLowerCase(),
                    function(b) {
                        var c;
                        do
                            if (c = p ? b.lang : b.getAttribute("xml:lang") || b.getAttribute("lang"))
                                return c = c.toLowerCase(),
                                c === a || 0 === c.indexOf(a + "-");
                        while ((b = b.parentNode) && 1 === b.nodeType);return !1
                    }
                }),
                target: function(b) {
                    var c = a.location && a.location.hash;
                    return c && c.slice(1) === b.id
                },
                root: function(a) {
                    return a === o
                },
                focus: function(a) {
                    return a === n.activeElement && (!n.hasFocus || n.hasFocus()) && !!(a.type || a.href || ~a.tabIndex)
                },
                enabled: function(a) {
                    return a.disabled === !1
                },
                disabled: function(a) {
                    return a.disabled === !0
                },
                checked: function(a) {
                    var b = a.nodeName.toLowerCase();
                    return "input" === b && !!a.checked || "option" === b && !!a.selected
                },
                selected: function(a) {
                    return a.parentNode && a.parentNode.selectedIndex,
                    a.selected === !0
                },
                empty: function(a) {
                    for (a = a.firstChild; a; a = a.nextSibling)
                        if (a.nodeType < 6)
                            return !1;
                    return !0
                },
                parent: function(a) {
                    return !d.pseudos.empty(a)
                },
                header: function(a) {
                    return Z.test(a.nodeName)
                },
                input: function(a) {
                    return Y.test(a.nodeName)
                },
                button: function(a) {
                    var b = a.nodeName.toLowerCase();
                    return "input" === b && "button" === a.type || "button" === b
                },
                text: function(a) {
                    var b;
                    return "input" === a.nodeName.toLowerCase() && "text" === a.type && (null  == (b = a.getAttribute("type")) || "text" === b.toLowerCase())
                },
                first: ob(function() {
                    return [0]
                }),
                last: ob(function(a, b) {
                    return [b - 1]
                }),
                eq: ob(function(a, b, c) {
                    return [0 > c ? c + b : c]
                }),
                even: ob(function(a, b) {
                    for (var c = 0; b > c; c += 2)
                        a.push(c);
                    return a
                }),
                odd: ob(function(a, b) {
                    for (var c = 1; b > c; c += 2)
                        a.push(c);
                    return a
                }),
                lt: ob(function(a, b, c) {
                    for (var d = 0 > c ? c + b : c; --d >= 0; )
                        a.push(d);
                    return a
                }),
                gt: ob(function(a, b, c) {
                    for (var d = 0 > c ? c + b : c; ++d < b; )
                        a.push(d);
                    return a
                })
            }
        },
        d.pseudos.nth = d.pseudos.eq;
        for (b in {
            radio: !0,
            checkbox: !0,
            file: !0,
            password: !0,
            image: !0
        })
            d.pseudos[b] = mb(b);
        for (b in {
            submit: !0,
            reset: !0
        })
            d.pseudos[b] = nb(b);
        function qb() {}
        qb.prototype = d.filters = d.pseudos,
        d.setFilters = new qb,
        g = gb.tokenize = function(a, b) {
            var c, e, f, g, h, i, j, k = z[a + " "];
            if (k)
                return b ? 0 : k.slice(0);
            h = a,
            i = [],
            j = d.preFilter;
            while (h) {
                (!c || (e = S.exec(h))) && (e && (h = h.slice(e[0].length) || h),
                i.push(f = [])),
                c = !1,
                (e = T.exec(h)) && (c = e.shift(),
                f.push({
                    value: c,
                    type: e[0].replace(R, " ")
                }),
                h = h.slice(c.length));
                for (g in d.filter)
                    !(e = X[g].exec(h)) || j[g] && !(e = j[g](e)) || (c = e.shift(),
                    f.push({
                        value: c,
                        type: g,
                        matches: e
                    }),
                    h = h.slice(c.length));
                if (!c)
                    break
            }
            return b ? h.length : h ? gb.error(a) : z(a, i).slice(0)
        }
        ;
        function rb(a) {
            for (var b = 0, c = a.length, d = ""; c > b; b++)
                d += a[b].value;
            return d
        }
        function sb(a, b, c) {
            var d = b.dir
              , e = c && "parentNode" === d
              , f = x++;
            return b.first ? function(b, c, f) {
                while (b = b[d])
                    if (1 === b.nodeType || e)
                        return a(b, c, f)
            }
             : function(b, c, g) {
                var h, i, j = [w, f];
                if (g) {
                    while (b = b[d])
                        if ((1 === b.nodeType || e) && a(b, c, g))
                            return !0
                } else
                    while (b = b[d])
                        if (1 === b.nodeType || e) {
                            if (i = b[u] || (b[u] = {}),
                            (h = i[d]) && h[0] === w && h[1] === f)
                                return j[2] = h[2];
                            if (i[d] = j,
                            j[2] = a(b, c, g))
                                return !0
                        }
            }
        }
        function tb(a) {
            return a.length > 1 ? function(b, c, d) {
                var e = a.length;
                while (e--)
                    if (!a[e](b, c, d))
                        return !1;
                return !0
            }
             : a[0]
        }
        function ub(a, b, c) {
            for (var d = 0, e = b.length; e > d; d++)
                gb(a, b[d], c);
            return c
        }
        function vb(a, b, c, d, e) {
            for (var f, g = [], h = 0, i = a.length, j = null  != b; i > h; h++)
                (f = a[h]) && (!c || c(f, d, e)) && (g.push(f),
                j && b.push(h));
            return g
        }
        function wb(a, b, c, d, e, f) {
            return d && !d[u] && (d = wb(d)),
            e && !e[u] && (e = wb(e, f)),
            ib(function(f, g, h, i) {
                var j, k, l, m = [], n = [], o = g.length, p = f || ub(b || "*", h.nodeType ? [h] : h, []), q = !a || !f && b ? p : vb(p, m, a, h, i), r = c ? e || (f ? a : o || d) ? [] : g : q;
                if (c && c(q, r, h, i),
                d) {
                    j = vb(r, n),
                    d(j, [], h, i),
                    k = j.length;
                    while (k--)
                        (l = j[k]) && (r[n[k]] = !(q[n[k]] = l))
                }
                if (f) {
                    if (e || a) {
                        if (e) {
                            j = [],
                            k = r.length;
                            while (k--)
                                (l = r[k]) && j.push(q[k] = l);
                            e(null , r = [], j, i)
                        }
                        k = r.length;
                        while (k--)
                            (l = r[k]) && (j = e ? J(f, l) : m[k]) > -1 && (f[j] = !(g[j] = l))
                    }
                } else
                    r = vb(r === g ? r.splice(o, r.length) : r),
                    e ? e(null , g, r, i) : H.apply(g, r)
            })
        }
        function xb(a) {
            for (var b, c, e, f = a.length, g = d.relative[a[0].type], h = g || d.relative[" "], i = g ? 1 : 0, k = sb(function(a) {
                return a === b
            }, h, !0), l = sb(function(a) {
                return J(b, a) > -1
            }, h, !0), m = [function(a, c, d) {
                var e = !g && (d || c !== j) || ((b = c).nodeType ? k(a, c, d) : l(a, c, d));
                return b = null ,
                e
            }
            ]; f > i; i++)
                if (c = d.relative[a[i].type])
                    m = [sb(tb(m), c)];
                else {
                    if (c = d.filter[a[i].type].apply(null , a[i].matches),
                    c[u]) {
                        for (e = ++i; f > e; e++)
                            if (d.relative[a[e].type])
                                break;
                        return wb(i > 1 && tb(m), i > 1 && rb(a.slice(0, i - 1).concat({
                            value: " " === a[i - 2].type ? "*" : ""
                        })).replace(R, "$1"), c, e > i && xb(a.slice(i, e)), f > e && xb(a = a.slice(e)), f > e && rb(a))
                    }
                    m.push(c)
                }
            return tb(m)
        }
        function yb(a, b) {
            var c = b.length > 0
              , e = a.length > 0
              , f = function(f, g, h, i, k) {
                var l, m, o, p = 0, q = "0", r = f && [], s = [], t = j, u = f || e && d.find.TAG("*", k), v = w += null  == t ? 1 : Math.random() || .1, x = u.length;
                for (k && (j = g !== n && g); q !== x && null  != (l = u[q]); q++) {
                    if (e && l) {
                        m = 0;
                        while (o = a[m++])
                            if (o(l, g, h)) {
                                i.push(l);
                                break
                            }
                        k && (w = v)
                    }
                    c && ((l = !o && l) && p--,
                    f && r.push(l))
                }
                if (p += q,
                c && q !== p) {
                    m = 0;
                    while (o = b[m++])
                        o(r, s, g, h);
                    if (f) {
                        if (p > 0)
                            while (q--)
                                r[q] || s[q] || (s[q] = F.call(i));
                        s = vb(s)
                    }
                    H.apply(i, s),
                    k && !f && s.length > 0 && p + b.length > 1 && gb.uniqueSort(i)
                }
                return k && (w = v,
                j = t),
                r
            }
            ;
            return c ? ib(f) : f
        }
        return h = gb.compile = function(a, b) {
            var c, d = [], e = [], f = A[a + " "];
            if (!f) {
                b || (b = g(a)),
                c = b.length;
                while (c--)
                    f = xb(b[c]),
                    f[u] ? d.push(f) : e.push(f);
                f = A(a, yb(e, d)),
                f.selector = a
            }
            return f
        }
        ,
        i = gb.select = function(a, b, e, f) {
            var i, j, k, l, m, n = "function" == typeof a && a, o = !f && g(a = n.selector || a);
            if (e = e || [],
            1 === o.length) {
                if (j = o[0] = o[0].slice(0),
                j.length > 2 && "ID" === (k = j[0]).type && c.getById && 9 === b.nodeType && p && d.relative[j[1].type]) {
                    if (b = (d.find.ID(k.matches[0].replace(cb, db), b) || [])[0],
                    !b)
                        return e;
                    n && (b = b.parentNode),
                    a = a.slice(j.shift().value.length)
                }
                i = X.needsContext.test(a) ? 0 : j.length;
                while (i--) {
                    if (k = j[i],
                    d.relative[l = k.type])
                        break;
                    if ((m = d.find[l]) && (f = m(k.matches[0].replace(cb, db), ab.test(j[0].type) && pb(b.parentNode) || b))) {
                        if (j.splice(i, 1),
                        a = f.length && rb(j),
                        !a)
                            return H.apply(e, f),
                            e;
                        break
                    }
                }
            }
            return (n || h(a, o))(f, b, !p, e, ab.test(a) && pb(b.parentNode) || b),
            e
        }
        ,
        c.sortStable = u.split("").sort(B).join("") === u,
        c.detectDuplicates = !!l,
        m(),
        c.sortDetached = jb(function(a) {
            return 1 & a.compareDocumentPosition(n.createElement("div"))
        }),
        jb(function(a) {
            return a.innerHTML = "<a href='#'></a>",
            "#" === a.firstChild.getAttribute("href")
        }) || kb("type|href|height|width", function(a, b, c) {
            return c ? void 0 : a.getAttribute(b, "type" === b.toLowerCase() ? 1 : 2)
        }),
        c.attributes && jb(function(a) {
            return a.innerHTML = "<input/>",
            a.firstChild.setAttribute("value", ""),
            "" === a.firstChild.getAttribute("value")
        }) || kb("value", function(a, b, c) {
            return c || "input" !== a.nodeName.toLowerCase() ? void 0 : a.defaultValue
        }),
        jb(function(a) {
            return null  == a.getAttribute("disabled")
        }) || kb(K, function(a, b, c) {
            var d;
            return c ? void 0 : a[b] === !0 ? b.toLowerCase() : (d = a.getAttributeNode(b)) && d.specified ? d.value : null 
        }),
        gb
    }(a);
    n.find = t,
    n.expr = t.selectors,
    n.expr[":"] = n.expr.pseudos,
    n.unique = t.uniqueSort,
    n.text = t.getText,
    n.isXMLDoc = t.isXML,
    n.contains = t.contains;
    var u = n.expr.match.needsContext
      , v = /^<(\w+)\s*\/?>(?:<\/\1>|)$/
      , w = /^.[^:#\[\.,]*$/;
    function x(a, b, c) {
        if (n.isFunction(b))
            return n.grep(a, function(a, d) {
                return !!b.call(a, d, a) !== c
            });
        if (b.nodeType)
            return n.grep(a, function(a) {
                return a === b !== c
            });
        if ("string" == typeof b) {
            if (w.test(b))
                return n.filter(b, a, c);
            b = n.filter(b, a)
        }
        return n.grep(a, function(a) {
            return g.call(b, a) >= 0 !== c
        })
    }
    n.filter = function(a, b, c) {
        var d = b[0];
        return c && (a = ":not(" + a + ")"),
        1 === b.length && 1 === d.nodeType ? n.find.matchesSelector(d, a) ? [d] : [] : n.find.matches(a, n.grep(b, function(a) {
            return 1 === a.nodeType
        }))
    }
    ,
    n.fn.extend({
        find: function(a) {
            var b, c = this.length, d = [], e = this;
            if ("string" != typeof a)
                return this.pushStack(n(a).filter(function() {
                    for (b = 0; c > b; b++)
                        if (n.contains(e[b], this))
                            return !0
                }));
            for (b = 0; c > b; b++)
                n.find(a, e[b], d);
            return d = this.pushStack(c > 1 ? n.unique(d) : d),
            d.selector = this.selector ? this.selector + " " + a : a,
            d
        },
        filter: function(a) {
            return this.pushStack(x(this, a || [], !1))
        },
        not: function(a) {
            return this.pushStack(x(this, a || [], !0))
        },
        is: function(a) {
            return !!x(this, "string" == typeof a && u.test(a) ? n(a) : a || [], !1).length
        }
    });
    var y, z = /^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/, A = n.fn.init = function(a, b) {
        var c, d;
        if (!a)
            return this;
        if ("string" == typeof a) {
            if (c = "<" === a[0] && ">" === a[a.length - 1] && a.length >= 3 ? [null , a, null ] : z.exec(a),
            !c || !c[1] && b)
                return !b || b.jquery ? (b || y).find(a) : this.constructor(b).find(a);
            if (c[1]) {
                if (b = b instanceof n ? b[0] : b,
                n.merge(this, n.parseHTML(c[1], b && b.nodeType ? b.ownerDocument || b : l, !0)),
                v.test(c[1]) && n.isPlainObject(b))
                    for (c in b)
                        n.isFunction(this[c]) ? this[c](b[c]) : this.attr(c, b[c]);
                return this
            }
            return d = l.getElementById(c[2]),
            d && d.parentNode && (this.length = 1,
            this[0] = d),
            this.context = l,
            this.selector = a,
            this
        }
        return a.nodeType ? (this.context = this[0] = a,
        this.length = 1,
        this) : n.isFunction(a) ? "undefined" != typeof y.ready ? y.ready(a) : a(n) : (void 0 !== a.selector && (this.selector = a.selector,
        this.context = a.context),
        n.makeArray(a, this))
    }
    ;
    A.prototype = n.fn,
    y = n(l);
    var B = /^(?:parents|prev(?:Until|All))/
      , C = {
        children: !0,
        contents: !0,
        next: !0,
        prev: !0
    };
    n.extend({
        dir: function(a, b, c) {
            var d = []
              , e = void 0 !== c;
            while ((a = a[b]) && 9 !== a.nodeType)
                if (1 === a.nodeType) {
                    if (e && n(a).is(c))
                        break;
                    d.push(a)
                }
            return d
        },
        sibling: function(a, b) {
            for (var c = []; a; a = a.nextSibling)
                1 === a.nodeType && a !== b && c.push(a);
            return c
        }
    }),
    n.fn.extend({
        has: function(a) {
            var b = n(a, this)
              , c = b.length;
            return this.filter(function() {
                for (var a = 0; c > a; a++)
                    if (n.contains(this, b[a]))
                        return !0
            })
        },
        closest: function(a, b) {
            for (var c, d = 0, e = this.length, f = [], g = u.test(a) || "string" != typeof a ? n(a, b || this.context) : 0; e > d; d++)
                for (c = this[d]; c && c !== b; c = c.parentNode)
                    if (c.nodeType < 11 && (g ? g.index(c) > -1 : 1 === c.nodeType && n.find.matchesSelector(c, a))) {
                        f.push(c);
                        break
                    }
            return this.pushStack(f.length > 1 ? n.unique(f) : f)
        },
        index: function(a) {
            return a ? "string" == typeof a ? g.call(n(a), this[0]) : g.call(this, a.jquery ? a[0] : a) : this[0] && this[0].parentNode ? this.first().prevAll().length : -1
        },
        add: function(a, b) {
            return this.pushStack(n.unique(n.merge(this.get(), n(a, b))))
        },
        addBack: function(a) {
            return this.add(null  == a ? this.prevObject : this.prevObject.filter(a))
        }
    });
    function D(a, b) {
        while ((a = a[b]) && 1 !== a.nodeType)
            ;
        return a
    }
    n.each({
        parent: function(a) {
            var b = a.parentNode;
            return b && 11 !== b.nodeType ? b : null 
        },
        parents: function(a) {
            return n.dir(a, "parentNode")
        },
        parentsUntil: function(a, b, c) {
            return n.dir(a, "parentNode", c)
        },
        next: function(a) {
            return D(a, "nextSibling")
        },
        prev: function(a) {
            return D(a, "previousSibling")
        },
        nextAll: function(a) {
            return n.dir(a, "nextSibling")
        },
        prevAll: function(a) {
            return n.dir(a, "previousSibling")
        },
        nextUntil: function(a, b, c) {
            return n.dir(a, "nextSibling", c)
        },
        prevUntil: function(a, b, c) {
            return n.dir(a, "previousSibling", c)
        },
        siblings: function(a) {
            return n.sibling((a.parentNode || {}).firstChild, a)
        },
        children: function(a) {
            return n.sibling(a.firstChild)
        },
        contents: function(a) {
            return a.contentDocument || n.merge([], a.childNodes)
        }
    }, function(a, b) {
        n.fn[a] = function(c, d) {
            var e = n.map(this, b, c);
            return "Until" !== a.slice(-5) && (d = c),
            d && "string" == typeof d && (e = n.filter(d, e)),
            this.length > 1 && (C[a] || n.unique(e),
            B.test(a) && e.reverse()),
            this.pushStack(e)
        }
    });
    var E = /\S+/g
      , F = {};
    function G(a) {
        var b = F[a] = {};
        return n.each(a.match(E) || [], function(a, c) {
            b[c] = !0
        }),
        b
    }
    n.Callbacks = function(a) {
        a = "string" == typeof a ? F[a] || G(a) : n.extend({}, a);
        var b, c, d, e, f, g, h = [], i = !a.once && [], j = function(l) {
            for (b = a.memory && l,
            c = !0,
            g = e || 0,
            e = 0,
            f = h.length,
            d = !0; h && f > g; g++)
                if (h[g].apply(l[0], l[1]) === !1 && a.stopOnFalse) {
                    b = !1;
                    break
                }
            d = !1,
            h && (i ? i.length && j(i.shift()) : b ? h = [] : k.disable())
        }
        , k = {
            add: function() {
                if (h) {
                    var c = h.length;
                    !function g(b) {
                        n.each(b, function(b, c) {
                            var d = n.type(c);
                            "function" === d ? a.unique && k.has(c) || h.push(c) : c && c.length && "string" !== d && g(c)
                        })
                    }(arguments),
                    d ? f = h.length : b && (e = c,
                    j(b))
                }
                return this
            },
            remove: function() {
                return h && n.each(arguments, function(a, b) {
                    var c;
                    while ((c = n.inArray(b, h, c)) > -1)
                        h.splice(c, 1),
                        d && (f >= c && f--,
                        g >= c && g--)
                }),
                this
            },
            has: function(a) {
                return a ? n.inArray(a, h) > -1 : !(!h || !h.length)
            },
            empty: function() {
                return h = [],
                f = 0,
                this
            },
            disable: function() {
                return h = i = b = void 0,
                this
            },
            disabled: function() {
                return !h
            },
            lock: function() {
                return i = void 0,
                b || k.disable(),
                this
            },
            locked: function() {
                return !i
            },
            fireWith: function(a, b) {
                return !h || c && !i || (b = b || [],
                b = [a, b.slice ? b.slice() : b],
                d ? i.push(b) : j(b)),
                this
            },
            fire: function() {
                return k.fireWith(this, arguments),
                this
            },
            fired: function() {
                return !!c
            }
        };
        return k
    }
    ,
    n.extend({
        Deferred: function(a) {
            var b = [["resolve", "done", n.Callbacks("once memory"), "resolved"], ["reject", "fail", n.Callbacks("once memory"), "rejected"], ["notify", "progress", n.Callbacks("memory")]]
              , c = "pending"
              , d = {
                state: function() {
                    return c
                },
                always: function() {
                    return e.done(arguments).fail(arguments),
                    this
                },
                then: function() {
                    var a = arguments;
                    return n.Deferred(function(c) {
                        n.each(b, function(b, f) {
                            var g = n.isFunction(a[b]) && a[b];
                            e[f[1]](function() {
                                var a = g && g.apply(this, arguments);
                                a && n.isFunction(a.promise) ? a.promise().done(c.resolve).fail(c.reject).progress(c.notify) : c[f[0] + "With"](this === d ? c.promise() : this, g ? [a] : arguments)
                            })
                        }),
                        a = null 
                    }).promise()
                },
                promise: function(a) {
                    return null  != a ? n.extend(a, d) : d
                }
            }
              , e = {};
            return d.pipe = d.then,
            n.each(b, function(a, f) {
                var g = f[2]
                  , h = f[3];
                d[f[1]] = g.add,
                h && g.add(function() {
                    c = h
                }, b[1 ^ a][2].disable, b[2][2].lock),
                e[f[0]] = function() {
                    return e[f[0] + "With"](this === e ? d : this, arguments),
                    this
                }
                ,
                e[f[0] + "With"] = g.fireWith
            }),
            d.promise(e),
            a && a.call(e, e),
            e
        },
        when: function(a) {
            var b = 0, c = d.call(arguments), e = c.length, f = 1 !== e || a && n.isFunction(a.promise) ? e : 0, g = 1 === f ? a : n.Deferred(), h = function(a, b, c) {
                return function(e) {
                    b[a] = this,
                    c[a] = arguments.length > 1 ? d.call(arguments) : e,
                    c === i ? g.notifyWith(b, c) : --f || g.resolveWith(b, c)
                }
            }
            , i, j, k;
            if (e > 1)
                for (i = new Array(e),
                j = new Array(e),
                k = new Array(e); e > b; b++)
                    c[b] && n.isFunction(c[b].promise) ? c[b].promise().done(h(b, k, c)).fail(g.reject).progress(h(b, j, i)) : --f;
            return f || g.resolveWith(k, c),
            g.promise()
        }
    });
    var H;
    n.fn.ready = function(a) {
        return n.ready.promise().done(a),
        this
    }
    ,
    n.extend({
        isReady: !1,
        readyWait: 1,
        holdReady: function(a) {
            a ? n.readyWait++ : n.ready(!0)
        },
        ready: function(a) {
            (a === !0 ? --n.readyWait : n.isReady) || (n.isReady = !0,
            a !== !0 && --n.readyWait > 0 || (H.resolveWith(l, [n]),
            n.fn.triggerHandler && (n(l).triggerHandler("ready"),
            n(l).off("ready"))))
        }
    });
    function I() {
        l.removeEventListener("DOMContentLoaded", I, !1),
        a.removeEventListener("load", I, !1),
        n.ready()
    }
    n.ready.promise = function(b) {
        return H || (H = n.Deferred(),
        "complete" === l.readyState ? setTimeout(n.ready) : (l.addEventListener("DOMContentLoaded", I, !1),
        a.addEventListener("load", I, !1))),
        H.promise(b)
    }
    ,
    n.ready.promise();
    var J = n.access = function(a, b, c, d, e, f, g) {
        var h = 0
          , i = a.length
          , j = null  == c;
        if ("object" === n.type(c)) {
            e = !0;
            for (h in c)
                n.access(a, b, h, c[h], !0, f, g)
        } else if (void 0 !== d && (e = !0,
        n.isFunction(d) || (g = !0),
        j && (g ? (b.call(a, d),
        b = null ) : (j = b,
        b = function(a, b, c) {
            return j.call(n(a), c)
        }
        )),
        b))
            for (; i > h; h++)
                b(a[h], c, g ? d : d.call(a[h], h, b(a[h], c)));
        return e ? a : j ? b.call(a) : i ? b(a[0], c) : f
    }
    ;
    n.acceptData = function(a) {
        return 1 === a.nodeType || 9 === a.nodeType || !+a.nodeType
    }
    ;
    function K() {
        Object.defineProperty(this.cache = {}, 0, {
            get: function() {
                return {}
            }
        }),
        this.expando = n.expando + K.uid++
    }
    K.uid = 1,
    K.accepts = n.acceptData,
    K.prototype = {
        key: function(a) {
            if (!K.accepts(a))
                return 0;
            var b = {}
              , c = a[this.expando];
            if (!c) {
                c = K.uid++;
                try {
                    b[this.expando] = {
                        value: c
                    },
                    Object.defineProperties(a, b)
                } catch (d) {
                    b[this.expando] = c,
                    n.extend(a, b)
                }
            }
            return this.cache[c] || (this.cache[c] = {}),
            c
        },
        set: function(a, b, c) {
            var d, e = this.key(a), f = this.cache[e];
            if ("string" == typeof b)
                f[b] = c;
            else if (n.isEmptyObject(f))
                n.extend(this.cache[e], b);
            else
                for (d in b)
                    f[d] = b[d];
            return f
        },
        get: function(a, b) {
            var c = this.cache[this.key(a)];
            return void 0 === b ? c : c[b]
        },
        access: function(a, b, c) {
            var d;
            return void 0 === b || b && "string" == typeof b && void 0 === c ? (d = this.get(a, b),
            void 0 !== d ? d : this.get(a, n.camelCase(b))) : (this.set(a, b, c),
            void 0 !== c ? c : b)
        },
        remove: function(a, b) {
            var c, d, e, f = this.key(a), g = this.cache[f];
            if (void 0 === b)
                this.cache[f] = {};
            else {
                n.isArray(b) ? d = b.concat(b.map(n.camelCase)) : (e = n.camelCase(b),
                b in g ? d = [b, e] : (d = e,
                d = d in g ? [d] : d.match(E) || [])),
                c = d.length;
                while (c--)
                    delete g[d[c]]
            }
        },
        hasData: function(a) {
            return !n.isEmptyObject(this.cache[a[this.expando]] || {})
        },
        discard: function(a) {
            a[this.expando] && delete this.cache[a[this.expando]]
        }
    };
    var L = new K
      , M = new K
      , N = /^(?:\{[\w\W]*\}|\[[\w\W]*\])$/
      , O = /([A-Z])/g;
    function P(a, b, c) {
        var d;
        if (void 0 === c && 1 === a.nodeType)
            if (d = "data-" + b.replace(O, "-$1").toLowerCase(),
            c = a.getAttribute(d),
            "string" == typeof c) {
                try {
                    c = "true" === c ? !0 : "false" === c ? !1 : "null" === c ? null  : +c + "" === c ? +c : N.test(c) ? n.parseJSON(c) : c
                } catch (e) {}
                M.set(a, b, c)
            } else
                c = void 0;
        return c
    }
    n.extend({
        hasData: function(a) {
            return M.hasData(a) || L.hasData(a)
        },
        data: function(a, b, c) {
            return M.access(a, b, c)
        },
        removeData: function(a, b) {
            M.remove(a, b)
        },
        _data: function(a, b, c) {
            return L.access(a, b, c)
        },
        _removeData: function(a, b) {
            L.remove(a, b)
        }
    }),
    n.fn.extend({
        data: function(a, b) {
            var c, d, e, f = this[0], g = f && f.attributes;
            if (void 0 === a) {
                if (this.length && (e = M.get(f),
                1 === f.nodeType && !L.get(f, "hasDataAttrs"))) {
                    c = g.length;
                    while (c--)
                        g[c] && (d = g[c].name,
                        0 === d.indexOf("data-") && (d = n.camelCase(d.slice(5)),
                        P(f, d, e[d])));
                    L.set(f, "hasDataAttrs", !0)
                }
                return e
            }
            return "object" == typeof a ? this.each(function() {
                M.set(this, a)
            }) : J(this, function(b) {
                var c, d = n.camelCase(a);
                if (f && void 0 === b) {
                    if (c = M.get(f, a),
                    void 0 !== c)
                        return c;
                    if (c = M.get(f, d),
                    void 0 !== c)
                        return c;
                    if (c = P(f, d, void 0),
                    void 0 !== c)
                        return c
                } else
                    this.each(function() {
                        var c = M.get(this, d);
                        M.set(this, d, b),
                        -1 !== a.indexOf("-") && void 0 !== c && M.set(this, a, b)
                    })
            }, null , b, arguments.length > 1, null , !0)
        },
        removeData: function(a) {
            return this.each(function() {
                M.remove(this, a)
            })
        }
    }),
    n.extend({
        queue: function(a, b, c) {
            var d;
            return a ? (b = (b || "fx") + "queue",
            d = L.get(a, b),
            c && (!d || n.isArray(c) ? d = L.access(a, b, n.makeArray(c)) : d.push(c)),
            d || []) : void 0
        },
        dequeue: function(a, b) {
            b = b || "fx";
            var c = n.queue(a, b)
              , d = c.length
              , e = c.shift()
              , f = n._queueHooks(a, b)
              , g = function() {
                n.dequeue(a, b)
            }
            ;
            "inprogress" === e && (e = c.shift(),
            d--),
            e && ("fx" === b && c.unshift("inprogress"),
            delete f.stop,
            e.call(a, g, f)),
            !d && f && f.empty.fire()
        },
        _queueHooks: function(a, b) {
            var c = b + "queueHooks";
            return L.get(a, c) || L.access(a, c, {
                empty: n.Callbacks("once memory").add(function() {
                    L.remove(a, [b + "queue", c])
                })
            })
        }
    }),
    n.fn.extend({
        queue: function(a, b) {
            var c = 2;
            return "string" != typeof a && (b = a,
            a = "fx",
            c--),
            arguments.length < c ? n.queue(this[0], a) : void 0 === b ? this : this.each(function() {
                var c = n.queue(this, a, b);
                n._queueHooks(this, a),
                "fx" === a && "inprogress" !== c[0] && n.dequeue(this, a)
            })
        },
        dequeue: function(a) {
            return this.each(function() {
                n.dequeue(this, a)
            })
        },
        clearQueue: function(a) {
            return this.queue(a || "fx", [])
        },
        promise: function(a, b) {
            var c, d = 1, e = n.Deferred(), f = this, g = this.length, h = function() {
                --d || e.resolveWith(f, [f])
            }
            ;
            "string" != typeof a && (b = a,
            a = void 0),
            a = a || "fx";
            while (g--)
                c = L.get(f[g], a + "queueHooks"),
                c && c.empty && (d++,
                c.empty.add(h));
            return h(),
            e.promise(b)
        }
    });
    var Q = /[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source
      , R = ["Top", "Right", "Bottom", "Left"]
      , S = function(a, b) {
        return a = b || a,
        "none" === n.css(a, "display") || !n.contains(a.ownerDocument, a)
    }
      , T = /^(?:checkbox|radio)$/i;
    !function() {
        var a = l.createDocumentFragment()
          , b = a.appendChild(l.createElement("div"))
          , c = l.createElement("input");
        c.setAttribute("type", "radio"),
        c.setAttribute("checked", "checked"),
        c.setAttribute("name", "t"),
        b.appendChild(c),
        k.checkClone = b.cloneNode(!0).cloneNode(!0).lastChild.checked,
        b.innerHTML = "<textarea>x</textarea>",
        k.noCloneChecked = !!b.cloneNode(!0).lastChild.defaultValue
    }();
    var U = "undefined";
    k.focusinBubbles = "onfocusin" in a;
    var V = /^key/
      , W = /^(?:mouse|pointer|contextmenu)|click/
      , X = /^(?:focusinfocus|focusoutblur)$/
      , Y = /^([^.]*)(?:\.(.+)|)$/;
    function Z() {
        return !0
    }
    function $() {
        return !1
    }
    function _() {
        try {
            return l.activeElement
        } catch (a) {}
    }
    n.event = {
        global: {},
        add: function(a, b, c, d, e) {
            var f, g, h, i, j, k, l, m, o, p, q, r = L.get(a);
            if (r) {
                c.handler && (f = c,
                c = f.handler,
                e = f.selector),
                c.guid || (c.guid = n.guid++),
                (i = r.events) || (i = r.events = {}),
                (g = r.handle) || (g = r.handle = function(b) {
                    return typeof n !== U && n.event.triggered !== b.type ? n.event.dispatch.apply(a, arguments) : void 0
                }
                ),
                b = (b || "").match(E) || [""],
                j = b.length;
                while (j--)
                    h = Y.exec(b[j]) || [],
                    o = q = h[1],
                    p = (h[2] || "").split(".").sort(),
                    o && (l = n.event.special[o] || {},
                    o = (e ? l.delegateType : l.bindType) || o,
                    l = n.event.special[o] || {},
                    k = n.extend({
                        type: o,
                        origType: q,
                        data: d,
                        handler: c,
                        guid: c.guid,
                        selector: e,
                        needsContext: e && n.expr.match.needsContext.test(e),
                        namespace: p.join(".")
                    }, f),
                    (m = i[o]) || (m = i[o] = [],
                    m.delegateCount = 0,
                    l.setup && l.setup.call(a, d, p, g) !== !1 || a.addEventListener && a.addEventListener(o, g, !1)),
                    l.add && (l.add.call(a, k),
                    k.handler.guid || (k.handler.guid = c.guid)),
                    e ? m.splice(m.delegateCount++, 0, k) : m.push(k),
                    n.event.global[o] = !0)
            }
        },
        remove: function(a, b, c, d, e) {
            var f, g, h, i, j, k, l, m, o, p, q, r = L.hasData(a) && L.get(a);
            if (r && (i = r.events)) {
                b = (b || "").match(E) || [""],
                j = b.length;
                while (j--)
                    if (h = Y.exec(b[j]) || [],
                    o = q = h[1],
                    p = (h[2] || "").split(".").sort(),
                    o) {
                        l = n.event.special[o] || {},
                        o = (d ? l.delegateType : l.bindType) || o,
                        m = i[o] || [],
                        h = h[2] && new RegExp("(^|\\.)" + p.join("\\.(?:.*\\.|)") + "(\\.|$)"),
                        g = f = m.length;
                        while (f--)
                            k = m[f],
                            !e && q !== k.origType || c && c.guid !== k.guid || h && !h.test(k.namespace) || d && d !== k.selector && ("**" !== d || !k.selector) || (m.splice(f, 1),
                            k.selector && m.delegateCount--,
                            l.remove && l.remove.call(a, k));
                        g && !m.length && (l.teardown && l.teardown.call(a, p, r.handle) !== !1 || n.removeEvent(a, o, r.handle),
                        delete i[o])
                    } else
                        for (o in i)
                            n.event.remove(a, o + b[j], c, d, !0);
                n.isEmptyObject(i) && (delete r.handle,
                L.remove(a, "events"))
            }
        },
        trigger: function(b, c, d, e) {
            var f, g, h, i, k, m, o, p = [d || l], q = j.call(b, "type") ? b.type : b, r = j.call(b, "namespace") ? b.namespace.split(".") : [];
            if (g = h = d = d || l,
            3 !== d.nodeType && 8 !== d.nodeType && !X.test(q + n.event.triggered) && (q.indexOf(".") >= 0 && (r = q.split("."),
            q = r.shift(),
            r.sort()),
            k = q.indexOf(":") < 0 && "on" + q,
            b = b[n.expando] ? b : new n.Event(q,"object" == typeof b && b),
            b.isTrigger = e ? 2 : 3,
            b.namespace = r.join("."),
            b.namespace_re = b.namespace ? new RegExp("(^|\\.)" + r.join("\\.(?:.*\\.|)") + "(\\.|$)") : null ,
            b.result = void 0,
            b.target || (b.target = d),
            c = null  == c ? [b] : n.makeArray(c, [b]),
            o = n.event.special[q] || {},
            e || !o.trigger || o.trigger.apply(d, c) !== !1)) {
                if (!e && !o.noBubble && !n.isWindow(d)) {
                    for (i = o.delegateType || q,
                    X.test(i + q) || (g = g.parentNode); g; g = g.parentNode)
                        p.push(g),
                        h = g;
                    h === (d.ownerDocument || l) && p.push(h.defaultView || h.parentWindow || a)
                }
                f = 0;
                while ((g = p[f++]) && !b.isPropagationStopped())
                    b.type = f > 1 ? i : o.bindType || q,
                    m = (L.get(g, "events") || {})[b.type] && L.get(g, "handle"),
                    m && m.apply(g, c),
                    m = k && g[k],
                    m && m.apply && n.acceptData(g) && (b.result = m.apply(g, c),
                    b.result === !1 && b.preventDefault());
                return b.type = q,
                e || b.isDefaultPrevented() || o._default && o._default.apply(p.pop(), c) !== !1 || !n.acceptData(d) || k && n.isFunction(d[q]) && !n.isWindow(d) && (h = d[k],
                h && (d[k] = null ),
                n.event.triggered = q,
                d[q](),
                n.event.triggered = void 0,
                h && (d[k] = h)),
                b.result
            }
        },
        dispatch: function(a) {
            a = n.event.fix(a);
            var b, c, e, f, g, h = [], i = d.call(arguments), j = (L.get(this, "events") || {})[a.type] || [], k = n.event.special[a.type] || {};
            if (i[0] = a,
            a.delegateTarget = this,
            !k.preDispatch || k.preDispatch.call(this, a) !== !1) {
                h = n.event.handlers.call(this, a, j),
                b = 0;
                while ((f = h[b++]) && !a.isPropagationStopped()) {
                    a.currentTarget = f.elem,
                    c = 0;
                    while ((g = f.handlers[c++]) && !a.isImmediatePropagationStopped())
                        (!a.namespace_re || a.namespace_re.test(g.namespace)) && (a.handleObj = g,
                        a.data = g.data,
                        e = ((n.event.special[g.origType] || {}).handle || g.handler).apply(f.elem, i),
                        void 0 !== e && (a.result = e) === !1 && (a.preventDefault(),
                        a.stopPropagation()))
                }
                return k.postDispatch && k.postDispatch.call(this, a),
                a.result
            }
        },
        handlers: function(a, b) {
            var c, d, e, f, g = [], h = b.delegateCount, i = a.target;
            if (h && i.nodeType && (!a.button || "click" !== a.type))
                for (; i !== this; i = i.parentNode || this)
                    if (i.disabled !== !0 || "click" !== a.type) {
                        for (d = [],
                        c = 0; h > c; c++)
                            f = b[c],
                            e = f.selector + " ",
                            void 0 === d[e] && (d[e] = f.needsContext ? n(e, this).index(i) >= 0 : n.find(e, this, null , [i]).length),
                            d[e] && d.push(f);
                        d.length && g.push({
                            elem: i,
                            handlers: d
                        })
                    }
            return h < b.length && g.push({
                elem: this,
                handlers: b.slice(h)
            }),
            g
        },
        props: "altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),
        fixHooks: {},
        keyHooks: {
            props: "char charCode key keyCode".split(" "),
            filter: function(a, b) {
                return null  == a.which && (a.which = null  != b.charCode ? b.charCode : b.keyCode),
                a
            }
        },
        mouseHooks: {
            props: "button buttons clientX clientY offsetX offsetY pageX pageY screenX screenY toElement".split(" "),
            filter: function(a, b) {
                var c, d, e, f = b.button;
                return null  == a.pageX && null  != b.clientX && (c = a.target.ownerDocument || l,
                d = c.documentElement,
                e = c.body,
                a.pageX = b.clientX + (d && d.scrollLeft || e && e.scrollLeft || 0) - (d && d.clientLeft || e && e.clientLeft || 0),
                a.pageY = b.clientY + (d && d.scrollTop || e && e.scrollTop || 0) - (d && d.clientTop || e && e.clientTop || 0)),
                a.which || void 0 === f || (a.which = 1 & f ? 1 : 2 & f ? 3 : 4 & f ? 2 : 0),
                a
            }
        },
        fix: function(a) {
            if (a[n.expando])
                return a;
            var b, c, d, e = a.type, f = a, g = this.fixHooks[e];
            g || (this.fixHooks[e] = g = W.test(e) ? this.mouseHooks : V.test(e) ? this.keyHooks : {}),
            d = g.props ? this.props.concat(g.props) : this.props,
            a = new n.Event(f),
            b = d.length;
            while (b--)
                c = d[b],
                a[c] = f[c];
            return a.target || (a.target = l),
            3 === a.target.nodeType && (a.target = a.target.parentNode),
            g.filter ? g.filter(a, f) : a
        },
        special: {
            load: {
                noBubble: !0
            },
            focus: {
                trigger: function() {
                    return this !== _() && this.focus ? (this.focus(),
                    !1) : void 0
                },
                delegateType: "focusin"
            },
            blur: {
                trigger: function() {
                    return this === _() && this.blur ? (this.blur(),
                    !1) : void 0
                },
                delegateType: "focusout"
            },
            click: {
                trigger: function() {
                    return "checkbox" === this.type && this.click && n.nodeName(this, "input") ? (this.click(),
                    !1) : void 0
                },
                _default: function(a) {
                    return n.nodeName(a.target, "a")
                }
            },
            beforeunload: {
                postDispatch: function(a) {
                    void 0 !== a.result && a.originalEvent && (a.originalEvent.returnValue = a.result)
                }
            }
        },
        simulate: function(a, b, c, d) {
            var e = n.extend(new n.Event, c, {
                type: a,
                isSimulated: !0,
                originalEvent: {}
            });
            d ? n.event.trigger(e, null , b) : n.event.dispatch.call(b, e),
            e.isDefaultPrevented() && c.preventDefault()
        }
    },
    n.removeEvent = function(a, b, c) {
        a.removeEventListener && a.removeEventListener(b, c, !1)
    }
    ,
    n.Event = function(a, b) {
        return this instanceof n.Event ? (a && a.type ? (this.originalEvent = a,
        this.type = a.type,
        this.isDefaultPrevented = a.defaultPrevented || void 0 === a.defaultPrevented && a.returnValue === !1 ? Z : $) : this.type = a,
        b && n.extend(this, b),
        this.timeStamp = a && a.timeStamp || n.now(),
        void (this[n.expando] = !0)) : new n.Event(a,b)
    }
    ,
    n.Event.prototype = {
        isDefaultPrevented: $,
        isPropagationStopped: $,
        isImmediatePropagationStopped: $,
        preventDefault: function() {
            var a = this.originalEvent;
            this.isDefaultPrevented = Z,
            a && a.preventDefault && a.preventDefault()
        },
        stopPropagation: function() {
            var a = this.originalEvent;
            this.isPropagationStopped = Z,
            a && a.stopPropagation && a.stopPropagation()
        },
        stopImmediatePropagation: function() {
            var a = this.originalEvent;
            this.isImmediatePropagationStopped = Z,
            a && a.stopImmediatePropagation && a.stopImmediatePropagation(),
            this.stopPropagation()
        }
    },
    n.each({
        mouseenter: "mouseover",
        mouseleave: "mouseout",
        pointerenter: "pointerover",
        pointerleave: "pointerout"
    }, function(a, b) {
        n.event.special[a] = {
            delegateType: b,
            bindType: b,
            handle: function(a) {
                var c, d = this, e = a.relatedTarget, f = a.handleObj;
                return (!e || e !== d && !n.contains(d, e)) && (a.type = f.origType,
                c = f.handler.apply(this, arguments),
                a.type = b),
                c
            }
        }
    }),
    k.focusinBubbles || n.each({
        focus: "focusin",
        blur: "focusout"
    }, function(a, b) {
        var c = function(a) {
            n.event.simulate(b, a.target, n.event.fix(a), !0)
        }
        ;
        n.event.special[b] = {
            setup: function() {
                var d = this.ownerDocument || this
                  , e = L.access(d, b);
                e || d.addEventListener(a, c, !0),
                L.access(d, b, (e || 0) + 1)
            },
            teardown: function() {
                var d = this.ownerDocument || this
                  , e = L.access(d, b) - 1;
                e ? L.access(d, b, e) : (d.removeEventListener(a, c, !0),
                L.remove(d, b))
            }
        }
    }),
    n.fn.extend({
        on: function(a, b, c, d, e) {
            var f, g;
            if ("object" == typeof a) {
                "string" != typeof b && (c = c || b,
                b = void 0);
                for (g in a)
                    this.on(g, b, c, a[g], e);
                return this
            }
            if (null  == c && null  == d ? (d = b,
            c = b = void 0) : null  == d && ("string" == typeof b ? (d = c,
            c = void 0) : (d = c,
            c = b,
            b = void 0)),
            d === !1)
                d = $;
            else if (!d)
                return this;
            return 1 === e && (f = d,
            d = function(a) {
                return n().off(a),
                f.apply(this, arguments)
            }
            ,
            d.guid = f.guid || (f.guid = n.guid++)),
            this.each(function() {
                n.event.add(this, a, d, c, b)
            })
        },
        one: function(a, b, c, d) {
            return this.on(a, b, c, d, 1)
        },
        off: function(a, b, c) {
            var d, e;
            if (a && a.preventDefault && a.handleObj)
                return d = a.handleObj,
                n(a.delegateTarget).off(d.namespace ? d.origType + "." + d.namespace : d.origType, d.selector, d.handler),
                this;
            if ("object" == typeof a) {
                for (e in a)
                    this.off(e, b, a[e]);
                return this
            }
            return (b === !1 || "function" == typeof b) && (c = b,
            b = void 0),
            c === !1 && (c = $),
            this.each(function() {
                n.event.remove(this, a, c, b)
            })
        },
        trigger: function(a, b) {
            return this.each(function() {
                n.event.trigger(a, b, this)
            })
        },
        triggerHandler: function(a, b) {
            var c = this[0];
            return c ? n.event.trigger(a, b, c, !0) : void 0
        }
    });
    var ab = /<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi
      , bb = /<([\w:]+)/
      , cb = /<|&#?\w+;/
      , db = /<(?:script|style|link)/i
      , eb = /checked\s*(?:[^=]|=\s*.checked.)/i
      , fb = /^$|\/(?:java|ecma)script/i
      , gb = /^true\/(.*)/
      , hb = /^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g
      , ib = {
        option: [1, "<select multiple='multiple'>", "</select>"],
        thead: [1, "<table>", "</table>"],
        col: [2, "<table><colgroup>", "</colgroup></table>"],
        tr: [2, "<table><tbody>", "</tbody></table>"],
        td: [3, "<table><tbody><tr>", "</tr></tbody></table>"],
        _default: [0, "", ""]
    };
    ib.optgroup = ib.option,
    ib.tbody = ib.tfoot = ib.colgroup = ib.caption = ib.thead,
    ib.th = ib.td;
    function jb(a, b) {
        return n.nodeName(a, "table") && n.nodeName(11 !== b.nodeType ? b : b.firstChild, "tr") ? a.getElementsByTagName("tbody")[0] || a.appendChild(a.ownerDocument.createElement("tbody")) : a
    }
    function kb(a) {
        return a.type = (null  !== a.getAttribute("type")) + "/" + a.type,
        a
    }
    function lb(a) {
        var b = gb.exec(a.type);
        return b ? a.type = b[1] : a.removeAttribute("type"),
        a
    }
    function mb(a, b) {
        for (var c = 0, d = a.length; d > c; c++)
            L.set(a[c], "globalEval", !b || L.get(b[c], "globalEval"))
    }
    function nb(a, b) {
        var c, d, e, f, g, h, i, j;
        if (1 === b.nodeType) {
            if (L.hasData(a) && (f = L.access(a),
            g = L.set(b, f),
            j = f.events)) {
                delete g.handle,
                g.events = {};
                for (e in j)
                    for (c = 0,
                    d = j[e].length; d > c; c++)
                        n.event.add(b, e, j[e][c])
            }
            M.hasData(a) && (h = M.access(a),
            i = n.extend({}, h),
            M.set(b, i))
        }
    }
    function ob(a, b) {
        var c = a.getElementsByTagName ? a.getElementsByTagName(b || "*") : a.querySelectorAll ? a.querySelectorAll(b || "*") : [];
        return void 0 === b || b && n.nodeName(a, b) ? n.merge([a], c) : c
    }
    function pb(a, b) {
        var c = b.nodeName.toLowerCase();
        "input" === c && T.test(a.type) ? b.checked = a.checked : ("input" === c || "textarea" === c) && (b.defaultValue = a.defaultValue)
    }
    n.extend({
        clone: function(a, b, c) {
            var d, e, f, g, h = a.cloneNode(!0), i = n.contains(a.ownerDocument, a);
            if (!(k.noCloneChecked || 1 !== a.nodeType && 11 !== a.nodeType || n.isXMLDoc(a)))
                for (g = ob(h),
                f = ob(a),
                d = 0,
                e = f.length; e > d; d++)
                    pb(f[d], g[d]);
            if (b)
                if (c)
                    for (f = f || ob(a),
                    g = g || ob(h),
                    d = 0,
                    e = f.length; e > d; d++)
                        nb(f[d], g[d]);
                else
                    nb(a, h);
            return g = ob(h, "script"),
            g.length > 0 && mb(g, !i && ob(a, "script")),
            h
        },
        buildFragment: function(a, b, c, d) {
            for (var e, f, g, h, i, j, k = b.createDocumentFragment(), l = [], m = 0, o = a.length; o > m; m++)
                if (e = a[m],
                e || 0 === e)
                    if ("object" === n.type(e))
                        n.merge(l, e.nodeType ? [e] : e);
                    else if (cb.test(e)) {
                        f = f || k.appendChild(b.createElement("div")),
                        g = (bb.exec(e) || ["", ""])[1].toLowerCase(),
                        h = ib[g] || ib._default,
                        f.innerHTML = h[1] + e.replace(ab, "<$1></$2>") + h[2],
                        j = h[0];
                        while (j--)
                            f = f.lastChild;
                        n.merge(l, f.childNodes),
                        f = k.firstChild,
                        f.textContent = ""
                    } else
                        l.push(b.createTextNode(e));
            k.textContent = "",
            m = 0;
            while (e = l[m++])
                if ((!d || -1 === n.inArray(e, d)) && (i = n.contains(e.ownerDocument, e),
                f = ob(k.appendChild(e), "script"),
                i && mb(f),
                c)) {
                    j = 0;
                    while (e = f[j++])
                        fb.test(e.type || "") && c.push(e)
                }
            return k
        },
        cleanData: function(a) {
            for (var b, c, d, e, f = n.event.special, g = 0; void 0 !== (c = a[g]); g++) {
                if (n.acceptData(c) && (e = c[L.expando],
                e && (b = L.cache[e]))) {
                    if (b.events)
                        for (d in b.events)
                            f[d] ? n.event.remove(c, d) : n.removeEvent(c, d, b.handle);
                    L.cache[e] && delete L.cache[e]
                }
                delete M.cache[c[M.expando]]
            }
        }
    }),
    n.fn.extend({
        text: function(a) {
            return J(this, function(a) {
                return void 0 === a ? n.text(this) : this.empty().each(function() {
                    (1 === this.nodeType || 11 === this.nodeType || 9 === this.nodeType) && (this.textContent = a)
                })
            }, null , a, arguments.length)
        },
        append: function() {
            return this.domManip(arguments, function(a) {
                if (1 === this.nodeType || 11 === this.nodeType || 9 === this.nodeType) {
                    var b = jb(this, a);
                    b.appendChild(a)
                }
            })
        },
        prepend: function() {
            return this.domManip(arguments, function(a) {
                if (1 === this.nodeType || 11 === this.nodeType || 9 === this.nodeType) {
                    var b = jb(this, a);
                    b.insertBefore(a, b.firstChild)
                }
            })
        },
        before: function() {
            return this.domManip(arguments, function(a) {
                this.parentNode && this.parentNode.insertBefore(a, this)
            })
        },
        after: function() {
            return this.domManip(arguments, function(a) {
                this.parentNode && this.parentNode.insertBefore(a, this.nextSibling)
            })
        },
        remove: function(a, b) {
            for (var c, d = a ? n.filter(a, this) : this, e = 0; null  != (c = d[e]); e++)
                b || 1 !== c.nodeType || n.cleanData(ob(c)),
                c.parentNode && (b && n.contains(c.ownerDocument, c) && mb(ob(c, "script")),
                c.parentNode.removeChild(c));
            return this
        },
        empty: function() {
            for (var a, b = 0; null  != (a = this[b]); b++)
                1 === a.nodeType && (n.cleanData(ob(a, !1)),
                a.textContent = "");
            return this
        },
        clone: function(a, b) {
            return a = null  == a ? !1 : a,
            b = null  == b ? a : b,
            this.map(function() {
                return n.clone(this, a, b)
            })
        },
        html: function(a) {
            return J(this, function(a) {
                var b = this[0] || {}
                  , c = 0
                  , d = this.length;
                if (void 0 === a && 1 === b.nodeType)
                    return b.innerHTML;
                if ("string" == typeof a && !db.test(a) && !ib[(bb.exec(a) || ["", ""])[1].toLowerCase()]) {
                    a = a.replace(ab, "<$1></$2>");
                    try {
                        for (; d > c; c++)
                            b = this[c] || {},
                            1 === b.nodeType && (n.cleanData(ob(b, !1)),
                            b.innerHTML = a);
                        b = 0
                    } catch (e) {}
                }
                b && this.empty().append(a)
            }, null , a, arguments.length)
        },
        replaceWith: function() {
            var a = arguments[0];
            return this.domManip(arguments, function(b) {
                a = this.parentNode,
                n.cleanData(ob(this)),
                a && a.replaceChild(b, this)
            }),
            a && (a.length || a.nodeType) ? this : this.remove()
        },
        detach: function(a) {
            return this.remove(a, !0)
        },
        domManip: function(a, b) {
            a = e.apply([], a);
            var c, d, f, g, h, i, j = 0, l = this.length, m = this, o = l - 1, p = a[0], q = n.isFunction(p);
            if (q || l > 1 && "string" == typeof p && !k.checkClone && eb.test(p))
                return this.each(function(c) {
                    var d = m.eq(c);
                    q && (a[0] = p.call(this, c, d.html())),
                    d.domManip(a, b)
                });
            if (l && (c = n.buildFragment(a, this[0].ownerDocument, !1, this),
            d = c.firstChild,
            1 === c.childNodes.length && (c = d),
            d)) {
                for (f = n.map(ob(c, "script"), kb),
                g = f.length; l > j; j++)
                    h = c,
                    j !== o && (h = n.clone(h, !0, !0),
                    g && n.merge(f, ob(h, "script"))),
                    b.call(this[j], h, j);
                if (g)
                    for (i = f[f.length - 1].ownerDocument,
                    n.map(f, lb),
                    j = 0; g > j; j++)
                        h = f[j],
                        fb.test(h.type || "") && !L.access(h, "globalEval") && n.contains(i, h) && (h.src ? n._evalUrl && n._evalUrl(h.src) : n.globalEval(h.textContent.replace(hb, "")))
            }
            return this
        }
    }),
    n.each({
        appendTo: "append",
        prependTo: "prepend",
        insertBefore: "before",
        insertAfter: "after",
        replaceAll: "replaceWith"
    }, function(a, b) {
        n.fn[a] = function(a) {
            for (var c, d = [], e = n(a), g = e.length - 1, h = 0; g >= h; h++)
                c = h === g ? this : this.clone(!0),
                n(e[h])[b](c),
                f.apply(d, c.get());
            return this.pushStack(d)
        }
    });
    var qb, rb = {};
    function sb(b, c) {
        var d, e = n(c.createElement(b)).appendTo(c.body), f = a.getDefaultComputedStyle && (d = a.getDefaultComputedStyle(e[0])) ? d.display : n.css(e[0], "display");
        return e.detach(),
        f
    }
    function tb(a) {
        var b = l
          , c = rb[a];
        return c || (c = sb(a, b),
        "none" !== c && c || (qb = (qb || n("<iframe frameborder='0' width='0' height='0'/>")).appendTo(b.documentElement),
        b = qb[0].contentDocument,
        b.write(),
        b.close(),
        c = sb(a, b),
        qb.detach()),
        rb[a] = c),
        c
    }
    var ub = /^margin/
      , vb = new RegExp("^(" + Q + ")(?!px)[a-z%]+$","i")
      , wb = function(b) {
        return b.ownerDocument.defaultView.opener ? b.ownerDocument.defaultView.getComputedStyle(b, null ) : a.getComputedStyle(b, null )
    }
    ;
    function xb(a, b, c) {
        var d, e, f, g, h = a.style;
        return c = c || wb(a),
        c && (g = c.getPropertyValue(b) || c[b]),
        c && ("" !== g || n.contains(a.ownerDocument, a) || (g = n.style(a, b)),
        vb.test(g) && ub.test(b) && (d = h.width,
        e = h.minWidth,
        f = h.maxWidth,
        h.minWidth = h.maxWidth = h.width = g,
        g = c.width,
        h.width = d,
        h.minWidth = e,
        h.maxWidth = f)),
        void 0 !== g ? g + "" : g
    }
    function yb(a, b) {
        return {
            get: function() {
                return a() ? void delete this.get : (this.get = b).apply(this, arguments)
            }
        }
    }
    !function() {
        var b, c, d = l.documentElement, e = l.createElement("div"), f = l.createElement("div");
        if (f.style) {
            f.style.backgroundClip = "content-box",
            f.cloneNode(!0).style.backgroundClip = "",
            k.clearCloneStyle = "content-box" === f.style.backgroundClip,
            e.style.cssText = "border:0;width:0;height:0;top:0;left:-9999px;margin-top:1px;position:absolute",
            e.appendChild(f);
            function g() {
                f.style.cssText = "-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;display:block;margin-top:1%;top:1%;border:1px;padding:1px;width:4px;position:absolute",
                f.innerHTML = "",
                d.appendChild(e);
                var g = a.getComputedStyle(f, null );
                b = "1%" !== g.top,
                c = "4px" === g.width,
                d.removeChild(e)
            }
            a.getComputedStyle && n.extend(k, {
                pixelPosition: function() {
                    return g(),
                    b
                },
                boxSizingReliable: function() {
                    return null  == c && g(),
                    c
                },
                reliableMarginRight: function() {
                    var b, c = f.appendChild(l.createElement("div"));
                    return c.style.cssText = f.style.cssText = "-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",
                    c.style.marginRight = c.style.width = "0",
                    f.style.width = "1px",
                    d.appendChild(e),
                    b = !parseFloat(a.getComputedStyle(c, null ).marginRight),
                    d.removeChild(e),
                    f.removeChild(c),
                    b
                }
            })
        }
    }(),
    n.swap = function(a, b, c, d) {
        var e, f, g = {};
        for (f in b)
            g[f] = a.style[f],
            a.style[f] = b[f];
        e = c.apply(a, d || []);
        for (f in b)
            a.style[f] = g[f];
        return e
    }
    ;
    var zb = /^(none|table(?!-c[ea]).+)/
      , Ab = new RegExp("^(" + Q + ")(.*)$","i")
      , Bb = new RegExp("^([+-])=(" + Q + ")","i")
      , Cb = {
        position: "absolute",
        visibility: "hidden",
        display: "block"
    }
      , Db = {
        letterSpacing: "0",
        fontWeight: "400"
    }
      , Eb = ["Webkit", "O", "Moz", "ms"];
    function Fb(a, b) {
        if (b in a)
            return b;
        var c = b[0].toUpperCase() + b.slice(1)
          , d = b
          , e = Eb.length;
        while (e--)
            if (b = Eb[e] + c,
            b in a)
                return b;
        return d
    }
    function Gb(a, b, c) {
        var d = Ab.exec(b);
        return d ? Math.max(0, d[1] - (c || 0)) + (d[2] || "px") : b
    }
    function Hb(a, b, c, d, e) {
        for (var f = c === (d ? "border" : "content") ? 4 : "width" === b ? 1 : 0, g = 0; 4 > f; f += 2)
            "margin" === c && (g += n.css(a, c + R[f], !0, e)),
            d ? ("content" === c && (g -= n.css(a, "padding" + R[f], !0, e)),
            "margin" !== c && (g -= n.css(a, "border" + R[f] + "Width", !0, e))) : (g += n.css(a, "padding" + R[f], !0, e),
            "padding" !== c && (g += n.css(a, "border" + R[f] + "Width", !0, e)));
        return g
    }
    function Ib(a, b, c) {
        var d = !0
          , e = "width" === b ? a.offsetWidth : a.offsetHeight
          , f = wb(a)
          , g = "border-box" === n.css(a, "boxSizing", !1, f);
        if (0 >= e || null  == e) {
            if (e = xb(a, b, f),
            (0 > e || null  == e) && (e = a.style[b]),
            vb.test(e))
                return e;
            d = g && (k.boxSizingReliable() || e === a.style[b]),
            e = parseFloat(e) || 0
        }
        return e + Hb(a, b, c || (g ? "border" : "content"), d, f) + "px"
    }
    function Jb(a, b) {
        for (var c, d, e, f = [], g = 0, h = a.length; h > g; g++)
            d = a[g],
            d.style && (f[g] = L.get(d, "olddisplay"),
            c = d.style.display,
            b ? (f[g] || "none" !== c || (d.style.display = ""),
            "" === d.style.display && S(d) && (f[g] = L.access(d, "olddisplay", tb(d.nodeName)))) : (e = S(d),
            "none" === c && e || L.set(d, "olddisplay", e ? c : n.css(d, "display"))));
        for (g = 0; h > g; g++)
            d = a[g],
            d.style && (b && "none" !== d.style.display && "" !== d.style.display || (d.style.display = b ? f[g] || "" : "none"));
        return a
    }
    n.extend({
        cssHooks: {
            opacity: {
                get: function(a, b) {
                    if (b) {
                        var c = xb(a, "opacity");
                        return "" === c ? "1" : c
                    }
                }
            }
        },
        cssNumber: {
            columnCount: !0,
            fillOpacity: !0,
            flexGrow: !0,
            flexShrink: !0,
            fontWeight: !0,
            lineHeight: !0,
            opacity: !0,
            order: !0,
            orphans: !0,
            widows: !0,
            zIndex: !0,
            zoom: !0
        },
        cssProps: {
            "float": "cssFloat"
        },
        style: function(a, b, c, d) {
            if (a && 3 !== a.nodeType && 8 !== a.nodeType && a.style) {
                var e, f, g, h = n.camelCase(b), i = a.style;
                return b = n.cssProps[h] || (n.cssProps[h] = Fb(i, h)),
                g = n.cssHooks[b] || n.cssHooks[h],
                void 0 === c ? g && "get" in g && void 0 !== (e = g.get(a, !1, d)) ? e : i[b] : (f = typeof c,
                "string" === f && (e = Bb.exec(c)) && (c = (e[1] + 1) * e[2] + parseFloat(n.css(a, b)),
                f = "number"),
                null  != c && c === c && ("number" !== f || n.cssNumber[h] || (c += "px"),
                k.clearCloneStyle || "" !== c || 0 !== b.indexOf("background") || (i[b] = "inherit"),
                g && "set" in g && void 0 === (c = g.set(a, c, d)) || (i[b] = c)),
                void 0)
            }
        },
        css: function(a, b, c, d) {
            var e, f, g, h = n.camelCase(b);
            return b = n.cssProps[h] || (n.cssProps[h] = Fb(a.style, h)),
            g = n.cssHooks[b] || n.cssHooks[h],
            g && "get" in g && (e = g.get(a, !0, c)),
            void 0 === e && (e = xb(a, b, d)),
            "normal" === e && b in Db && (e = Db[b]),
            "" === c || c ? (f = parseFloat(e),
            c === !0 || n.isNumeric(f) ? f || 0 : e) : e
        }
    }),
    n.each(["height", "width"], function(a, b) {
        n.cssHooks[b] = {
            get: function(a, c, d) {
                return c ? zb.test(n.css(a, "display")) && 0 === a.offsetWidth ? n.swap(a, Cb, function() {
                    return Ib(a, b, d)
                }) : Ib(a, b, d) : void 0
            },
            set: function(a, c, d) {
                var e = d && wb(a);
                return Gb(a, c, d ? Hb(a, b, d, "border-box" === n.css(a, "boxSizing", !1, e), e) : 0)
            }
        }
    }),
    n.cssHooks.marginRight = yb(k.reliableMarginRight, function(a, b) {
        return b ? n.swap(a, {
            display: "inline-block"
        }, xb, [a, "marginRight"]) : void 0
    }),
    n.each({
        margin: "",
        padding: "",
        border: "Width"
    }, function(a, b) {
        n.cssHooks[a + b] = {
            expand: function(c) {
                for (var d = 0, e = {}, f = "string" == typeof c ? c.split(" ") : [c]; 4 > d; d++)
                    e[a + R[d] + b] = f[d] || f[d - 2] || f[0];
                return e
            }
        },
        ub.test(a) || (n.cssHooks[a + b].set = Gb)
    }),
    n.fn.extend({
        css: function(a, b) {
            return J(this, function(a, b, c) {
                var d, e, f = {}, g = 0;
                if (n.isArray(b)) {
                    for (d = wb(a),
                    e = b.length; e > g; g++)
                        f[b[g]] = n.css(a, b[g], !1, d);
                    return f
                }
                return void 0 !== c ? n.style(a, b, c) : n.css(a, b)
            }, a, b, arguments.length > 1)
        },
        show: function() {
            return Jb(this, !0)
        },
        hide: function() {
            return Jb(this)
        },
        toggle: function(a) {
            return "boolean" == typeof a ? a ? this.show() : this.hide() : this.each(function() {
                S(this) ? n(this).show() : n(this).hide()
            })
        }
    });
    function Kb(a, b, c, d, e) {
        return new Kb.prototype.init(a,b,c,d,e)
    }
    n.Tween = Kb,
    Kb.prototype = {
        constructor: Kb,
        init: function(a, b, c, d, e, f) {
            this.elem = a,
            this.prop = c,
            this.easing = e || "swing",
            this.options = b,
            this.start = this.now = this.cur(),
            this.end = d,
            this.unit = f || (n.cssNumber[c] ? "" : "px")
        },
        cur: function() {
            var a = Kb.propHooks[this.prop];
            return a && a.get ? a.get(this) : Kb.propHooks._default.get(this)
        },
        run: function(a) {
            var b, c = Kb.propHooks[this.prop];
            return this.pos = b = this.options.duration ? n.easing[this.easing](a, this.options.duration * a, 0, 1, this.options.duration) : a,
            this.now = (this.end - this.start) * b + this.start,
            this.options.step && this.options.step.call(this.elem, this.now, this),
            c && c.set ? c.set(this) : Kb.propHooks._default.set(this),
            this
        }
    },
    Kb.prototype.init.prototype = Kb.prototype,
    Kb.propHooks = {
        _default: {
            get: function(a) {
                var b;
                return null  == a.elem[a.prop] || a.elem.style && null  != a.elem.style[a.prop] ? (b = n.css(a.elem, a.prop, ""),
                b && "auto" !== b ? b : 0) : a.elem[a.prop]
            },
            set: function(a) {
                n.fx.step[a.prop] ? n.fx.step[a.prop](a) : a.elem.style && (null  != a.elem.style[n.cssProps[a.prop]] || n.cssHooks[a.prop]) ? n.style(a.elem, a.prop, a.now + a.unit) : a.elem[a.prop] = a.now
            }
        }
    },
    Kb.propHooks.scrollTop = Kb.propHooks.scrollLeft = {
        set: function(a) {
            a.elem.nodeType && a.elem.parentNode && (a.elem[a.prop] = a.now)
        }
    },
    n.easing = {
        linear: function(a) {
            return a
        },
        swing: function(a) {
            return .5 - Math.cos(a * Math.PI) / 2
        }
    },
    n.fx = Kb.prototype.init,
    n.fx.step = {};
    var Lb, Mb, Nb = /^(?:toggle|show|hide)$/, Ob = new RegExp("^(?:([+-])=|)(" + Q + ")([a-z%]*)$","i"), Pb = /queueHooks$/, Qb = [Vb], Rb = {
        "*": [function(a, b) {
            var c = this.createTween(a, b)
              , d = c.cur()
              , e = Ob.exec(b)
              , f = e && e[3] || (n.cssNumber[a] ? "" : "px")
              , g = (n.cssNumber[a] || "px" !== f && +d) && Ob.exec(n.css(c.elem, a))
              , h = 1
              , i = 20;
            if (g && g[3] !== f) {
                f = f || g[3],
                e = e || [],
                g = +d || 1;
                do
                    h = h || ".5",
                    g /= h,
                    n.style(c.elem, a, g + f);
                while (h !== (h = c.cur() / d) && 1 !== h && --i)
            }
            return e && (g = c.start = +g || +d || 0,
            c.unit = f,
            c.end = e[1] ? g + (e[1] + 1) * e[2] : +e[2]),
            c
        }
        ]
    };
    function Sb() {
        return setTimeout(function() {
            Lb = void 0
        }),
        Lb = n.now()
    }
    function Tb(a, b) {
        var c, d = 0, e = {
            height: a
        };
        for (b = b ? 1 : 0; 4 > d; d += 2 - b)
            c = R[d],
            e["margin" + c] = e["padding" + c] = a;
        return b && (e.opacity = e.width = a),
        e
    }
    function Ub(a, b, c) {
        for (var d, e = (Rb[b] || []).concat(Rb["*"]), f = 0, g = e.length; g > f; f++)
            if (d = e[f].call(c, b, a))
                return d
    }
    function Vb(a, b, c) {
        var d, e, f, g, h, i, j, k, l = this, m = {}, o = a.style, p = a.nodeType && S(a), q = L.get(a, "fxshow");
        c.queue || (h = n._queueHooks(a, "fx"),
        null  == h.unqueued && (h.unqueued = 0,
        i = h.empty.fire,
        h.empty.fire = function() {
            h.unqueued || i()
        }
        ),
        h.unqueued++,
        l.always(function() {
            l.always(function() {
                h.unqueued--,
                n.queue(a, "fx").length || h.empty.fire()
            })
        })),
        1 === a.nodeType && ("height" in b || "width" in b) && (c.overflow = [o.overflow, o.overflowX, o.overflowY],
        j = n.css(a, "display"),
        k = "none" === j ? L.get(a, "olddisplay") || tb(a.nodeName) : j,
        "inline" === k && "none" === n.css(a, "float") && (o.display = "inline-block")),
        c.overflow && (o.overflow = "hidden",
        l.always(function() {
            o.overflow = c.overflow[0],
            o.overflowX = c.overflow[1],
            o.overflowY = c.overflow[2]
        }));
        for (d in b)
            if (e = b[d],
            Nb.exec(e)) {
                if (delete b[d],
                f = f || "toggle" === e,
                e === (p ? "hide" : "show")) {
                    if ("show" !== e || !q || void 0 === q[d])
                        continue;p = !0
                }
                m[d] = q && q[d] || n.style(a, d)
            } else
                j = void 0;
        if (n.isEmptyObject(m))
            "inline" === ("none" === j ? tb(a.nodeName) : j) && (o.display = j);
        else {
            q ? "hidden" in q && (p = q.hidden) : q = L.access(a, "fxshow", {}),
            f && (q.hidden = !p),
            p ? n(a).show() : l.done(function() {
                n(a).hide()
            }),
            l.done(function() {
                var b;
                L.remove(a, "fxshow");
                for (b in m)
                    n.style(a, b, m[b])
            });
            for (d in m)
                g = Ub(p ? q[d] : 0, d, l),
                d in q || (q[d] = g.start,
                p && (g.end = g.start,
                g.start = "width" === d || "height" === d ? 1 : 0))
        }
    }
    function Wb(a, b) {
        var c, d, e, f, g;
        for (c in a)
            if (d = n.camelCase(c),
            e = b[d],
            f = a[c],
            n.isArray(f) && (e = f[1],
            f = a[c] = f[0]),
            c !== d && (a[d] = f,
            delete a[c]),
            g = n.cssHooks[d],
            g && "expand" in g) {
                f = g.expand(f),
                delete a[d];
                for (c in f)
                    c in a || (a[c] = f[c],
                    b[c] = e)
            } else
                b[d] = e
    }
    function Xb(a, b, c) {
        var d, e, f = 0, g = Qb.length, h = n.Deferred().always(function() {
            delete i.elem
        }), i = function() {
            if (e)
                return !1;
            for (var b = Lb || Sb(), c = Math.max(0, j.startTime + j.duration - b), d = c / j.duration || 0, f = 1 - d, g = 0, i = j.tweens.length; i > g; g++)
                j.tweens[g].run(f);
            return h.notifyWith(a, [j, f, c]),
            1 > f && i ? c : (h.resolveWith(a, [j]),
            !1)
        }
        , j = h.promise({
            elem: a,
            props: n.extend({}, b),
            opts: n.extend(!0, {
                specialEasing: {}
            }, c),
            originalProperties: b,
            originalOptions: c,
            startTime: Lb || Sb(),
            duration: c.duration,
            tweens: [],
            createTween: function(b, c) {
                var d = n.Tween(a, j.opts, b, c, j.opts.specialEasing[b] || j.opts.easing);
                return j.tweens.push(d),
                d
            },
            stop: function(b) {
                var c = 0
                  , d = b ? j.tweens.length : 0;
                if (e)
                    return this;
                for (e = !0; d > c; c++)
                    j.tweens[c].run(1);
                return b ? h.resolveWith(a, [j, b]) : h.rejectWith(a, [j, b]),
                this
            }
        }), k = j.props;
        for (Wb(k, j.opts.specialEasing); g > f; f++)
            if (d = Qb[f].call(j, a, k, j.opts))
                return d;
        return n.map(k, Ub, j),
        n.isFunction(j.opts.start) && j.opts.start.call(a, j),
        n.fx.timer(n.extend(i, {
            elem: a,
            anim: j,
            queue: j.opts.queue
        })),
        j.progress(j.opts.progress).done(j.opts.done, j.opts.complete).fail(j.opts.fail).always(j.opts.always)
    }
    n.Animation = n.extend(Xb, {
        tweener: function(a, b) {
            n.isFunction(a) ? (b = a,
            a = ["*"]) : a = a.split(" ");
            for (var c, d = 0, e = a.length; e > d; d++)
                c = a[d],
                Rb[c] = Rb[c] || [],
                Rb[c].unshift(b)
        },
        prefilter: function(a, b) {
            b ? Qb.unshift(a) : Qb.push(a)
        }
    }),
    n.speed = function(a, b, c) {
        var d = a && "object" == typeof a ? n.extend({}, a) : {
            complete: c || !c && b || n.isFunction(a) && a,
            duration: a,
            easing: c && b || b && !n.isFunction(b) && b
        };
        return d.duration = n.fx.off ? 0 : "number" == typeof d.duration ? d.duration : d.duration in n.fx.speeds ? n.fx.speeds[d.duration] : n.fx.speeds._default,
        (null  == d.queue || d.queue === !0) && (d.queue = "fx"),
        d.old = d.complete,
        d.complete = function() {
            n.isFunction(d.old) && d.old.call(this),
            d.queue && n.dequeue(this, d.queue)
        }
        ,
        d
    }
    ,
    n.fn.extend({
        fadeTo: function(a, b, c, d) {
            return this.filter(S).css("opacity", 0).show().end().animate({
                opacity: b
            }, a, c, d)
        },
        animate: function(a, b, c, d) {
            var e = n.isEmptyObject(a)
              , f = n.speed(b, c, d)
              , g = function() {
                var b = Xb(this, n.extend({}, a), f);
                (e || L.get(this, "finish")) && b.stop(!0)
            }
            ;
            return g.finish = g,
            e || f.queue === !1 ? this.each(g) : this.queue(f.queue, g)
        },
        stop: function(a, b, c) {
            var d = function(a) {
                var b = a.stop;
                delete a.stop,
                b(c)
            }
            ;
            return "string" != typeof a && (c = b,
            b = a,
            a = void 0),
            b && a !== !1 && this.queue(a || "fx", []),
            this.each(function() {
                var b = !0
                  , e = null  != a && a + "queueHooks"
                  , f = n.timers
                  , g = L.get(this);
                if (e)
                    g[e] && g[e].stop && d(g[e]);
                else
                    for (e in g)
                        g[e] && g[e].stop && Pb.test(e) && d(g[e]);
                for (e = f.length; e--; )
                    f[e].elem !== this || null  != a && f[e].queue !== a || (f[e].anim.stop(c),
                    b = !1,
                    f.splice(e, 1));
                (b || !c) && n.dequeue(this, a)
            })
        },
        finish: function(a) {
            return a !== !1 && (a = a || "fx"),
            this.each(function() {
                var b, c = L.get(this), d = c[a + "queue"], e = c[a + "queueHooks"], f = n.timers, g = d ? d.length : 0;
                for (c.finish = !0,
                n.queue(this, a, []),
                e && e.stop && e.stop.call(this, !0),
                b = f.length; b--; )
                    f[b].elem === this && f[b].queue === a && (f[b].anim.stop(!0),
                    f.splice(b, 1));
                for (b = 0; g > b; b++)
                    d[b] && d[b].finish && d[b].finish.call(this);
                delete c.finish
            })
        }
    }),
    n.each(["toggle", "show", "hide"], function(a, b) {
        var c = n.fn[b];
        n.fn[b] = function(a, d, e) {
            return null  == a || "boolean" == typeof a ? c.apply(this, arguments) : this.animate(Tb(b, !0), a, d, e)
        }
    }),
    n.each({
        slideDown: Tb("show"),
        slideUp: Tb("hide"),
        slideToggle: Tb("toggle"),
        fadeIn: {
            opacity: "show"
        },
        fadeOut: {
            opacity: "hide"
        },
        fadeToggle: {
            opacity: "toggle"
        }
    }, function(a, b) {
        n.fn[a] = function(a, c, d) {
            return this.animate(b, a, c, d)
        }
    }),
    n.timers = [],
    n.fx.tick = function() {
        var a, b = 0, c = n.timers;
        for (Lb = n.now(); b < c.length; b++)
            a = c[b],
            a() || c[b] !== a || c.splice(b--, 1);
        c.length || n.fx.stop(),
        Lb = void 0
    }
    ,
    n.fx.timer = function(a) {
        n.timers.push(a),
        a() ? n.fx.start() : n.timers.pop()
    }
    ,
    n.fx.interval = 13,
    n.fx.start = function() {
        Mb || (Mb = setInterval(n.fx.tick, n.fx.interval))
    }
    ,
    n.fx.stop = function() {
        clearInterval(Mb),
        Mb = null 
    }
    ,
    n.fx.speeds = {
        slow: 600,
        fast: 200,
        _default: 400
    },
    n.fn.delay = function(a, b) {
        return a = n.fx ? n.fx.speeds[a] || a : a,
        b = b || "fx",
        this.queue(b, function(b, c) {
            var d = setTimeout(b, a);
            c.stop = function() {
                clearTimeout(d)
            }
        })
    }
    ,
    function() {
        var a = l.createElement("input")
          , b = l.createElement("select")
          , c = b.appendChild(l.createElement("option"));
        a.type = "checkbox",
        k.checkOn = "" !== a.value,
        k.optSelected = c.selected,
        b.disabled = !0,
        k.optDisabled = !c.disabled,
        a = l.createElement("input"),
        a.value = "t",
        a.type = "radio",
        k.radioValue = "t" === a.value
    }();
    var Yb, Zb, $b = n.expr.attrHandle;
    n.fn.extend({
        attr: function(a, b) {
            return J(this, n.attr, a, b, arguments.length > 1)
        },
        removeAttr: function(a) {
            return this.each(function() {
                n.removeAttr(this, a)
            })
        }
    }),
    n.extend({
        attr: function(a, b, c) {
            var d, e, f = a.nodeType;
            if (a && 3 !== f && 8 !== f && 2 !== f)
                return typeof a.getAttribute === U ? n.prop(a, b, c) : (1 === f && n.isXMLDoc(a) || (b = b.toLowerCase(),
                d = n.attrHooks[b] || (n.expr.match.bool.test(b) ? Zb : Yb)),
                void 0 === c ? d && "get" in d && null  !== (e = d.get(a, b)) ? e : (e = n.find.attr(a, b),
                null  == e ? void 0 : e) : null  !== c ? d && "set" in d && void 0 !== (e = d.set(a, c, b)) ? e : (a.setAttribute(b, c + ""),
                c) : void n.removeAttr(a, b))
        },
        removeAttr: function(a, b) {
            var c, d, e = 0, f = b && b.match(E);
            if (f && 1 === a.nodeType)
                while (c = f[e++])
                    d = n.propFix[c] || c,
                    n.expr.match.bool.test(c) && (a[d] = !1),
                    a.removeAttribute(c)
        },
        attrHooks: {
            type: {
                set: function(a, b) {
                    if (!k.radioValue && "radio" === b && n.nodeName(a, "input")) {
                        var c = a.value;
                        return a.setAttribute("type", b),
                        c && (a.value = c),
                        b
                    }
                }
            }
        }
    }),
    Zb = {
        set: function(a, b, c) {
            return b === !1 ? n.removeAttr(a, c) : a.setAttribute(c, c),
            c
        }
    },
    n.each(n.expr.match.bool.source.match(/\w+/g), function(a, b) {
        var c = $b[b] || n.find.attr;
        $b[b] = function(a, b, d) {
            var e, f;
            return d || (f = $b[b],
            $b[b] = e,
            e = null  != c(a, b, d) ? b.toLowerCase() : null ,
            $b[b] = f),
            e
        }
    });
    var _b = /^(?:input|select|textarea|button)$/i;
    n.fn.extend({
        prop: function(a, b) {
            return J(this, n.prop, a, b, arguments.length > 1)
        },
        removeProp: function(a) {
            return this.each(function() {
                delete this[n.propFix[a] || a]
            })
        }
    }),
    n.extend({
        propFix: {
            "for": "htmlFor",
            "class": "className"
        },
        prop: function(a, b, c) {
            var d, e, f, g = a.nodeType;
            if (a && 3 !== g && 8 !== g && 2 !== g)
                return f = 1 !== g || !n.isXMLDoc(a),
                f && (b = n.propFix[b] || b,
                e = n.propHooks[b]),
                void 0 !== c ? e && "set" in e && void 0 !== (d = e.set(a, c, b)) ? d : a[b] = c : e && "get" in e && null  !== (d = e.get(a, b)) ? d : a[b]
        },
        propHooks: {
            tabIndex: {
                get: function(a) {
                    return a.hasAttribute("tabindex") || _b.test(a.nodeName) || a.href ? a.tabIndex : -1
                }
            }
        }
    }),
    k.optSelected || (n.propHooks.selected = {
        get: function(a) {
            var b = a.parentNode;
            return b && b.parentNode && b.parentNode.selectedIndex,
            null 
        }
    }),
    n.each(["tabIndex", "readOnly", "maxLength", "cellSpacing", "cellPadding", "rowSpan", "colSpan", "useMap", "frameBorder", "contentEditable"], function() {
        n.propFix[this.toLowerCase()] = this
    });
    var ac = /[\t\r\n\f]/g;
    n.fn.extend({
        addClass: function(a) {
            var b, c, d, e, f, g, h = "string" == typeof a && a, i = 0, j = this.length;
            if (n.isFunction(a))
                return this.each(function(b) {
                    n(this).addClass(a.call(this, b, this.className))
                });
            if (h)
                for (b = (a || "").match(E) || []; j > i; i++)
                    if (c = this[i],
                    d = 1 === c.nodeType && (c.className ? (" " + c.className + " ").replace(ac, " ") : " ")) {
                        f = 0;
                        while (e = b[f++])
                            d.indexOf(" " + e + " ") < 0 && (d += e + " ");
                        g = n.trim(d),
                        c.className !== g && (c.className = g)
                    }
            return this
        },
        removeClass: function(a) {
            var b, c, d, e, f, g, h = 0 === arguments.length || "string" == typeof a && a, i = 0, j = this.length;
            if (n.isFunction(a))
                return this.each(function(b) {
                    n(this).removeClass(a.call(this, b, this.className))
                });
            if (h)
                for (b = (a || "").match(E) || []; j > i; i++)
                    if (c = this[i],
                    d = 1 === c.nodeType && (c.className ? (" " + c.className + " ").replace(ac, " ") : "")) {
                        f = 0;
                        while (e = b[f++])
                            while (d.indexOf(" " + e + " ") >= 0)
                                d = d.replace(" " + e + " ", " ");
                        g = a ? n.trim(d) : "",
                        c.className !== g && (c.className = g)
                    }
            return this
        },
        toggleClass: function(a, b) {
            var c = typeof a;
            return "boolean" == typeof b && "string" === c ? b ? this.addClass(a) : this.removeClass(a) : this.each(n.isFunction(a) ? function(c) {
                n(this).toggleClass(a.call(this, c, this.className, b), b)
            }
             : function() {
                if ("string" === c) {
                    var b, d = 0, e = n(this), f = a.match(E) || [];
                    while (b = f[d++])
                        e.hasClass(b) ? e.removeClass(b) : e.addClass(b)
                } else
                    (c === U || "boolean" === c) && (this.className && L.set(this, "__className__", this.className),
                    this.className = this.className || a === !1 ? "" : L.get(this, "__className__") || "")
            }
            )
        },
        hasClass: function(a) {
            for (var b = " " + a + " ", c = 0, d = this.length; d > c; c++)
                if (1 === this[c].nodeType && (" " + this[c].className + " ").replace(ac, " ").indexOf(b) >= 0)
                    return !0;
            return !1
        }
    });
    var bc = /\r/g;
    n.fn.extend({
        val: function(a) {
            var b, c, d, e = this[0];
            {
                if (arguments.length)
                    return d = n.isFunction(a),
                    this.each(function(c) {
                        var e;
                        1 === this.nodeType && (e = d ? a.call(this, c, n(this).val()) : a,
                        null  == e ? e = "" : "number" == typeof e ? e += "" : n.isArray(e) && (e = n.map(e, function(a) {
                            return null  == a ? "" : a + ""
                        })),
                        b = n.valHooks[this.type] || n.valHooks[this.nodeName.toLowerCase()],
                        b && "set" in b && void 0 !== b.set(this, e, "value") || (this.value = e))
                    });
                if (e)
                    return b = n.valHooks[e.type] || n.valHooks[e.nodeName.toLowerCase()],
                    b && "get" in b && void 0 !== (c = b.get(e, "value")) ? c : (c = e.value,
                    "string" == typeof c ? c.replace(bc, "") : null  == c ? "" : c)
            }
        }
    }),
    n.extend({
        valHooks: {
            option: {
                get: function(a) {
                    var b = n.find.attr(a, "value");
                    return null  != b ? b : n.trim(n.text(a))
                }
            },
            select: {
                get: function(a) {
                    for (var b, c, d = a.options, e = a.selectedIndex, f = "select-one" === a.type || 0 > e, g = f ? null  : [], h = f ? e + 1 : d.length, i = 0 > e ? h : f ? e : 0; h > i; i++)
                        if (c = d[i],
                        !(!c.selected && i !== e || (k.optDisabled ? c.disabled : null  !== c.getAttribute("disabled")) || c.parentNode.disabled && n.nodeName(c.parentNode, "optgroup"))) {
                            if (b = n(c).val(),
                            f)
                                return b;
                            g.push(b)
                        }
                    return g
                },
                set: function(a, b) {
                    var c, d, e = a.options, f = n.makeArray(b), g = e.length;
                    while (g--)
                        d = e[g],
                        (d.selected = n.inArray(d.value, f) >= 0) && (c = !0);
                    return c || (a.selectedIndex = -1),
                    f
                }
            }
        }
    }),
    n.each(["radio", "checkbox"], function() {
        n.valHooks[this] = {
            set: function(a, b) {
                return n.isArray(b) ? a.checked = n.inArray(n(a).val(), b) >= 0 : void 0
            }
        },
        k.checkOn || (n.valHooks[this].get = function(a) {
            return null  === a.getAttribute("value") ? "on" : a.value
        }
        )
    }),
    n.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "), function(a, b) {
        n.fn[b] = function(a, c) {
            return arguments.length > 0 ? this.on(b, null , a, c) : this.trigger(b)
        }
    }),
    n.fn.extend({
        hover: function(a, b) {
            return this.mouseenter(a).mouseleave(b || a)
        },
        bind: function(a, b, c) {
            return this.on(a, null , b, c)
        },
        unbind: function(a, b) {
            return this.off(a, null , b)
        },
        delegate: function(a, b, c, d) {
            return this.on(b, a, c, d)
        },
        undelegate: function(a, b, c) {
            return 1 === arguments.length ? this.off(a, "**") : this.off(b, a || "**", c)
        }
    });
    var cc = n.now()
      , dc = /\?/;
    n.parseJSON = function(a) {
        return JSON.parse(a + "")
    }
    ,
    n.parseXML = function(a) {
        var b, c;
        if (!a || "string" != typeof a)
            return null ;
        try {
            c = new DOMParser,
            b = c.parseFromString(a, "text/xml")
        } catch (d) {
            b = void 0
        }
        return (!b || b.getElementsByTagName("parsererror").length) && n.error("Invalid XML: " + a),
        b
    }
    ;
    var ec = /#.*$/
      , fc = /([?&])_=[^&]*/
      , gc = /^(.*?):[ \t]*([^\r\n]*)$/gm
      , hc = /^(?:about|app|app-storage|.+-extension|file|res|widget):$/
      , ic = /^(?:GET|HEAD)$/
      , jc = /^\/\//
      , kc = /^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/
      , lc = {}
      , mc = {}
      , nc = "*/".concat("*")
      , oc = a.location.href
      , pc = kc.exec(oc.toLowerCase()) || [];
    function qc(a) {
        return function(b, c) {
            "string" != typeof b && (c = b,
            b = "*");
            var d, e = 0, f = b.toLowerCase().match(E) || [];
            if (n.isFunction(c))
                while (d = f[e++])
                    "+" === d[0] ? (d = d.slice(1) || "*",
                    (a[d] = a[d] || []).unshift(c)) : (a[d] = a[d] || []).push(c)
        }
    }
    function rc(a, b, c, d) {
        var e = {}
          , f = a === mc;
        function g(h) {
            var i;
            return e[h] = !0,
            n.each(a[h] || [], function(a, h) {
                var j = h(b, c, d);
                return "string" != typeof j || f || e[j] ? f ? !(i = j) : void 0 : (b.dataTypes.unshift(j),
                g(j),
                !1)
            }),
            i
        }
        return g(b.dataTypes[0]) || !e["*"] && g("*")
    }
    function sc(a, b) {
        var c, d, e = n.ajaxSettings.flatOptions || {};
        for (c in b)
            void 0 !== b[c] && ((e[c] ? a : d || (d = {}))[c] = b[c]);
        return d && n.extend(!0, a, d),
        a
    }
    function tc(a, b, c) {
        var d, e, f, g, h = a.contents, i = a.dataTypes;
        while ("*" === i[0])
            i.shift(),
            void 0 === d && (d = a.mimeType || b.getResponseHeader("Content-Type"));
        if (d)
            for (e in h)
                if (h[e] && h[e].test(d)) {
                    i.unshift(e);
                    break
                }
        if (i[0] in c)
            f = i[0];
        else {
            for (e in c) {
                if (!i[0] || a.converters[e + " " + i[0]]) {
                    f = e;
                    break
                }
                g || (g = e)
            }
            f = f || g
        }
        return f ? (f !== i[0] && i.unshift(f),
        c[f]) : void 0
    }
    function uc(a, b, c, d) {
        var e, f, g, h, i, j = {}, k = a.dataTypes.slice();
        if (k[1])
            for (g in a.converters)
                j[g.toLowerCase()] = a.converters[g];
        f = k.shift();
        while (f)
            if (a.responseFields[f] && (c[a.responseFields[f]] = b),
            !i && d && a.dataFilter && (b = a.dataFilter(b, a.dataType)),
            i = f,
            f = k.shift())
                if ("*" === f)
                    f = i;
                else if ("*" !== i && i !== f) {
                    if (g = j[i + " " + f] || j["* " + f],
                    !g)
                        for (e in j)
                            if (h = e.split(" "),
                            h[1] === f && (g = j[i + " " + h[0]] || j["* " + h[0]])) {
                                g === !0 ? g = j[e] : j[e] !== !0 && (f = h[0],
                                k.unshift(h[1]));
                                break
                            }
                    if (g !== !0)
                        if (g && a["throws"])
                            b = g(b);
                        else
                            try {
                                b = g(b)
                            } catch (l) {
                                return {
                                    state: "parsererror",
                                    error: g ? l : "No conversion from " + i + " to " + f
                                }
                            }
                }
        return {
            state: "success",
            data: b
        }
    }
    n.extend({
        active: 0,
        lastModified: {},
        etag: {},
        ajaxSettings: {
            url: oc,
            type: "GET",
            isLocal: hc.test(pc[1]),
            global: !0,
            processData: !0,
            async: !0,
            contentType: "application/x-www-form-urlencoded; charset=UTF-8",
            accepts: {
                "*": nc,
                text: "text/plain",
                html: "text/html",
                xml: "application/xml, text/xml",
                json: "application/json, text/javascript"
            },
            contents: {
                xml: /xml/,
                html: /html/,
                json: /json/
            },
            responseFields: {
                xml: "responseXML",
                text: "responseText",
                json: "responseJSON"
            },
            converters: {
                "* text": String,
                "text html": !0,
                "text json": n.parseJSON,
                "text xml": n.parseXML
            },
            flatOptions: {
                url: !0,
                context: !0
            }
        },
        ajaxSetup: function(a, b) {
            return b ? sc(sc(a, n.ajaxSettings), b) : sc(n.ajaxSettings, a)
        },
        ajaxPrefilter: qc(lc),
        ajaxTransport: qc(mc),
        ajax: function(a, b) {
            "object" == typeof a && (b = a,
            a = void 0),
            b = b || {};
            var c, d, e, f, g, h, i, j, k = n.ajaxSetup({}, b), l = k.context || k, m = k.context && (l.nodeType || l.jquery) ? n(l) : n.event, o = n.Deferred(), p = n.Callbacks("once memory"), q = k.statusCode || {}, r = {}, s = {}, t = 0, u = "canceled", v = {
                readyState: 0,
                getResponseHeader: function(a) {
                    var b;
                    if (2 === t) {
                        if (!f) {
                            f = {};
                            while (b = gc.exec(e))
                                f[b[1].toLowerCase()] = b[2]
                        }
                        b = f[a.toLowerCase()]
                    }
                    return null  == b ? null  : b
                },
                getAllResponseHeaders: function() {
                    return 2 === t ? e : null 
                },
                setRequestHeader: function(a, b) {
                    var c = a.toLowerCase();
                    return t || (a = s[c] = s[c] || a,
                    r[a] = b),
                    this
                },
                overrideMimeType: function(a) {
                    return t || (k.mimeType = a),
                    this
                },
                statusCode: function(a) {
                    var b;
                    if (a)
                        if (2 > t)
                            for (b in a)
                                q[b] = [q[b], a[b]];
                        else
                            v.always(a[v.status]);
                    return this
                },
                abort: function(a) {
                    var b = a || u;
                    return c && c.abort(b),
                    x(0, b),
                    this
                }
            };
            if (o.promise(v).complete = p.add,
            v.success = v.done,
            v.error = v.fail,
            k.url = ((a || k.url || oc) + "").replace(ec, "").replace(jc, pc[1] + "//"),
            k.type = b.method || b.type || k.method || k.type,
            k.dataTypes = n.trim(k.dataType || "*").toLowerCase().match(E) || [""],
            null  == k.crossDomain && (h = kc.exec(k.url.toLowerCase()),
            k.crossDomain = !(!h || h[1] === pc[1] && h[2] === pc[2] && (h[3] || ("http:" === h[1] ? "80" : "443")) === (pc[3] || ("http:" === pc[1] ? "80" : "443")))),
            k.data && k.processData && "string" != typeof k.data && (k.data = n.param(k.data, k.traditional)),
            rc(lc, k, b, v),
            2 === t)
                return v;
            i = n.event && k.global,
            i && 0 === n.active++ && n.event.trigger("ajaxStart"),
            k.type = k.type.toUpperCase(),
            k.hasContent = !ic.test(k.type),
            d = k.url,
            k.hasContent || (k.data && (d = k.url += (dc.test(d) ? "&" : "?") + k.data,
            delete k.data),
            k.cache === !1 && (k.url = fc.test(d) ? d.replace(fc, "$1_=" + cc++) : d + (dc.test(d) ? "&" : "?") + "_=" + cc++)),
            k.ifModified && (n.lastModified[d] && v.setRequestHeader("If-Modified-Since", n.lastModified[d]),
            n.etag[d] && v.setRequestHeader("If-None-Match", n.etag[d])),
            (k.data && k.hasContent && k.contentType !== !1 || b.contentType) && v.setRequestHeader("Content-Type", k.contentType),
            v.setRequestHeader("Accept", k.dataTypes[0] && k.accepts[k.dataTypes[0]] ? k.accepts[k.dataTypes[0]] + ("*" !== k.dataTypes[0] ? ", " + nc + "; q=0.01" : "") : k.accepts["*"]);
            for (j in k.headers)
                v.setRequestHeader(j, k.headers[j]);
            if (k.beforeSend && (k.beforeSend.call(l, v, k) === !1 || 2 === t))
                return v.abort();
            u = "abort";
            for (j in {
                success: 1,
                error: 1,
                complete: 1
            })
                v[j](k[j]);
            if (c = rc(mc, k, b, v)) {
                v.readyState = 1,
                i && m.trigger("ajaxSend", [v, k]),
                k.async && k.timeout > 0 && (g = setTimeout(function() {
                    v.abort("timeout")
                }, k.timeout));
                try {
                    t = 1,
                    c.send(r, x)
                } catch (w) {
                    if (!(2 > t))
                        throw w;
                    x(-1, w)
                }
            } else
                x(-1, "No Transport");
            function x(a, b, f, h) {
                var j, r, s, u, w, x = b;
                2 !== t && (t = 2,
                g && clearTimeout(g),
                c = void 0,
                e = h || "",
                v.readyState = a > 0 ? 4 : 0,
                j = a >= 200 && 300 > a || 304 === a,
                f && (u = tc(k, v, f)),
                u = uc(k, u, v, j),
                j ? (k.ifModified && (w = v.getResponseHeader("Last-Modified"),
                w && (n.lastModified[d] = w),
                w = v.getResponseHeader("etag"),
                w && (n.etag[d] = w)),
                204 === a || "HEAD" === k.type ? x = "nocontent" : 304 === a ? x = "notmodified" : (x = u.state,
                r = u.data,
                s = u.error,
                j = !s)) : (s = x,
                (a || !x) && (x = "error",
                0 > a && (a = 0))),
                v.status = a,
                v.statusText = (b || x) + "",
                j ? o.resolveWith(l, [r, x, v]) : o.rejectWith(l, [v, x, s]),
                v.statusCode(q),
                q = void 0,
                i && m.trigger(j ? "ajaxSuccess" : "ajaxError", [v, k, j ? r : s]),
                p.fireWith(l, [v, x]),
                i && (m.trigger("ajaxComplete", [v, k]),
                --n.active || n.event.trigger("ajaxStop")))
            }
            return v
        },
        getJSON: function(a, b, c) {
            return n.get(a, b, c, "json")
        },
        getScript: function(a, b) {
            return n.get(a, void 0, b, "script")
        }
    }),
    n.each(["get", "post"], function(a, b) {
        n[b] = function(a, c, d, e) {
            return n.isFunction(c) && (e = e || d,
            d = c,
            c = void 0),
            n.ajax({
                url: a,
                type: b,
                dataType: e,
                data: c,
                success: d
            })
        }
    }),
    n._evalUrl = function(a) {
        return n.ajax({
            url: a,
            type: "GET",
            dataType: "script",
            async: !1,
            global: !1,
            "throws": !0
        })
    }
    ,
    n.fn.extend({
        wrapAll: function(a) {
            var b;
            return n.isFunction(a) ? this.each(function(b) {
                n(this).wrapAll(a.call(this, b))
            }) : (this[0] && (b = n(a, this[0].ownerDocument).eq(0).clone(!0),
            this[0].parentNode && b.insertBefore(this[0]),
            b.map(function() {
                var a = this;
                while (a.firstElementChild)
                    a = a.firstElementChild;
                return a
            }).append(this)),
            this)
        },
        wrapInner: function(a) {
            return this.each(n.isFunction(a) ? function(b) {
                n(this).wrapInner(a.call(this, b))
            }
             : function() {
                var b = n(this)
                  , c = b.contents();
                c.length ? c.wrapAll(a) : b.append(a)
            }
            )
        },
        wrap: function(a) {
            var b = n.isFunction(a);
            return this.each(function(c) {
                n(this).wrapAll(b ? a.call(this, c) : a)
            })
        },
        unwrap: function() {
            return this.parent().each(function() {
                n.nodeName(this, "body") || n(this).replaceWith(this.childNodes)
            }).end()
        }
    }),
    n.expr.filters.hidden = function(a) {
        return a.offsetWidth <= 0 && a.offsetHeight <= 0
    }
    ,
    n.expr.filters.visible = function(a) {
        return !n.expr.filters.hidden(a)
    }
    ;
    var vc = /%20/g
      , wc = /\[\]$/
      , xc = /\r?\n/g
      , yc = /^(?:submit|button|image|reset|file)$/i
      , zc = /^(?:input|select|textarea|keygen)/i;
    function Ac(a, b, c, d) {
        var e;
        if (n.isArray(b))
            n.each(b, function(b, e) {
                c || wc.test(a) ? d(a, e) : Ac(a + "[" + ("object" == typeof e ? b : "") + "]", e, c, d)
            });
        else if (c || "object" !== n.type(b))
            d(a, b);
        else
            for (e in b)
                Ac(a + "[" + e + "]", b[e], c, d)
    }
    n.param = function(a, b) {
        var c, d = [], e = function(a, b) {
            b = n.isFunction(b) ? b() : null  == b ? "" : b,
            d[d.length] = encodeURIComponent(a) + "=" + encodeURIComponent(b)
        }
        ;
        if (void 0 === b && (b = n.ajaxSettings && n.ajaxSettings.traditional),
        n.isArray(a) || a.jquery && !n.isPlainObject(a))
            n.each(a, function() {
                e(this.name, this.value)
            });
        else
            for (c in a)
                Ac(c, a[c], b, e);
        return d.join("&").replace(vc, "+")
    }
    ,
    n.fn.extend({
        serialize: function() {
            return n.param(this.serializeArray())
        },
        serializeArray: function() {
            return this.map(function() {
                var a = n.prop(this, "elements");
                return a ? n.makeArray(a) : this
            }).filter(function() {
                var a = this.type;
                return this.name && !n(this).is(":disabled") && zc.test(this.nodeName) && !yc.test(a) && (this.checked || !T.test(a))
            }).map(function(a, b) {
                var c = n(this).val();
                return null  == c ? null  : n.isArray(c) ? n.map(c, function(a) {
                    return {
                        name: b.name,
                        value: a.replace(xc, "\r\n")
                    }
                }) : {
                    name: b.name,
                    value: c.replace(xc, "\r\n")
                }
            }).get()
        }
    }),
    n.ajaxSettings.xhr = function() {
        try {
            return new XMLHttpRequest
        } catch (a) {}
    }
    ;
    var Bc = 0
      , Cc = {}
      , Dc = {
        0: 200,
        1223: 204
    }
      , Ec = n.ajaxSettings.xhr();
    a.attachEvent && a.attachEvent("onunload", function() {
        for (var a in Cc)
            Cc[a]()
    }),
    k.cors = !!Ec && "withCredentials" in Ec,
    k.ajax = Ec = !!Ec,
    n.ajaxTransport(function(a) {
        var b;
        return k.cors || Ec && !a.crossDomain ? {
            send: function(c, d) {
                var e, f = a.xhr(), g = ++Bc;
                if (f.open(a.type, a.url, a.async, a.username, a.password),
                a.xhrFields)
                    for (e in a.xhrFields)
                        f[e] = a.xhrFields[e];
                a.mimeType && f.overrideMimeType && f.overrideMimeType(a.mimeType),
                a.crossDomain || c["X-Requested-With"] || (c["X-Requested-With"] = "XMLHttpRequest");
                for (e in c)
                    f.setRequestHeader(e, c[e]);
                b = function(a) {
                    return function() {
                        b && (delete Cc[g],
                        b = f.onload = f.onerror = null ,
                        "abort" === a ? f.abort() : "error" === a ? d(f.status, f.statusText) : d(Dc[f.status] || f.status, f.statusText, "string" == typeof f.responseText ? {
                            text: f.responseText
                        } : void 0, f.getAllResponseHeaders()))
                    }
                }
                ,
                f.onload = b(),
                f.onerror = b("error"),
                b = Cc[g] = b("abort");
                try {
                    f.send(a.hasContent && a.data || null )
                } catch (h) {
                    if (b)
                        throw h
                }
            },
            abort: function() {
                b && b()
            }
        } : void 0
    }),
    n.ajaxSetup({
        accepts: {
            script: "text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"
        },
        contents: {
            script: /(?:java|ecma)script/
        },
        converters: {
            "text script": function(a) {
                return n.globalEval(a),
                a
            }
        }
    }),
    n.ajaxPrefilter("script", function(a) {
        void 0 === a.cache && (a.cache = !1),
        a.crossDomain && (a.type = "GET")
    }),
    n.ajaxTransport("script", function(a) {
        if (a.crossDomain) {
            var b, c;
            return {
                send: function(d, e) {
                    b = n("<script>").prop({
                        async: !0,
                        charset: a.scriptCharset,
                        src: a.url
                    }).on("load error", c = function(a) {
                        b.remove(),
                        c = null ,
                        a && e("error" === a.type ? 404 : 200, a.type)
                    }
                    ),
                    l.head.appendChild(b[0])
                },
                abort: function() {
                    c && c()
                }
            }
        }
    });
    var Fc = []
      , Gc = /(=)\?(?=&|$)|\?\?/;
    n.ajaxSetup({
        jsonp: "callback",
        jsonpCallback: function() {
            var a = Fc.pop() || n.expando + "_" + cc++;
            return this[a] = !0,
            a
        }
    }),
    n.ajaxPrefilter("json jsonp", function(b, c, d) {
        var e, f, g, h = b.jsonp !== !1 && (Gc.test(b.url) ? "url" : "string" == typeof b.data && !(b.contentType || "").indexOf("application/x-www-form-urlencoded") && Gc.test(b.data) && "data");
        return h || "jsonp" === b.dataTypes[0] ? (e = b.jsonpCallback = n.isFunction(b.jsonpCallback) ? b.jsonpCallback() : b.jsonpCallback,
        h ? b[h] = b[h].replace(Gc, "$1" + e) : b.jsonp !== !1 && (b.url += (dc.test(b.url) ? "&" : "?") + b.jsonp + "=" + e),
        b.converters["script json"] = function() {
            return g || n.error(e + " was not called"),
            g[0]
        }
        ,
        b.dataTypes[0] = "json",
        f = a[e],
        a[e] = function() {
            g = arguments
        }
        ,
        d.always(function() {
            a[e] = f,
            b[e] && (b.jsonpCallback = c.jsonpCallback,
            Fc.push(e)),
            g && n.isFunction(f) && f(g[0]),
            g = f = void 0
        }),
        "script") : void 0
    }),
    n.parseHTML = function(a, b, c) {
        if (!a || "string" != typeof a)
            return null ;
        "boolean" == typeof b && (c = b,
        b = !1),
        b = b || l;
        var d = v.exec(a)
          , e = !c && [];
        return d ? [b.createElement(d[1])] : (d = n.buildFragment([a], b, e),
        e && e.length && n(e).remove(),
        n.merge([], d.childNodes))
    }
    ;
    var Hc = n.fn.load;
    n.fn.load = function(a, b, c) {
        if ("string" != typeof a && Hc)
            return Hc.apply(this, arguments);
        var d, e, f, g = this, h = a.indexOf(" ");
        return h >= 0 && (d = n.trim(a.slice(h)),
        a = a.slice(0, h)),
        n.isFunction(b) ? (c = b,
        b = void 0) : b && "object" == typeof b && (e = "POST"),
        g.length > 0 && n.ajax({
            url: a,
            type: e,
            dataType: "html",
            data: b
        }).done(function(a) {
            f = arguments,
            g.html(d ? n("<div>").append(n.parseHTML(a)).find(d) : a)
        }).complete(c && function(a, b) {
            g.each(c, f || [a.responseText, b, a])
        }
        ),
        this
    }
    ,
    n.each(["ajaxStart", "ajaxStop", "ajaxComplete", "ajaxError", "ajaxSuccess", "ajaxSend"], function(a, b) {
        n.fn[b] = function(a) {
            return this.on(b, a)
        }
    }),
    n.expr.filters.animated = function(a) {
        return n.grep(n.timers, function(b) {
            return a === b.elem
        }).length
    }
    ;
    var Ic = a.document.documentElement;
    function Jc(a) {
        return n.isWindow(a) ? a : 9 === a.nodeType && a.defaultView
    }
    n.offset = {
        setOffset: function(a, b, c) {
            var d, e, f, g, h, i, j, k = n.css(a, "position"), l = n(a), m = {};
            "static" === k && (a.style.position = "relative"),
            h = l.offset(),
            f = n.css(a, "top"),
            i = n.css(a, "left"),
            j = ("absolute" === k || "fixed" === k) && (f + i).indexOf("auto") > -1,
            j ? (d = l.position(),
            g = d.top,
            e = d.left) : (g = parseFloat(f) || 0,
            e = parseFloat(i) || 0),
            n.isFunction(b) && (b = b.call(a, c, h)),
            null  != b.top && (m.top = b.top - h.top + g),
            null  != b.left && (m.left = b.left - h.left + e),
            "using" in b ? b.using.call(a, m) : l.css(m)
        }
    },
    n.fn.extend({
        offset: function(a) {
            if (arguments.length)
                return void 0 === a ? this : this.each(function(b) {
                    n.offset.setOffset(this, a, b)
                });
            var b, c, d = this[0], e = {
                top: 0,
                left: 0
            }, f = d && d.ownerDocument;
            if (f)
                return b = f.documentElement,
                n.contains(b, d) ? (typeof d.getBoundingClientRect !== U && (e = d.getBoundingClientRect()),
                c = Jc(f),
                {
                    top: e.top + c.pageYOffset - b.clientTop,
                    left: e.left + c.pageXOffset - b.clientLeft
                }) : e
        },
        position: function() {
            if (this[0]) {
                var a, b, c = this[0], d = {
                    top: 0,
                    left: 0
                };
                return "fixed" === n.css(c, "position") ? b = c.getBoundingClientRect() : (a = this.offsetParent(),
                b = this.offset(),
                n.nodeName(a[0], "html") || (d = a.offset()),
                d.top += n.css(a[0], "borderTopWidth", !0),
                d.left += n.css(a[0], "borderLeftWidth", !0)),
                {
                    top: b.top - d.top - n.css(c, "marginTop", !0),
                    left: b.left - d.left - n.css(c, "marginLeft", !0)
                }
            }
        },
        offsetParent: function() {
            return this.map(function() {
                var a = this.offsetParent || Ic;
                while (a && !n.nodeName(a, "html") && "static" === n.css(a, "position"))
                    a = a.offsetParent;
                return a || Ic
            })
        }
    }),
    n.each({
        scrollLeft: "pageXOffset",
        scrollTop: "pageYOffset"
    }, function(b, c) {
        var d = "pageYOffset" === c;
        n.fn[b] = function(e) {
            return J(this, function(b, e, f) {
                var g = Jc(b);
                return void 0 === f ? g ? g[c] : b[e] : void (g ? g.scrollTo(d ? a.pageXOffset : f, d ? f : a.pageYOffset) : b[e] = f)
            }, b, e, arguments.length, null )
        }
    }),
    n.each(["top", "left"], function(a, b) {
        n.cssHooks[b] = yb(k.pixelPosition, function(a, c) {
            return c ? (c = xb(a, b),
            vb.test(c) ? n(a).position()[b] + "px" : c) : void 0
        })
    }),
    n.each({
        Height: "height",
        Width: "width"
    }, function(a, b) {
        n.each({
            padding: "inner" + a,
            content: b,
            "": "outer" + a
        }, function(c, d) {
            n.fn[d] = function(d, e) {
                var f = arguments.length && (c || "boolean" != typeof d)
                  , g = c || (d === !0 || e === !0 ? "margin" : "border");
                return J(this, function(b, c, d) {
                    var e;
                    return n.isWindow(b) ? b.document.documentElement["client" + a] : 9 === b.nodeType ? (e = b.documentElement,
                    Math.max(b.body["scroll" + a], e["scroll" + a], b.body["offset" + a], e["offset" + a], e["client" + a])) : void 0 === d ? n.css(b, c, g) : n.style(b, c, d, g)
                }, b, f ? d : void 0, f, null )
            }
        })
    }),
    n.fn.size = function() {
        return this.length
    }
    ,
    n.fn.andSelf = n.fn.addBack,
    "function" == typeof define && define.amd && define("jquery", [], function() {
        return n
    });
    var Kc = a.jQuery
      , Lc = a.$;
    return n.noConflict = function(b) {
        return a.$ === n && (a.$ = Lc),
        b && a.jQuery === n && (a.jQuery = Kc),
        n
    }
    ,
    typeof b === U && (a.jQuery = a.$ = n),
    n
});
;!function(a) {
    "function" == typeof define && define.amd ? define(["jquery"], a) : "object" == typeof exports ? module.exports = a : a(jQuery)
}(function(a) {
    function b(b) {
        var g = b || window.event
          , h = i.call(arguments, 1)
          , j = 0
          , l = 0
          , m = 0
          , n = 0
          , o = 0
          , p = 0;
        if (b = a.event.fix(g),
        b.type = "mousewheel",
        "detail" in g && (m = -1 * g.detail),
        "wheelDelta" in g && (m = g.wheelDelta),
        "wheelDeltaY" in g && (m = g.wheelDeltaY),
        "wheelDeltaX" in g && (l = -1 * g.wheelDeltaX),
        "axis" in g && g.axis === g.HORIZONTAL_AXIS && (l = -1 * m,
        m = 0),
        j = 0 === m ? l : m,
        "deltaY" in g && (m = -1 * g.deltaY,
        j = m),
        "deltaX" in g && (l = g.deltaX,
        0 === m && (j = -1 * l)),
        0 !== m || 0 !== l) {
            if (1 === g.deltaMode) {
                var q = a.data(this, "mousewheel-line-height");
                j *= q,
                m *= q,
                l *= q
            } else if (2 === g.deltaMode) {
                var r = a.data(this, "mousewheel-page-height");
                j *= r,
                m *= r,
                l *= r
            }
            if (n = Math.max(Math.abs(m), Math.abs(l)),
            (!f || f > n) && (f = n,
            d(g, n) && (f /= 40)),
            d(g, n) && (j /= 40,
            l /= 40,
            m /= 40),
            j = Math[j >= 1 ? "floor" : "ceil"](j / f),
            l = Math[l >= 1 ? "floor" : "ceil"](l / f),
            m = Math[m >= 1 ? "floor" : "ceil"](m / f),
            k.settings.normalizeOffset && this.getBoundingClientRect) {
                var s = this.getBoundingClientRect();
                o = b.clientX - s.left,
                p = b.clientY - s.top
            }
            return b.deltaX = l,
            b.deltaY = m,
            b.deltaFactor = f,
            b.offsetX = o,
            b.offsetY = p,
            b.deltaMode = 0,
            h.unshift(b, j, l, m),
            e && clearTimeout(e),
            e = setTimeout(c, 200),
            (a.event.dispatch || a.event.handle).apply(this, h)
        }
    }
    function c() {
        f = null 
    }
    function d(a, b) {
        return k.settings.adjustOldDeltas && "mousewheel" === a.type && b % 120 === 0
    }
    var e, f, g = ["wheel", "mousewheel", "DOMMouseScroll", "MozMousePixelScroll"], h = "onwheel" in document || document.documentMode >= 9 ? ["wheel"] : ["mousewheel", "DomMouseScroll", "MozMousePixelScroll"], i = Array.prototype.slice;
    if (a.event.fixHooks)
        for (var j = g.length; j; )
            a.event.fixHooks[g[--j]] = a.event.mouseHooks;
    var k = a.event.special.mousewheel = {
        version: "3.1.12",
        setup: function() {
            if (this.addEventListener)
                for (var c = h.length; c; )
                    this.addEventListener(h[--c], b, !1);
            else
                this.onmousewheel = b;
            a.data(this, "mousewheel-line-height", k.getLineHeight(this)),
            a.data(this, "mousewheel-page-height", k.getPageHeight(this))
        },
        teardown: function() {
            if (this.removeEventListener)
                for (var c = h.length; c; )
                    this.removeEventListener(h[--c], b, !1);
            else
                this.onmousewheel = null ;
            a.removeData(this, "mousewheel-line-height"),
            a.removeData(this, "mousewheel-page-height")
        },
        getLineHeight: function(b) {
            var c = a(b)
              , d = c["offsetParent" in a.fn ? "offsetParent" : "parent"]();
            return d.length || (d = a("body")),
            parseInt(d.css("fontSize"), 10) || parseInt(c.css("fontSize"), 10) || 16
        },
        getPageHeight: function(b) {
            return a(b).height()
        },
        settings: {
            adjustOldDeltas: !0,
            normalizeOffset: !0
        }
    };
    a.fn.extend({
        mousewheel: function(a) {
            return a ? this.bind("mousewheel", a) : this.trigger("mousewheel")
        },
        unmousewheel: function(a) {
            return this.unbind("mousewheel", a)
        }
    })
});
;!function(t) {
    if ("object" == typeof exports && "undefined" != typeof module)
        module.exports = t();
    else if ("function" == typeof define && define.amd)
        define([], t);
    else {
        var e;
        e = "undefined" != typeof window ? window : "undefined" != typeof global ? global : "undefined" != typeof self ? self : this,
        e.PIXI = t()
    }
}(function() {
    var t;
    return function e(t, r, i) {
        function n(s, a) {
            if (!r[s]) {
                if (!t[s]) {
                    var h = "function" == typeof require && require;
                    if (!a && h)
                        return h(s, !0);
                    if (o)
                        return o(s, !0);
                    var u = new Error("Cannot find module '" + s + "'");
                    throw u.code = "MODULE_NOT_FOUND",
                    u
                }
                var l = r[s] = {
                    exports: {}
                };
                t[s][0].call(l.exports, function(e) {
                    var r = t[s][1][e];
                    return n(r ? r : e)
                }, l, l.exports, e, t, r, i)
            }
            return r[s].exports
        }
        for (var o = "function" == typeof require && require, s = 0; s < i.length; s++)
            n(i[s]);
        return n
    }({
        1: [function(e, r, i) {
            (function(e, i) {
                !function() {
                    function n() {}
                    function o(t) {
                        return t
                    }
                    function s(t) {
                        return !!t
                    }
                    function a(t) {
                        return !t
                    }
                    function h(t) {
                        return function() {
                            if (null  === t)
                                throw new Error("Callback was already called.");
                            t.apply(this, arguments),
                            t = null 
                        }
                    }
                    function u(t) {
                        return function() {
                            null  !== t && (t.apply(this, arguments),
                            t = null )
                        }
                    }
                    function l(t) {
                        return j(t) || "number" == typeof t.length && t.length >= 0 && t.length % 1 === 0
                    }
                    function c(t, e) {
                        for (var r = -1, i = t.length; ++r < i; )
                            e(t[r], r, t)
                    }
                    function p(t, e) {
                        for (var r = -1, i = t.length, n = Array(i); ++r < i; )
                            n[r] = e(t[r], r, t);
                        return n
                    }
                    function d(t) {
                        return p(Array(t), function(t, e) {
                            return e
                        })
                    }
                    function f(t, e, r) {
                        return c(t, function(t, i, n) {
                            r = e(r, t, i, n)
                        }),
                        r
                    }
                    function v(t, e) {
                        c(Y(t), function(r) {
                            e(t[r], r)
                        })
                    }
                    function g(t, e) {
                        for (var r = 0; r < t.length; r++)
                            if (t[r] === e)
                                return r;
                        return -1
                    }
                    function m(t) {
                        var e, r, i = -1;
                        return l(t) ? (e = t.length,
                        function() {
                            return i++,
                            e > i ? i : null 
                        }
                        ) : (r = Y(t),
                        e = r.length,
                        function() {
                            return i++,
                            e > i ? r[i] : null 
                        }
                        )
                    }
                    function y(t, e) {
                        return e = null  == e ? t.length - 1 : +e,
                        function() {
                            for (var r = Math.max(arguments.length - e, 0), i = Array(r), n = 0; r > n; n++)
                                i[n] = arguments[n + e];
                            switch (e) {
                            case 0:
                                return t.call(this, i);
                            case 1:
                                return t.call(this, arguments[0], i)
                            }
                        }
                    }
                    function x(t) {
                        return function(e, r, i) {
                            return t(e, i)
                        }
                    }
                    function b(t) {
                        return function(e, r, i) {
                            i = u(i || n),
                            e = e || [];
                            var o = m(e);
                            if (0 >= t)
                                return i(null );
                            var s = !1
                              , a = 0
                              , l = !1;
                            !function c() {
                                if (s && 0 >= a)
                                    return i(null );
                                for (; t > a && !l; ) {
                                    var n = o();
                                    if (null  === n)
                                        return s = !0,
                                        void (0 >= a && i(null ));
                                    a += 1,
                                    r(e[n], n, h(function(t) {
                                        a -= 1,
                                        t ? (i(t),
                                        l = !0) : c()
                                    }))
                                }
                            }()
                        }
                    }
                    function _(t) {
                        return function(e, r, i) {
                            return t(N.eachOf, e, r, i)
                        }
                    }
                    function T(t) {
                        return function(e, r, i, n) {
                            return t(b(r), e, i, n)
                        }
                    }
                    function E(t) {
                        return function(e, r, i) {
                            return t(N.eachOfSeries, e, r, i)
                        }
                    }
                    function S(t, e, r, i) {
                        i = u(i || n),
                        e = e || [];
                        var o = l(e) ? [] : {};
                        t(e, function(t, e, i) {
                            r(t, function(t, r) {
                                o[e] = r,
                                i(t)
                            })
                        }, function(t) {
                            i(t, o)
                        })
                    }
                    function w(t, e, r, i) {
                        var n = [];
                        t(e, function(t, e, i) {
                            r(t, function(r) {
                                r && n.push({
                                    index: e,
                                    value: t
                                }),
                                i()
                            })
                        }, function() {
                            i(p(n.sort(function(t, e) {
                                return t.index - e.index
                            }), function(t) {
                                return t.value
                            }))
                        })
                    }
                    function A(t, e, r, i) {
                        w(t, e, function(t, e) {
                            r(t, function(t) {
                                e(!t)
                            })
                        }, i)
                    }
                    function C(t, e, r) {
                        return function(i, n, o, s) {
                            function a() {
                                s && s(r(!1, void 0))
                            }
                            function h(t, i, n) {
                                return s ? void o(t, function(i) {
                                    s && e(i) && (s(r(!0, t)),
                                    s = o = !1),
                                    n()
                                }) : n()
                            }
                            arguments.length > 3 ? t(i, n, h, a) : (s = o,
                            o = n,
                            t(i, h, a))
                        }
                    }
                    function M(t, e) {
                        return e
                    }
                    function R(t, e, r) {
                        r = r || n;
                        var i = l(e) ? [] : {};
                        t(e, function(t, e, r) {
                            t(y(function(t, n) {
                                n.length <= 1 && (n = n[0]),
                                i[e] = n,
                                r(t)
                            }))
                        }, function(t) {
                            r(t, i)
                        })
                    }
                    function O(t, e, r, i) {
                        var n = [];
                        t(e, function(t, e, i) {
                            r(t, function(t, e) {
                                n = n.concat(e || []),
                                i(t)
                            })
                        }, function(t) {
                            i(t, n)
                        })
                    }
                    function P(t, e, r) {
                        function i(t, e, r, i) {
                            if (null  != i && "function" != typeof i)
                                throw new Error("task callback must be a function");
                            return t.started = !0,
                            j(e) || (e = [e]),
                            0 === e.length && t.idle() ? N.setImmediate(function() {
                                t.drain()
                            }) : (c(e, function(e) {
                                var o = {
                                    data: e,
                                    callback: i || n
                                };
                                r ? t.tasks.unshift(o) : t.tasks.push(o),
                                t.tasks.length === t.concurrency && t.saturated()
                            }),
                            void N.setImmediate(t.process))
                        }
                        function o(t, e) {
                            return function() {
                                s -= 1;
                                var r = !1
                                  , i = arguments;
                                c(e, function(t) {
                                    c(a, function(e, i) {
                                        e !== t || r || (a.splice(i, 1),
                                        r = !0)
                                    }),
                                    t.callback.apply(t, i)
                                }),
                                t.tasks.length + s === 0 && t.drain(),
                                t.process()
                            }
                        }
                        if (null  == e)
                            e = 1;
                        else if (0 === e)
                            throw new Error("Concurrency must not be zero");
                        var s = 0
                          , a = []
                          , u = {
                            tasks: [],
                            concurrency: e,
                            payload: r,
                            saturated: n,
                            empty: n,
                            drain: n,
                            started: !1,
                            paused: !1,
                            push: function(t, e) {
                                i(u, t, !1, e)
                            },
                            kill: function() {
                                u.drain = n,
                                u.tasks = []
                            },
                            unshift: function(t, e) {
                                i(u, t, !0, e)
                            },
                            process: function() {
                                for (; !u.paused && s < u.concurrency && u.tasks.length; ) {
                                    var e = u.payload ? u.tasks.splice(0, u.payload) : u.tasks.splice(0, u.tasks.length)
                                      , r = p(e, function(t) {
                                        return t.data
                                    });
                                    0 === u.tasks.length && u.empty(),
                                    s += 1,
                                    a.push(e[0]);
                                    var i = h(o(u, e));
                                    t(r, i)
                                }
                            },
                            length: function() {
                                return u.tasks.length
                            },
                            running: function() {
                                return s
                            },
                            workersList: function() {
                                return a
                            },
                            idle: function() {
                                return u.tasks.length + s === 0
                            },
                            pause: function() {
                                u.paused = !0
                            },
                            resume: function() {
                                if (u.paused !== !1) {
                                    u.paused = !1;
                                    for (var t = Math.min(u.concurrency, u.tasks.length), e = 1; t >= e; e++)
                                        N.setImmediate(u.process)
                                }
                            }
                        };
                        return u
                    }
                    function F(t) {
                        return y(function(e, r) {
                            e.apply(null , r.concat([y(function(e, r) {
                                "object" == typeof console && (e ? console.error && console.error(e) : console[t] && c(r, function(e) {
                                    console[t](e)
                                }))
                            })]))
                        })
                    }
                    function D(t) {
                        return function(e, r, i) {
                            t(d(e), r, i)
                        }
                    }
                    function B(t) {
                        return y(function(e, r) {
                            var i = y(function(r) {
                                var i = this
                                  , n = r.pop();
                                return t(e, function(t, e, n) {
                                    t.apply(i, r.concat([n]))
                                }, n)
                            });
                            return r.length ? i.apply(this, r) : i
                        })
                    }
                    function L(t) {
                        return y(function(e) {
                            var r = e.pop();
                            e.push(function() {
                                var t = arguments;
                                i ? N.setImmediate(function() {
                                    r.apply(null , t)
                                }) : r.apply(null , t)
                            });
                            var i = !0;
                            t.apply(this, e),
                            i = !1
                        })
                    }
                    var I, N = {}, U = "object" == typeof self && self.self === self && self || "object" == typeof i && i.global === i && i || this;
                    null  != U && (I = U.async),
                    N.noConflict = function() {
                        return U.async = I,
                        N
                    }
                    ;
                    var k = Object.prototype.toString
                      , j = Array.isArray || function(t) {
                        return "[object Array]" === k.call(t)
                    }
                      , X = function(t) {
                        var e = typeof t;
                        return "function" === e || "object" === e && !!t
                    }
                      , Y = Object.keys || function(t) {
                        var e = [];
                        for (var r in t)
                            t.hasOwnProperty(r) && e.push(r);
                        return e
                    }
                      , G = "function" == typeof setImmediate && setImmediate
                      , z = G ? function(t) {
                        G(t)
                    }
                     : function(t) {
                        setTimeout(t, 0)
                    }
                    ;
                    "object" == typeof e && "function" == typeof e.nextTick ? N.nextTick = e.nextTick : N.nextTick = z,
                    N.setImmediate = G ? z : N.nextTick,
                    N.forEach = N.each = function(t, e, r) {
                        return N.eachOf(t, x(e), r)
                    }
                    ,
                    N.forEachSeries = N.eachSeries = function(t, e, r) {
                        return N.eachOfSeries(t, x(e), r)
                    }
                    ,
                    N.forEachLimit = N.eachLimit = function(t, e, r, i) {
                        return b(e)(t, x(r), i)
                    }
                    ,
                    N.forEachOf = N.eachOf = function(t, e, r) {
                        function i(t) {
                            a--,
                            t ? r(t) : null  === o && 0 >= a && r(null )
                        }
                        r = u(r || n),
                        t = t || [];
                        for (var o, s = m(t), a = 0; null  != (o = s()); )
                            a += 1,
                            e(t[o], o, h(i));
                        0 === a && r(null )
                    }
                    ,
                    N.forEachOfSeries = N.eachOfSeries = function(t, e, r) {
                        function i() {
                            var n = !0;
                            return null  === s ? r(null ) : (e(t[s], s, h(function(t) {
                                if (t)
                                    r(t);
                                else {
                                    if (s = o(),
                                    null  === s)
                                        return r(null );
                                    n ? N.setImmediate(i) : i()
                                }
                            })),
                            void (n = !1))
                        }
                        r = u(r || n),
                        t = t || [];
                        var o = m(t)
                          , s = o();
                        i()
                    }
                    ,
                    N.forEachOfLimit = N.eachOfLimit = function(t, e, r, i) {
                        b(e)(t, r, i)
                    }
                    ,
                    N.map = _(S),
                    N.mapSeries = E(S),
                    N.mapLimit = T(S),
                    N.inject = N.foldl = N.reduce = function(t, e, r, i) {
                        N.eachOfSeries(t, function(t, i, n) {
                            r(e, t, function(t, r) {
                                e = r,
                                n(t)
                            })
                        }, function(t) {
                            i(t, e)
                        })
                    }
                    ,
                    N.foldr = N.reduceRight = function(t, e, r, i) {
                        var n = p(t, o).reverse();
                        N.reduce(n, e, r, i)
                    }
                    ,
                    N.transform = function(t, e, r, i) {
                        3 === arguments.length && (i = r,
                        r = e,
                        e = j(t) ? [] : {}),
                        N.eachOf(t, function(t, i, n) {
                            r(e, t, i, n)
                        }, function(t) {
                            i(t, e)
                        })
                    }
                    ,
                    N.select = N.filter = _(w),
                    N.selectLimit = N.filterLimit = T(w),
                    N.selectSeries = N.filterSeries = E(w),
                    N.reject = _(A),
                    N.rejectLimit = T(A),
                    N.rejectSeries = E(A),
                    N.any = N.some = C(N.eachOf, s, o),
                    N.someLimit = C(N.eachOfLimit, s, o),
                    N.all = N.every = C(N.eachOf, a, a),
                    N.everyLimit = C(N.eachOfLimit, a, a),
                    N.detect = C(N.eachOf, o, M),
                    N.detectSeries = C(N.eachOfSeries, o, M),
                    N.detectLimit = C(N.eachOfLimit, o, M),
                    N.sortBy = function(t, e, r) {
                        function i(t, e) {
                            var r = t.criteria
                              , i = e.criteria;
                            return i > r ? -1 : r > i ? 1 : 0
                        }
                        N.map(t, function(t, r) {
                            e(t, function(e, i) {
                                e ? r(e) : r(null , {
                                    value: t,
                                    criteria: i
                                })
                            })
                        }, function(t, e) {
                            return t ? r(t) : void r(null , p(e.sort(i), function(t) {
                                return t.value
                            }))
                        })
                    }
                    ,
                    N.auto = function(t, e, r) {
                        function i(t) {
                            m.unshift(t)
                        }
                        function o(t) {
                            var e = g(m, t);
                            e >= 0 && m.splice(e, 1)
                        }
                        function s() {
                            h--,
                            c(m.slice(0), function(t) {
                                t()
                            })
                        }
                        "function" == typeof arguments[1] && (r = e,
                        e = null ),
                        r = u(r || n);
                        var a = Y(t)
                          , h = a.length;
                        if (!h)
                            return r(null );
                        e || (e = h);
                        var l = {}
                          , p = 0
                          , d = !1
                          , m = [];
                        i(function() {
                            h || r(null , l)
                        }),
                        c(a, function(n) {
                            function a() {
                                return e > p && f(x, function(t, e) {
                                    return t && l.hasOwnProperty(e)
                                }, !0) && !l.hasOwnProperty(n)
                            }
                            function h() {
                                a() && (p++,
                                o(h),
                                c[c.length - 1](m, l))
                            }
                            if (!d) {
                                for (var u, c = j(t[n]) ? t[n] : [t[n]], m = y(function(t, e) {
                                    if (p--,
                                    e.length <= 1 && (e = e[0]),
                                    t) {
                                        var i = {};
                                        v(l, function(t, e) {
                                            i[e] = t
                                        }),
                                        i[n] = e,
                                        d = !0,
                                        r(t, i)
                                    } else
                                        l[n] = e,
                                        N.setImmediate(s)
                                }), x = c.slice(0, c.length - 1), b = x.length; b--; ) {
                                    if (!(u = t[x[b]]))
                                        throw new Error("Has nonexistent dependency in " + x.join(", "));
                                    if (j(u) && g(u, n) >= 0)
                                        throw new Error("Has cyclic dependencies")
                                }
                                a() ? (p++,
                                c[c.length - 1](m, l)) : i(h)
                            }
                        })
                    }
                    ,
                    N.retry = function(t, e, r) {
                        function i(t, e) {
                            if ("number" == typeof e)
                                t.times = parseInt(e, 10) || o;
                            else {
                                if ("object" != typeof e)
                                    throw new Error("Unsupported argument type for 'times': " + typeof e);
                                t.times = parseInt(e.times, 10) || o,
                                t.interval = parseInt(e.interval, 10) || s
                            }
                        }
                        function n(t, e) {
                            function r(t, r) {
                                return function(i) {
                                    t(function(t, e) {
                                        i(!t || r, {
                                            err: t,
                                            result: e
                                        })
                                    }, e)
                                }
                            }
                            function i(t) {
                                return function(e) {
                                    setTimeout(function() {
                                        e(null )
                                    }, t)
                                }
                            }
                            for (; h.times; ) {
                                var n = !(h.times -= 1);
                                a.push(r(h.task, n)),
                                !n && h.interval > 0 && a.push(i(h.interval))
                            }
                            N.series(a, function(e, r) {
                                r = r[r.length - 1],
                                (t || h.callback)(r.err, r.result)
                            })
                        }
                        var o = 5
                          , s = 0
                          , a = []
                          , h = {
                            times: o,
                            interval: s
                        }
                          , u = arguments.length;
                        if (1 > u || u > 3)
                            throw new Error("Invalid arguments - must be either (task), (task, callback), (times, task) or (times, task, callback)");
                        return 2 >= u && "function" == typeof t && (r = e,
                        e = t),
                        "function" != typeof t && i(h, t),
                        h.callback = r,
                        h.task = e,
                        h.callback ? n() : n
                    }
                    ,
                    N.waterfall = function(t, e) {
                        function r(t) {
                            return y(function(i, n) {
                                if (i)
                                    e.apply(null , [i].concat(n));
                                else {
                                    var o = t.next();
                                    o ? n.push(r(o)) : n.push(e),
                                    L(t).apply(null , n)
                                }
                            })
                        }
                        if (e = u(e || n),
                        !j(t)) {
                            var i = new Error("First argument to waterfall must be an array of functions");
                            return e(i)
                        }
                        return t.length ? void r(N.iterator(t))() : e()
                    }
                    ,
                    N.parallel = function(t, e) {
                        R(N.eachOf, t, e)
                    }
                    ,
                    N.parallelLimit = function(t, e, r) {
                        R(b(e), t, r)
                    }
                    ,
                    N.series = function(t, e) {
                        R(N.eachOfSeries, t, e)
                    }
                    ,
                    N.iterator = function(t) {
                        function e(r) {
                            function i() {
                                return t.length && t[r].apply(null , arguments),
                                i.next()
                            }
                            return i.next = function() {
                                return r < t.length - 1 ? e(r + 1) : null 
                            }
                            ,
                            i
                        }
                        return e(0)
                    }
                    ,
                    N.apply = y(function(t, e) {
                        return y(function(r) {
                            return t.apply(null , e.concat(r))
                        })
                    }),
                    N.concat = _(O),
                    N.concatSeries = E(O),
                    N.whilst = function(t, e, r) {
                        if (r = r || n,
                        t()) {
                            var i = y(function(n, o) {
                                n ? r(n) : t.apply(this, o) ? e(i) : r.apply(null , [null ].concat(o))
                            });
                            e(i)
                        } else
                            r(null )
                    }
                    ,
                    N.doWhilst = function(t, e, r) {
                        var i = 0;
                        return N.whilst(function() {
                            return ++i <= 1 || e.apply(this, arguments)
                        }, t, r)
                    }
                    ,
                    N.until = function(t, e, r) {
                        return N.whilst(function() {
                            return !t.apply(this, arguments)
                        }, e, r)
                    }
                    ,
                    N.doUntil = function(t, e, r) {
                        return N.doWhilst(t, function() {
                            return !e.apply(this, arguments)
                        }, r)
                    }
                    ,
                    N.during = function(t, e, r) {
                        r = r || n;
                        var i = y(function(e, i) {
                            e ? r(e) : (i.push(o),
                            t.apply(this, i))
                        })
                          , o = function(t, n) {
                            t ? r(t) : n ? e(i) : r(null )
                        }
                        ;
                        t(o)
                    }
                    ,
                    N.doDuring = function(t, e, r) {
                        var i = 0;
                        N.during(function(t) {
                            i++ < 1 ? t(null , !0) : e.apply(this, arguments)
                        }, t, r)
                    }
                    ,
                    N.queue = function(t, e) {
                        var r = P(function(e, r) {
                            t(e[0], r)
                        }, e, 1);
                        return r
                    }
                    ,
                    N.priorityQueue = function(t, e) {
                        function r(t, e) {
                            return t.priority - e.priority
                        }
                        function i(t, e, r) {
                            for (var i = -1, n = t.length - 1; n > i; ) {
                                var o = i + (n - i + 1 >>> 1);
                                r(e, t[o]) >= 0 ? i = o : n = o - 1
                            }
                            return i
                        }
                        function o(t, e, o, s) {
                            if (null  != s && "function" != typeof s)
                                throw new Error("task callback must be a function");
                            return t.started = !0,
                            j(e) || (e = [e]),
                            0 === e.length ? N.setImmediate(function() {
                                t.drain()
                            }) : void c(e, function(e) {
                                var a = {
                                    data: e,
                                    priority: o,
                                    callback: "function" == typeof s ? s : n
                                };
                                t.tasks.splice(i(t.tasks, a, r) + 1, 0, a),
                                t.tasks.length === t.concurrency && t.saturated(),
                                N.setImmediate(t.process)
                            })
                        }
                        var s = N.queue(t, e);
                        return s.push = function(t, e, r) {
                            o(s, t, e, r)
                        }
                        ,
                        delete s.unshift,
                        s
                    }
                    ,
                    N.cargo = function(t, e) {
                        return P(t, 1, e)
                    }
                    ,
                    N.log = F("log"),
                    N.dir = F("dir"),
                    N.memoize = function(t, e) {
                        var r = {}
                          , i = {}
                          , n = Object.prototype.hasOwnProperty;
                        e = e || o;
                        var s = y(function(o) {
                            var s = o.pop()
                              , a = e.apply(null , o);
                            n.call(r, a) ? N.setImmediate(function() {
                                s.apply(null , r[a])
                            }) : n.call(i, a) ? i[a].push(s) : (i[a] = [s],
                            t.apply(null , o.concat([y(function(t) {
                                r[a] = t;
                                var e = i[a];
                                delete i[a];
                                for (var n = 0, o = e.length; o > n; n++)
                                    e[n].apply(null , t)
                            })])))
                        });
                        return s.memo = r,
                        s.unmemoized = t,
                        s
                    }
                    ,
                    N.unmemoize = function(t) {
                        return function() {
                            return (t.unmemoized || t).apply(null , arguments)
                        }
                    }
                    ,
                    N.times = D(N.map),
                    N.timesSeries = D(N.mapSeries),
                    N.timesLimit = function(t, e, r, i) {
                        return N.mapLimit(d(t), e, r, i)
                    }
                    ,
                    N.seq = function() {
                        var t = arguments;
                        return y(function(e) {
                            var r = this
                              , i = e[e.length - 1];
                            "function" == typeof i ? e.pop() : i = n,
                            N.reduce(t, e, function(t, e, i) {
                                e.apply(r, t.concat([y(function(t, e) {
                                    i(t, e)
                                })]))
                            }, function(t, e) {
                                i.apply(r, [t].concat(e))
                            })
                        })
                    }
                    ,
                    N.compose = function() {
                        return N.seq.apply(null , Array.prototype.reverse.call(arguments))
                    }
                    ,
                    N.applyEach = B(N.eachOf),
                    N.applyEachSeries = B(N.eachOfSeries),
                    N.forever = function(t, e) {
                        function r(t) {
                            return t ? i(t) : void o(r)
                        }
                        var i = h(e || n)
                          , o = L(t);
                        r()
                    }
                    ,
                    N.ensureAsync = L,
                    N.constant = y(function(t) {
                        var e = [null ].concat(t);
                        return function(t) {
                            return t.apply(this, e)
                        }
                    }),
                    N.wrapSync = N.asyncify = function(t) {
                        return y(function(e) {
                            var r, i = e.pop();
                            try {
                                r = t.apply(this, e)
                            } catch (n) {
                                return i(n)
                            }
                            X(r) && "function" == typeof r.then ? r.then(function(t) {
                                i(null , t)
                            })["catch"](function(t) {
                                i(t.message ? t : new Error(t))
                            }) : i(null , r)
                        })
                    }
                    ,
                    "object" == typeof r && r.exports ? r.exports = N : "function" == typeof t && t.amd ? t([], function() {
                        return N
                    }) : U.async = N
                }()
            }
            ).call(this, e("_process"), "undefined" != typeof global ? global : "undefined" != typeof self ? self : "undefined" != typeof window ? window : {})
        }
        , {
            _process: 3
        }],
        2: [function(t, e, r) {
            (function(t) {
                function e(t, e) {
                    for (var r = 0, i = t.length - 1; i >= 0; i--) {
                        var n = t[i];
                        "." === n ? t.splice(i, 1) : ".." === n ? (t.splice(i, 1),
                        r++) : r && (t.splice(i, 1),
                        r--)
                    }
                    if (e)
                        for (; r--; r)
                            t.unshift("..");
                    return t
                }
                function i(t, e) {
                    if (t.filter)
                        return t.filter(e);
                    for (var r = [], i = 0; i < t.length; i++)
                        e(t[i], i, t) && r.push(t[i]);
                    return r
                }
                var n = /^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/
                  , o = function(t) {
                    return n.exec(t).slice(1)
                }
                ;
                r.resolve = function() {
                    for (var r = "", n = !1, o = arguments.length - 1; o >= -1 && !n; o--) {
                        var s = o >= 0 ? arguments[o] : t.cwd();
                        if ("string" != typeof s)
                            throw new TypeError("Arguments to path.resolve must be strings");
                        s && (r = s + "/" + r,
                        n = "/" === s.charAt(0))
                    }
                    return r = e(i(r.split("/"), function(t) {
                        return !!t
                    }), !n).join("/"),
                    (n ? "/" : "") + r || "."
                }
                ,
                r.normalize = function(t) {
                    var n = r.isAbsolute(t)
                      , o = "/" === s(t, -1);
                    return t = e(i(t.split("/"), function(t) {
                        return !!t
                    }), !n).join("/"),
                    t || n || (t = "."),
                    t && o && (t += "/"),
                    (n ? "/" : "") + t
                }
                ,
                r.isAbsolute = function(t) {
                    return "/" === t.charAt(0)
                }
                ,
                r.join = function() {
                    var t = Array.prototype.slice.call(arguments, 0);
                    return r.normalize(i(t, function(t, e) {
                        if ("string" != typeof t)
                            throw new TypeError("Arguments to path.join must be strings");
                        return t
                    }).join("/"))
                }
                ,
                r.relative = function(t, e) {
                    function i(t) {
                        for (var e = 0; e < t.length && "" === t[e]; e++)
                            ;
                        for (var r = t.length - 1; r >= 0 && "" === t[r]; r--)
                            ;
                        return e > r ? [] : t.slice(e, r - e + 1)
                    }
                    t = r.resolve(t).substr(1),
                    e = r.resolve(e).substr(1);
                    for (var n = i(t.split("/")), o = i(e.split("/")), s = Math.min(n.length, o.length), a = s, h = 0; s > h; h++)
                        if (n[h] !== o[h]) {
                            a = h;
                            break
                        }
                    for (var u = [], h = a; h < n.length; h++)
                        u.push("..");
                    return u = u.concat(o.slice(a)),
                    u.join("/")
                }
                ,
                r.sep = "/",
                r.delimiter = ":",
                r.dirname = function(t) {
                    var e = o(t)
                      , r = e[0]
                      , i = e[1];
                    return r || i ? (i && (i = i.substr(0, i.length - 1)),
                    r + i) : "."
                }
                ,
                r.basename = function(t, e) {
                    var r = o(t)[2];
                    return e && r.substr(-1 * e.length) === e && (r = r.substr(0, r.length - e.length)),
                    r
                }
                ,
                r.extname = function(t) {
                    return o(t)[3]
                }
                ;
                var s = "b" === "ab".substr(-1) ? function(t, e, r) {
                    return t.substr(e, r)
                }
                 : function(t, e, r) {
                    return 0 > e && (e = t.length + e),
                    t.substr(e, r)
                }
            }
            ).call(this, t("_process"))
        }
        , {
            _process: 3
        }],
        3: [function(t, e, r) {
            function i() {
                l = !1,
                a.length ? u = a.concat(u) : c = -1,
                u.length && n()
            }
            function n() {
                if (!l) {
                    var t = setTimeout(i);
                    l = !0;
                    for (var e = u.length; e; ) {
                        for (a = u,
                        u = []; ++c < e; )
                            a && a[c].run();
                        c = -1,
                        e = u.length
                    }
                    a = null ,
                    l = !1,
                    clearTimeout(t)
                }
            }
            function o(t, e) {
                this.fun = t,
                this.array = e
            }
            function s() {}
            var a, h = e.exports = {}, u = [], l = !1, c = -1;
            h.nextTick = function(t) {
                var e = new Array(arguments.length - 1);
                if (arguments.length > 1)
                    for (var r = 1; r < arguments.length; r++)
                        e[r - 1] = arguments[r];
                u.push(new o(t,e)),
                1 !== u.length || l || setTimeout(n, 0)
            }
            ,
            o.prototype.run = function() {
                this.fun.apply(null , this.array)
            }
            ,
            h.title = "browser",
            h.browser = !0,
            h.env = {},
            h.argv = [],
            h.version = "",
            h.versions = {},
            h.on = s,
            h.addListener = s,
            h.once = s,
            h.off = s,
            h.removeListener = s,
            h.removeAllListeners = s,
            h.emit = s,
            h.binding = function(t) {
                throw new Error("process.binding is not supported")
            }
            ,
            h.cwd = function() {
                return "/"
            }
            ,
            h.chdir = function(t) {
                throw new Error("process.chdir is not supported")
            }
            ,
            h.umask = function() {
                return 0
            }
        }
        , {}],
        4: [function(e, r, i) {
            (function(e) {
                !function(n) {
                    function o(t) {
                        throw new RangeError(B[t])
                    }
                    function s(t, e) {
                        for (var r = t.length, i = []; r--; )
                            i[r] = e(t[r]);
                        return i
                    }
                    function a(t, e) {
                        var r = t.split("@")
                          , i = "";
                        r.length > 1 && (i = r[0] + "@",
                        t = r[1]),
                        t = t.replace(D, ".");
                        var n = t.split(".")
                          , o = s(n, e).join(".");
                        return i + o
                    }
                    function h(t) {
                        for (var e, r, i = [], n = 0, o = t.length; o > n; )
                            e = t.charCodeAt(n++),
                            e >= 55296 && 56319 >= e && o > n ? (r = t.charCodeAt(n++),
                            56320 == (64512 & r) ? i.push(((1023 & e) << 10) + (1023 & r) + 65536) : (i.push(e),
                            n--)) : i.push(e);
                        return i
                    }
                    function u(t) {
                        return s(t, function(t) {
                            var e = "";
                            return t > 65535 && (t -= 65536,
                            e += N(t >>> 10 & 1023 | 55296),
                            t = 56320 | 1023 & t),
                            e += N(t)
                        }).join("")
                    }
                    function l(t) {
                        return 10 > t - 48 ? t - 22 : 26 > t - 65 ? t - 65 : 26 > t - 97 ? t - 97 : E
                    }
                    function c(t, e) {
                        return t + 22 + 75 * (26 > t) - ((0 != e) << 5)
                    }
                    function p(t, e, r) {
                        var i = 0;
                        for (t = r ? I(t / C) : t >> 1,
                        t += I(t / e); t > L * w >> 1; i += E)
                            t = I(t / L);
                        return I(i + (L + 1) * t / (t + A))
                    }
                    function d(t) {
                        var e, r, i, n, s, a, h, c, d, f, v = [], g = t.length, m = 0, y = R, x = M;
                        for (r = t.lastIndexOf(O),
                        0 > r && (r = 0),
                        i = 0; r > i; ++i)
                            t.charCodeAt(i) >= 128 && o("not-basic"),
                            v.push(t.charCodeAt(i));
                        for (n = r > 0 ? r + 1 : 0; g > n; ) {
                            for (s = m,
                            a = 1,
                            h = E; n >= g && o("invalid-input"),
                            c = l(t.charCodeAt(n++)),
                            (c >= E || c > I((T - m) / a)) && o("overflow"),
                            m += c * a,
                            d = x >= h ? S : h >= x + w ? w : h - x,
                            !(d > c); h += E)
                                f = E - d,
                                a > I(T / f) && o("overflow"),
                                a *= f;
                            e = v.length + 1,
                            x = p(m - s, e, 0 == s),
                            I(m / e) > T - y && o("overflow"),
                            y += I(m / e),
                            m %= e,
                            v.splice(m++, 0, y)
                        }
                        return u(v)
                    }
                    function f(t) {
                        var e, r, i, n, s, a, u, l, d, f, v, g, m, y, x, b = [];
                        for (t = h(t),
                        g = t.length,
                        e = R,
                        r = 0,
                        s = M,
                        a = 0; g > a; ++a)
                            v = t[a],
                            128 > v && b.push(N(v));
                        for (i = n = b.length,
                        n && b.push(O); g > i; ) {
                            for (u = T,
                            a = 0; g > a; ++a)
                                v = t[a],
                                v >= e && u > v && (u = v);
                            for (m = i + 1,
                            u - e > I((T - r) / m) && o("overflow"),
                            r += (u - e) * m,
                            e = u,
                            a = 0; g > a; ++a)
                                if (v = t[a],
                                e > v && ++r > T && o("overflow"),
                                v == e) {
                                    for (l = r,
                                    d = E; f = s >= d ? S : d >= s + w ? w : d - s,
                                    !(f > l); d += E)
                                        x = l - f,
                                        y = E - f,
                                        b.push(N(c(f + x % y, 0))),
                                        l = I(x / y);
                                    b.push(N(c(l, 0))),
                                    s = p(r, m, i == n),
                                    r = 0,
                                    ++i
                                }
                            ++r,
                            ++e
                        }
                        return b.join("")
                    }
                    function v(t) {
                        return a(t, function(t) {
                            return P.test(t) ? d(t.slice(4).toLowerCase()) : t
                        })
                    }
                    function g(t) {
                        return a(t, function(t) {
                            return F.test(t) ? "xn--" + f(t) : t
                        })
                    }
                    var m = "object" == typeof i && i && !i.nodeType && i
                      , y = "object" == typeof r && r && !r.nodeType && r
                      , x = "object" == typeof e && e;
                    (x.global === x || x.window === x || x.self === x) && (n = x);
                    var b, _, T = 2147483647, E = 36, S = 1, w = 26, A = 38, C = 700, M = 72, R = 128, O = "-", P = /^xn--/, F = /[^\x20-\x7E]/, D = /[\x2E\u3002\uFF0E\uFF61]/g, B = {
                        overflow: "Overflow: input needs wider integers to process",
                        "not-basic": "Illegal input >= 0x80 (not a basic code point)",
                        "invalid-input": "Invalid input"
                    }, L = E - S, I = Math.floor, N = String.fromCharCode;
                    if (b = {
                        version: "1.3.2",
                        ucs2: {
                            decode: h,
                            encode: u
                        },
                        decode: d,
                        encode: f,
                        toASCII: g,
                        toUnicode: v
                    },
                    "function" == typeof t && "object" == typeof t.amd && t.amd)
                        t("punycode", function() {
                            return b
                        });
                    else if (m && y)
                        if (r.exports == m)
                            y.exports = b;
                        else
                            for (_ in b)
                                b.hasOwnProperty(_) && (m[_] = b[_]);
                    else
                        n.punycode = b
                }(this)
            }
            ).call(this, "undefined" != typeof global ? global : "undefined" != typeof self ? self : "undefined" != typeof window ? window : {})
        }
        , {}],
        5: [function(t, e, r) {
            "use strict";
            function i(t, e) {
                return Object.prototype.hasOwnProperty.call(t, e)
            }
            e.exports = function(t, e, r, o) {
                e = e || "&",
                r = r || "=";
                var s = {};
                if ("string" != typeof t || 0 === t.length)
                    return s;
                var a = /\+/g;
                t = t.split(e);
                var h = 1e3;
                o && "number" == typeof o.maxKeys && (h = o.maxKeys);
                var u = t.length;
                h > 0 && u > h && (u = h);
                for (var l = 0; u > l; ++l) {
                    var c, p, d, f, v = t[l].replace(a, "%20"), g = v.indexOf(r);
                    g >= 0 ? (c = v.substr(0, g),
                    p = v.substr(g + 1)) : (c = v,
                    p = ""),
                    d = decodeURIComponent(c),
                    f = decodeURIComponent(p),
                    i(s, d) ? n(s[d]) ? s[d].push(f) : s[d] = [s[d], f] : s[d] = f
                }
                return s
            }
            ;
            var n = Array.isArray || function(t) {
                return "[object Array]" === Object.prototype.toString.call(t)
            }
        }
        , {}],
        6: [function(t, e, r) {
            "use strict";
            function i(t, e) {
                if (t.map)
                    return t.map(e);
                for (var r = [], i = 0; i < t.length; i++)
                    r.push(e(t[i], i));
                return r
            }
            var n = function(t) {
                switch (typeof t) {
                case "string":
                    return t;
                case "boolean":
                    return t ? "true" : "false";
                case "number":
                    return isFinite(t) ? t : "";
                default:
                    return ""
                }
            }
            ;
            e.exports = function(t, e, r, a) {
                return e = e || "&",
                r = r || "=",
                null  === t && (t = void 0),
                "object" == typeof t ? i(s(t), function(s) {
                    var a = encodeURIComponent(n(s)) + r;
                    return o(t[s]) ? i(t[s], function(t) {
                        return a + encodeURIComponent(n(t))
                    }).join(e) : a + encodeURIComponent(n(t[s]))
                }).join(e) : a ? encodeURIComponent(n(a)) + r + encodeURIComponent(n(t)) : ""
            }
            ;
            var o = Array.isArray || function(t) {
                return "[object Array]" === Object.prototype.toString.call(t)
            }
              , s = Object.keys || function(t) {
                var e = [];
                for (var r in t)
                    Object.prototype.hasOwnProperty.call(t, r) && e.push(r);
                return e
            }
        }
        , {}],
        7: [function(t, e, r) {
            "use strict";
            r.decode = r.parse = t("./decode"),
            r.encode = r.stringify = t("./encode")
        }
        , {
            "./decode": 5,
            "./encode": 6
        }],
        8: [function(t, e, r) {
            function i() {
                this.protocol = null ,
                this.slashes = null ,
                this.auth = null ,
                this.host = null ,
                this.port = null ,
                this.hostname = null ,
                this.hash = null ,
                this.search = null ,
                this.query = null ,
                this.pathname = null ,
                this.path = null ,
                this.href = null 
            }
            function n(t, e, r) {
                if (t && u(t) && t instanceof i)
                    return t;
                var n = new i;
                return n.parse(t, e, r),
                n
            }
            function o(t) {
                return h(t) && (t = n(t)),
                t instanceof i ? t.format() : i.prototype.format.call(t)
            }
            function s(t, e) {
                return n(t, !1, !0).resolve(e)
            }
            function a(t, e) {
                return t ? n(t, !1, !0).resolveObject(e) : e
            }
            function h(t) {
                return "string" == typeof t
            }
            function u(t) {
                return "object" == typeof t && null  !== t
            }
            function l(t) {
                return null  === t
            }
            function c(t) {
                return null  == t
            }
            var p = t("punycode");
            r.parse = n,
            r.resolve = s,
            r.resolveObject = a,
            r.format = o,
            r.Url = i;
            var d = /^([a-z0-9.+-]+:)/i
              , f = /:[0-9]*$/
              , v = ["<", ">", '"', "`", " ", "\r", "\n", "	"]
              , g = ["{", "}", "|", "\\", "^", "`"].concat(v)
              , m = ["'"].concat(g)
              , y = ["%", "/", "?", ";", "#"].concat(m)
              , x = ["/", "?", "#"]
              , b = 255
              , _ = /^[a-z0-9A-Z_-]{0,63}$/
              , T = /^([a-z0-9A-Z_-]{0,63})(.*)$/
              , E = {
                javascript: !0,
                "javascript:": !0
            }
              , S = {
                javascript: !0,
                "javascript:": !0
            }
              , w = {
                http: !0,
                https: !0,
                ftp: !0,
                gopher: !0,
                file: !0,
                "http:": !0,
                "https:": !0,
                "ftp:": !0,
                "gopher:": !0,
                "file:": !0
            }
              , A = t("querystring");
            i.prototype.parse = function(t, e, r) {
                if (!h(t))
                    throw new TypeError("Parameter 'url' must be a string, not " + typeof t);
                var i = t;
                i = i.trim();
                var n = d.exec(i);
                if (n) {
                    n = n[0];
                    var o = n.toLowerCase();
                    this.protocol = o,
                    i = i.substr(n.length)
                }
                if (r || n || i.match(/^\/\/[^@\/]+@[^@\/]+/)) {
                    var s = "//" === i.substr(0, 2);
                    !s || n && S[n] || (i = i.substr(2),
                    this.slashes = !0)
                }
                if (!S[n] && (s || n && !w[n])) {
                    for (var a = -1, u = 0; u < x.length; u++) {
                        var l = i.indexOf(x[u]);
                        -1 !== l && (-1 === a || a > l) && (a = l)
                    }
                    var c, f;
                    f = -1 === a ? i.lastIndexOf("@") : i.lastIndexOf("@", a),
                    -1 !== f && (c = i.slice(0, f),
                    i = i.slice(f + 1),
                    this.auth = decodeURIComponent(c)),
                    a = -1;
                    for (var u = 0; u < y.length; u++) {
                        var l = i.indexOf(y[u]);
                        -1 !== l && (-1 === a || a > l) && (a = l)
                    }
                    -1 === a && (a = i.length),
                    this.host = i.slice(0, a),
                    i = i.slice(a),
                    this.parseHost(),
                    this.hostname = this.hostname || "";
                    var v = "[" === this.hostname[0] && "]" === this.hostname[this.hostname.length - 1];
                    if (!v)
                        for (var g = this.hostname.split(/\./), u = 0, C = g.length; C > u; u++) {
                            var M = g[u];
                            if (M && !M.match(_)) {
                                for (var R = "", O = 0, P = M.length; P > O; O++)
                                    R += M.charCodeAt(O) > 127 ? "x" : M[O];
                                if (!R.match(_)) {
                                    var F = g.slice(0, u)
                                      , D = g.slice(u + 1)
                                      , B = M.match(T);
                                    B && (F.push(B[1]),
                                    D.unshift(B[2])),
                                    D.length && (i = "/" + D.join(".") + i),
                                    this.hostname = F.join(".");
                                    break
                                }
                            }
                        }
                    if (this.hostname.length > b ? this.hostname = "" : this.hostname = this.hostname.toLowerCase(),
                    !v) {
                        for (var L = this.hostname.split("."), I = [], u = 0; u < L.length; ++u) {
                            var N = L[u];
                            I.push(N.match(/[^A-Za-z0-9_-]/) ? "xn--" + p.encode(N) : N)
                        }
                        this.hostname = I.join(".")
                    }
                    var U = this.port ? ":" + this.port : ""
                      , k = this.hostname || "";
                    this.host = k + U,
                    this.href += this.host,
                    v && (this.hostname = this.hostname.substr(1, this.hostname.length - 2),
                    "/" !== i[0] && (i = "/" + i))
                }
                if (!E[o])
                    for (var u = 0, C = m.length; C > u; u++) {
                        var j = m[u]
                          , X = encodeURIComponent(j);
                        X === j && (X = escape(j)),
                        i = i.split(j).join(X)
                    }
                var Y = i.indexOf("#");
                -1 !== Y && (this.hash = i.substr(Y),
                i = i.slice(0, Y));
                var G = i.indexOf("?");
                if (-1 !== G ? (this.search = i.substr(G),
                this.query = i.substr(G + 1),
                e && (this.query = A.parse(this.query)),
                i = i.slice(0, G)) : e && (this.search = "",
                this.query = {}),
                i && (this.pathname = i),
                w[o] && this.hostname && !this.pathname && (this.pathname = "/"),
                this.pathname || this.search) {
                    var U = this.pathname || ""
                      , N = this.search || "";
                    this.path = U + N
                }
                return this.href = this.format(),
                this
            }
            ,
            i.prototype.format = function() {
                var t = this.auth || "";
                t && (t = encodeURIComponent(t),
                t = t.replace(/%3A/i, ":"),
                t += "@");
                var e = this.protocol || ""
                  , r = this.pathname || ""
                  , i = this.hash || ""
                  , n = !1
                  , o = "";
                this.host ? n = t + this.host : this.hostname && (n = t + (-1 === this.hostname.indexOf(":") ? this.hostname : "[" + this.hostname + "]"),
                this.port && (n += ":" + this.port)),
                this.query && u(this.query) && Object.keys(this.query).length && (o = A.stringify(this.query));
                var s = this.search || o && "?" + o || "";
                return e && ":" !== e.substr(-1) && (e += ":"),
                this.slashes || (!e || w[e]) && n !== !1 ? (n = "//" + (n || ""),
                r && "/" !== r.charAt(0) && (r = "/" + r)) : n || (n = ""),
                i && "#" !== i.charAt(0) && (i = "#" + i),
                s && "?" !== s.charAt(0) && (s = "?" + s),
                r = r.replace(/[?#]/g, function(t) {
                    return encodeURIComponent(t)
                }),
                s = s.replace("#", "%23"),
                e + n + r + s + i
            }
            ,
            i.prototype.resolve = function(t) {
                return this.resolveObject(n(t, !1, !0)).format()
            }
            ,
            i.prototype.resolveObject = function(t) {
                if (h(t)) {
                    var e = new i;
                    e.parse(t, !1, !0),
                    t = e
                }
                var r = new i;
                if (Object.keys(this).forEach(function(t) {
                    r[t] = this[t]
                }, this),
                r.hash = t.hash,
                "" === t.href)
                    return r.href = r.format(),
                    r;
                if (t.slashes && !t.protocol)
                    return Object.keys(t).forEach(function(e) {
                        "protocol" !== e && (r[e] = t[e])
                    }),
                    w[r.protocol] && r.hostname && !r.pathname && (r.path = r.pathname = "/"),
                    r.href = r.format(),
                    r;
                if (t.protocol && t.protocol !== r.protocol) {
                    if (!w[t.protocol])
                        return Object.keys(t).forEach(function(e) {
                            r[e] = t[e]
                        }),
                        r.href = r.format(),
                        r;
                    if (r.protocol = t.protocol,
                    t.host || S[t.protocol])
                        r.pathname = t.pathname;
                    else {
                        for (var n = (t.pathname || "").split("/"); n.length && !(t.host = n.shift()); )
                            ;
                        t.host || (t.host = ""),
                        t.hostname || (t.hostname = ""),
                        "" !== n[0] && n.unshift(""),
                        n.length < 2 && n.unshift(""),
                        r.pathname = n.join("/")
                    }
                    if (r.search = t.search,
                    r.query = t.query,
                    r.host = t.host || "",
                    r.auth = t.auth,
                    r.hostname = t.hostname || t.host,
                    r.port = t.port,
                    r.pathname || r.search) {
                        var o = r.pathname || ""
                          , s = r.search || "";
                        r.path = o + s
                    }
                    return r.slashes = r.slashes || t.slashes,
                    r.href = r.format(),
                    r
                }
                var a = r.pathname && "/" === r.pathname.charAt(0)
                  , u = t.host || t.pathname && "/" === t.pathname.charAt(0)
                  , p = u || a || r.host && t.pathname
                  , d = p
                  , f = r.pathname && r.pathname.split("/") || []
                  , n = t.pathname && t.pathname.split("/") || []
                  , v = r.protocol && !w[r.protocol];
                if (v && (r.hostname = "",
                r.port = null ,
                r.host && ("" === f[0] ? f[0] = r.host : f.unshift(r.host)),
                r.host = "",
                t.protocol && (t.hostname = null ,
                t.port = null ,
                t.host && ("" === n[0] ? n[0] = t.host : n.unshift(t.host)),
                t.host = null ),
                p = p && ("" === n[0] || "" === f[0])),
                u)
                    r.host = t.host || "" === t.host ? t.host : r.host,
                    r.hostname = t.hostname || "" === t.hostname ? t.hostname : r.hostname,
                    r.search = t.search,
                    r.query = t.query,
                    f = n;
                else if (n.length)
                    f || (f = []),
                    f.pop(),
                    f = f.concat(n),
                    r.search = t.search,
                    r.query = t.query;
                else if (!c(t.search)) {
                    if (v) {
                        r.hostname = r.host = f.shift();
                        var g = r.host && r.host.indexOf("@") > 0 ? r.host.split("@") : !1;
                        g && (r.auth = g.shift(),
                        r.host = r.hostname = g.shift())
                    }
                    return r.search = t.search,
                    r.query = t.query,
                    l(r.pathname) && l(r.search) || (r.path = (r.pathname ? r.pathname : "") + (r.search ? r.search : "")),
                    r.href = r.format(),
                    r
                }
                if (!f.length)
                    return r.pathname = null ,
                    r.search ? r.path = "/" + r.search : r.path = null ,
                    r.href = r.format(),
                    r;
                for (var m = f.slice(-1)[0], y = (r.host || t.host) && ("." === m || ".." === m) || "" === m, x = 0, b = f.length; b >= 0; b--)
                    m = f[b],
                    "." == m ? f.splice(b, 1) : ".." === m ? (f.splice(b, 1),
                    x++) : x && (f.splice(b, 1),
                    x--);
                if (!p && !d)
                    for (; x--; x)
                        f.unshift("..");
                !p || "" === f[0] || f[0] && "/" === f[0].charAt(0) || f.unshift(""),
                y && "/" !== f.join("/").substr(-1) && f.push("");
                var _ = "" === f[0] || f[0] && "/" === f[0].charAt(0);
                if (v) {
                    r.hostname = r.host = _ ? "" : f.length ? f.shift() : "";
                    var g = r.host && r.host.indexOf("@") > 0 ? r.host.split("@") : !1;
                    g && (r.auth = g.shift(),
                    r.host = r.hostname = g.shift())
                }
                return p = p || r.host && f.length,
                p && !_ && f.unshift(""),
                f.length ? r.pathname = f.join("/") : (r.pathname = null ,
                r.path = null ),
                l(r.pathname) && l(r.search) || (r.path = (r.pathname ? r.pathname : "") + (r.search ? r.search : "")),
                r.auth = t.auth || r.auth,
                r.slashes = r.slashes || t.slashes,
                r.href = r.format(),
                r
            }
            ,
            i.prototype.parseHost = function() {
                var t = this.host
                  , e = f.exec(t);
                e && (e = e[0],
                ":" !== e && (this.port = e.substr(1)),
                t = t.substr(0, t.length - e.length)),
                t && (this.hostname = t)
            }
        }
        , {
            punycode: 4,
            querystring: 7
        }],
        9: [function(t, e, r) {
            "use strict";
            function i(t, e, r) {
                r = r || 2;
                var i = e && e.length
                  , o = i ? e[0] * r : t.length
                  , a = n(t, 0, o, r, !0)
                  , h = [];
                if (!a)
                    return h;
                var u, l, p, d, f, v, g;
                if (i && (a = c(t, e, a, r)),
                t.length > 80 * r) {
                    u = p = t[0],
                    l = d = t[1];
                    for (var m = r; o > m; m += r)
                        f = t[m],
                        v = t[m + 1],
                        u > f && (u = f),
                        l > v && (l = v),
                        f > p && (p = f),
                        v > d && (d = v);
                    g = Math.max(p - u, d - l)
                }
                return s(a, h, r, u, l, g),
                h
            }
            function n(t, e, r, i, n) {
                var o, s, a, h = 0;
                for (o = e,
                s = r - i; r > o; o += i)
                    h += (t[s] - t[o]) * (t[o + 1] + t[s + 1]),
                    s = o;
                if (n === h > 0)
                    for (o = e; r > o; o += i)
                        a = M(o, t[o], t[o + 1], a);
                else
                    for (o = r - i; o >= e; o -= i)
                        a = M(o, t[o], t[o + 1], a);
                return a
            }
            function o(t, e) {
                if (!t)
                    return t;
                e || (e = t);
                var r, i = t;
                do
                    if (r = !1,
                    i.steiner || !T(i, i.next) && 0 !== _(i.prev, i, i.next))
                        i = i.next;
                    else {
                        if (R(i),
                        i = e = i.prev,
                        i === i.next)
                            return null ;
                        r = !0
                    }
                while (r || i !== e);return e
            }
            function s(t, e, r, i, n, c, p) {
                if (t) {
                    !p && c && v(t, i, n, c);
                    for (var d, f, g = t; t.prev !== t.next; )
                        if (d = t.prev,
                        f = t.next,
                        c ? h(t, i, n, c) : a(t))
                            e.push(d.i / r),
                            e.push(t.i / r),
                            e.push(f.i / r),
                            R(t),
                            t = f.next,
                            g = f.next;
                        else if (t = f,
                        t === g) {
                            p ? 1 === p ? (t = u(t, e, r),
                            s(t, e, r, i, n, c, 2)) : 2 === p && l(t, e, r, i, n, c) : s(o(t), e, r, i, n, c, 1);
                            break
                        }
                }
            }
            function a(t) {
                var e = t.prev
                  , r = t
                  , i = t.next;
                if (_(e, r, i) >= 0)
                    return !1;
                for (var n = t.next.next; n !== t.prev; ) {
                    if (x(e.x, e.y, r.x, r.y, i.x, i.y, n.x, n.y) && _(n.prev, n, n.next) >= 0)
                        return !1;
                    n = n.next
                }
                return !0
            }
            function h(t, e, r, i) {
                var n = t.prev
                  , o = t
                  , s = t.next;
                if (_(n, o, s) >= 0)
                    return !1;
                for (var a = n.x < o.x ? n.x < s.x ? n.x : s.x : o.x < s.x ? o.x : s.x, h = n.y < o.y ? n.y < s.y ? n.y : s.y : o.y < s.y ? o.y : s.y, u = n.x > o.x ? n.x > s.x ? n.x : s.x : o.x > s.x ? o.x : s.x, l = n.y > o.y ? n.y > s.y ? n.y : s.y : o.y > s.y ? o.y : s.y, c = m(a, h, e, r, i), p = m(u, l, e, r, i), d = t.nextZ; d && d.z <= p; ) {
                    if (d !== t.prev && d !== t.next && x(n.x, n.y, o.x, o.y, s.x, s.y, d.x, d.y) && _(d.prev, d, d.next) >= 0)
                        return !1;
                    d = d.nextZ
                }
                for (d = t.prevZ; d && d.z >= c; ) {
                    if (d !== t.prev && d !== t.next && x(n.x, n.y, o.x, o.y, s.x, s.y, d.x, d.y) && _(d.prev, d, d.next) >= 0)
                        return !1;
                    d = d.prevZ
                }
                return !0
            }
            function u(t, e, r) {
                var i = t;
                do {
                    var n = i.prev
                      , o = i.next.next;
                    E(n, i, i.next, o) && w(n, o) && w(o, n) && (e.push(n.i / r),
                    e.push(i.i / r),
                    e.push(o.i / r),
                    R(i),
                    R(i.next),
                    i = t = o),
                    i = i.next
                } while (i !== t);return i
            }
            function l(t, e, r, i, n, a) {
                var h = t;
                do {
                    for (var u = h.next.next; u !== h.prev; ) {
                        if (h.i !== u.i && b(h, u)) {
                            var l = C(h, u);
                            return h = o(h, h.next),
                            l = o(l, l.next),
                            s(h, e, r, i, n, a),
                            void s(l, e, r, i, n, a)
                        }
                        u = u.next
                    }
                    h = h.next
                } while (h !== t)
            }
            function c(t, e, r, i) {
                var s, a, h, u, l, c = [];
                for (s = 0,
                a = e.length; a > s; s++)
                    h = e[s] * i,
                    u = a - 1 > s ? e[s + 1] * i : t.length,
                    l = n(t, h, u, i, !1),
                    l === l.next && (l.steiner = !0),
                    c.push(y(l));
                for (c.sort(p),
                s = 0; s < c.length; s++)
                    d(c[s], r),
                    r = o(r, r.next);
                return r
            }
            function p(t, e) {
                return t.x - e.x
            }
            function d(t, e) {
                if (e = f(t, e)) {
                    var r = C(e, t);
                    o(r, r.next)
                }
            }
            function f(t, e) {
                var r, i = e, n = t.x, o = t.y, s = -(1 / 0);
                do {
                    if (o <= i.y && o >= i.next.y) {
                        var a = i.x + (o - i.y) * (i.next.x - i.x) / (i.next.y - i.y);
                        n >= a && a > s && (s = a,
                        r = i.x < i.next.x ? i : i.next)
                    }
                    i = i.next
                } while (i !== e);if (!r)
                    return null ;
                if (t.x === r.x)
                    return r.prev;
                var h, u = r, l = 1 / 0;
                for (i = r.next; i !== u; )
                    n >= i.x && i.x >= r.x && x(o < r.y ? n : s, o, r.x, r.y, o < r.y ? s : n, o, i.x, i.y) && (h = Math.abs(o - i.y) / (n - i.x),
                    (l > h || h === l && i.x > r.x) && w(i, t) && (r = i,
                    l = h)),
                    i = i.next;
                return r
            }
            function v(t, e, r, i) {
                var n = t;
                do
                    null  === n.z && (n.z = m(n.x, n.y, e, r, i)),
                    n.prevZ = n.prev,
                    n.nextZ = n.next,
                    n = n.next;
                while (n !== t);n.prevZ.nextZ = null ,
                n.prevZ = null ,
                g(n)
            }
            function g(t) {
                var e, r, i, n, o, s, a, h, u = 1;
                do {
                    for (r = t,
                    t = null ,
                    o = null ,
                    s = 0; r; ) {
                        for (s++,
                        i = r,
                        a = 0,
                        e = 0; u > e && (a++,
                        i = i.nextZ,
                        i); e++)
                            ;
                        for (h = u; a > 0 || h > 0 && i; )
                            0 === a ? (n = i,
                            i = i.nextZ,
                            h--) : 0 !== h && i ? r.z <= i.z ? (n = r,
                            r = r.nextZ,
                            a--) : (n = i,
                            i = i.nextZ,
                            h--) : (n = r,
                            r = r.nextZ,
                            a--),
                            o ? o.nextZ = n : t = n,
                            n.prevZ = o,
                            o = n;
                        r = i
                    }
                    o.nextZ = null ,
                    u *= 2
                } while (s > 1);return t
            }
            function m(t, e, r, i, n) {
                return t = 32767 * (t - r) / n,
                e = 32767 * (e - i) / n,
                t = 16711935 & (t | t << 8),
                t = 252645135 & (t | t << 4),
                t = 858993459 & (t | t << 2),
                t = 1431655765 & (t | t << 1),
                e = 16711935 & (e | e << 8),
                e = 252645135 & (e | e << 4),
                e = 858993459 & (e | e << 2),
                e = 1431655765 & (e | e << 1),
                t | e << 1
            }
            function y(t) {
                var e = t
                  , r = t;
                do
                    e.x < r.x && (r = e),
                    e = e.next;
                while (e !== t);return r
            }
            function x(t, e, r, i, n, o, s, a) {
                return (n - s) * (e - a) - (t - s) * (o - a) >= 0 && (t - s) * (i - a) - (r - s) * (e - a) >= 0 && (r - s) * (o - a) - (n - s) * (i - a) >= 0
            }
            function b(t, e) {
                return T(t, e) || t.next.i !== e.i && t.prev.i !== e.i && !S(t, e) && w(t, e) && w(e, t) && A(t, e)
            }
            function _(t, e, r) {
                return (e.y - t.y) * (r.x - e.x) - (e.x - t.x) * (r.y - e.y)
            }
            function T(t, e) {
                return t.x === e.x && t.y === e.y
            }
            function E(t, e, r, i) {
                return _(t, e, r) > 0 != _(t, e, i) > 0 && _(r, i, t) > 0 != _(r, i, e) > 0
            }
            function S(t, e) {
                var r = t;
                do {
                    if (r.i !== t.i && r.next.i !== t.i && r.i !== e.i && r.next.i !== e.i && E(r, r.next, t, e))
                        return !0;
                    r = r.next
                } while (r !== t);return !1
            }
            function w(t, e) {
                return _(t.prev, t, t.next) < 0 ? _(t, e, t.next) >= 0 && _(t, t.prev, e) >= 0 : _(t, e, t.prev) < 0 || _(t, t.next, e) < 0
            }
            function A(t, e) {
                var r = t
                  , i = !1
                  , n = (t.x + e.x) / 2
                  , o = (t.y + e.y) / 2;
                do
                    r.y > o != r.next.y > o && n < (r.next.x - r.x) * (o - r.y) / (r.next.y - r.y) + r.x && (i = !i),
                    r = r.next;
                while (r !== t);return i
            }
            function C(t, e) {
                var r = new O(t.i,t.x,t.y)
                  , i = new O(e.i,e.x,e.y)
                  , n = t.next
                  , o = e.prev;
                return t.next = e,
                e.prev = t,
                r.next = n,
                n.prev = r,
                i.next = r,
                r.prev = i,
                o.next = i,
                i.prev = o,
                i
            }
            function M(t, e, r, i) {
                var n = new O(t,e,r);
                return i ? (n.next = i.next,
                n.prev = i,
                i.next.prev = n,
                i.next = n) : (n.prev = n,
                n.next = n),
                n
            }
            function R(t) {
                t.next.prev = t.prev,
                t.prev.next = t.next,
                t.prevZ && (t.prevZ.nextZ = t.nextZ),
                t.nextZ && (t.nextZ.prevZ = t.prevZ)
            }
            function O(t, e, r) {
                this.i = t,
                this.x = e,
                this.y = r,
                this.prev = null ,
                this.next = null ,
                this.z = null ,
                this.prevZ = null ,
                this.nextZ = null ,
                this.steiner = !1
            }
            e.exports = i
        }
        , {}],
        10: [function(t, e, r) {
            "use strict";
            function i(t, e, r) {
                this.fn = t,
                this.context = e,
                this.once = r || !1
            }
            function n() {}
            var o = "function" != typeof Object.create ? "~" : !1;
            n.prototype._events = void 0,
            n.prototype.listeners = function(t, e) {
                var r = o ? o + t : t
                  , i = this._events && this._events[r];
                if (e)
                    return !!i;
                if (!i)
                    return [];
                if (i.fn)
                    return [i.fn];
                for (var n = 0, s = i.length, a = new Array(s); s > n; n++)
                    a[n] = i[n].fn;
                return a
            }
            ,
            n.prototype.emit = function(t, e, r, i, n, s) {
                var a = o ? o + t : t;
                if (!this._events || !this._events[a])
                    return !1;
                var h, u, l = this._events[a], c = arguments.length;
                if ("function" == typeof l.fn) {
                    switch (l.once && this.removeListener(t, l.fn, void 0, !0),
                    c) {
                    case 1:
                        return l.fn.call(l.context),
                        !0;
                    case 2:
                        return l.fn.call(l.context, e),
                        !0;
                    case 3:
                        return l.fn.call(l.context, e, r),
                        !0;
                    case 4:
                        return l.fn.call(l.context, e, r, i),
                        !0;
                    case 5:
                        return l.fn.call(l.context, e, r, i, n),
                        !0;
                    case 6:
                        return l.fn.call(l.context, e, r, i, n, s),
                        !0
                    }
                    for (u = 1,
                    h = new Array(c - 1); c > u; u++)
                        h[u - 1] = arguments[u];
                    l.fn.apply(l.context, h)
                } else {
                    var p, d = l.length;
                    for (u = 0; d > u; u++)
                        switch (l[u].once && this.removeListener(t, l[u].fn, void 0, !0),
                        c) {
                        case 1:
                            l[u].fn.call(l[u].context);
                            break;
                        case 2:
                            l[u].fn.call(l[u].context, e);
                            break;
                        case 3:
                            l[u].fn.call(l[u].context, e, r);
                            break;
                        default:
                            if (!h)
                                for (p = 1,
                                h = new Array(c - 1); c > p; p++)
                                    h[p - 1] = arguments[p];
                            l[u].fn.apply(l[u].context, h)
                        }
                }
                return !0
            }
            ,
            n.prototype.on = function(t, e, r) {
                var n = new i(e,r || this)
                  , s = o ? o + t : t;
                return this._events || (this._events = o ? {} : Object.create(null )),
                this._events[s] ? this._events[s].fn ? this._events[s] = [this._events[s], n] : this._events[s].push(n) : this._events[s] = n,
                this
            }
            ,
            n.prototype.once = function(t, e, r) {
                var n = new i(e,r || this,!0)
                  , s = o ? o + t : t;
                return this._events || (this._events = o ? {} : Object.create(null )),
                this._events[s] ? this._events[s].fn ? this._events[s] = [this._events[s], n] : this._events[s].push(n) : this._events[s] = n,
                this
            }
            ,
            n.prototype.removeListener = function(t, e, r, i) {
                var n = o ? o + t : t;
                if (!this._events || !this._events[n])
                    return this;
                var s = this._events[n]
                  , a = [];
                if (e)
                    if (s.fn)
                        (s.fn !== e || i && !s.once || r && s.context !== r) && a.push(s);
                    else
                        for (var h = 0, u = s.length; u > h; h++)
                            (s[h].fn !== e || i && !s[h].once || r && s[h].context !== r) && a.push(s[h]);
                return a.length ? this._events[n] = 1 === a.length ? a[0] : a : delete this._events[n],
                this
            }
            ,
            n.prototype.removeAllListeners = function(t) {
                return this._events ? (t ? delete this._events[o ? o + t : t] : this._events = o ? {} : Object.create(null ),
                this) : this
            }
            ,
            n.prototype.off = n.prototype.removeListener,
            n.prototype.addListener = n.prototype.on,
            n.prototype.setMaxListeners = function() {
                return this
            }
            ,
            n.prefixed = o,
            "undefined" != typeof e && (e.exports = n)
        }
        , {}],
        11: [function(t, e, r) {
            "use strict";
            function i(t) {
                if (null  === t || void 0 === t)
                    throw new TypeError("Object.assign cannot be called with null or undefined");
                return Object(t)
            }
            var n = Object.prototype.hasOwnProperty
              , o = Object.prototype.propertyIsEnumerable;
            e.exports = Object.assign || function(t, e) {
                for (var r, s, a = i(t), h = 1; h < arguments.length; h++) {
                    r = Object(arguments[h]);
                    for (var u in r)
                        n.call(r, u) && (a[u] = r[u]);
                    if (Object.getOwnPropertySymbols) {
                        s = Object.getOwnPropertySymbols(r);
                        for (var l = 0; l < s.length; l++)
                            o.call(r, s[l]) && (a[s[l]] = r[s[l]])
                    }
                }
                return a
            }
        }
        , {}],
        12: [function(e, r, i) {
            (function(e) {
                !function() {
                    function i(t) {
                        var e = !1;
                        return function() {
                            if (e)
                                throw new Error("Callback was already called.");
                            e = !0,
                            t.apply(n, arguments)
                        }
                    }
                    var n, o, s = {};
                    n = this,
                    null  != n && (o = n.async),
                    s.noConflict = function() {
                        return n.async = o,
                        s
                    }
                    ;
                    var a = Object.prototype.toString
                      , h = Array.isArray || function(t) {
                        return "[object Array]" === a.call(t)
                    }
                      , u = function(t, e) {
                        for (var r = 0; r < t.length; r += 1)
                            e(t[r], r, t)
                    }
                      , l = function(t, e) {
                        if (t.map)
                            return t.map(e);
                        var r = [];
                        return u(t, function(t, i, n) {
                            r.push(e(t, i, n))
                        }),
                        r
                    }
                      , c = function(t, e, r) {
                        return t.reduce ? t.reduce(e, r) : (u(t, function(t, i, n) {
                            r = e(r, t, i, n)
                        }),
                        r)
                    }
                      , p = function(t) {
                        if (Object.keys)
                            return Object.keys(t);
                        var e = [];
                        for (var r in t)
                            t.hasOwnProperty(r) && e.push(r);
                        return e
                    }
                    ;
                    "undefined" != typeof e && e.nextTick ? (s.nextTick = e.nextTick,
                    "undefined" != typeof setImmediate ? s.setImmediate = function(t) {
                        setImmediate(t)
                    }
                     : s.setImmediate = s.nextTick) : "function" == typeof setImmediate ? (s.nextTick = function(t) {
                        setImmediate(t)
                    }
                    ,
                    s.setImmediate = s.nextTick) : (s.nextTick = function(t) {
                        setTimeout(t, 0)
                    }
                    ,
                    s.setImmediate = s.nextTick),
                    s.each = function(t, e, r) {
                        function n(e) {
                            e ? (r(e),
                            r = function() {}
                            ) : (o += 1,
                            o >= t.length && r())
                        }
                        if (r = r || function() {}
                        ,
                        !t.length)
                            return r();
                        var o = 0;
                        u(t, function(t) {
                            e(t, i(n))
                        })
                    }
                    ,
                    s.forEach = s.each,
                    s.eachSeries = function(t, e, r) {
                        if (r = r || function() {}
                        ,
                        !t.length)
                            return r();
                        var i = 0
                          , n = function() {
                            e(t[i], function(e) {
                                e ? (r(e),
                                r = function() {}
                                ) : (i += 1,
                                i >= t.length ? r() : n())
                            })
                        }
                        ;
                        n()
                    }
                    ,
                    s.forEachSeries = s.eachSeries,
                    s.eachLimit = function(t, e, r, i) {
                        var n = d(e);
                        n.apply(null , [t, r, i])
                    }
                    ,
                    s.forEachLimit = s.eachLimit;
                    var d = function(t) {
                        return function(e, r, i) {
                            if (i = i || function() {}
                            ,
                            !e.length || 0 >= t)
                                return i();
                            var n = 0
                              , o = 0
                              , s = 0;
                            !function a() {
                                if (n >= e.length)
                                    return i();
                                for (; t > s && o < e.length; )
                                    o += 1,
                                    s += 1,
                                    r(e[o - 1], function(t) {
                                        t ? (i(t),
                                        i = function() {}
                                        ) : (n += 1,
                                        s -= 1,
                                        n >= e.length ? i() : a())
                                    })
                            }()
                        }
                    }
                      , f = function(t) {
                        return function() {
                            var e = Array.prototype.slice.call(arguments);
                            return t.apply(null , [s.each].concat(e))
                        }
                    }
                      , v = function(t, e) {
                        return function() {
                            var r = Array.prototype.slice.call(arguments);
                            return e.apply(null , [d(t)].concat(r))
                        }
                    }
                      , g = function(t) {
                        return function() {
                            var e = Array.prototype.slice.call(arguments);
                            return t.apply(null , [s.eachSeries].concat(e))
                        }
                    }
                      , m = function(t, e, r, i) {
                        if (e = l(e, function(t, e) {
                            return {
                                index: e,
                                value: t
                            }
                        }),
                        i) {
                            var n = [];
                            t(e, function(t, e) {
                                r(t.value, function(r, i) {
                                    n[t.index] = i,
                                    e(r)
                                })
                            }, function(t) {
                                i(t, n)
                            })
                        } else
                            t(e, function(t, e) {
                                r(t.value, function(t) {
                                    e(t)
                                })
                            })
                    }
                    ;
                    s.map = f(m),
                    s.mapSeries = g(m),
                    s.mapLimit = function(t, e, r, i) {
                        return y(e)(t, r, i)
                    }
                    ;
                    var y = function(t) {
                        return v(t, m)
                    }
                    ;
                    s.reduce = function(t, e, r, i) {
                        s.eachSeries(t, function(t, i) {
                            r(e, t, function(t, r) {
                                e = r,
                                i(t)
                            })
                        }, function(t) {
                            i(t, e)
                        })
                    }
                    ,
                    s.inject = s.reduce,
                    s.foldl = s.reduce,
                    s.reduceRight = function(t, e, r, i) {
                        var n = l(t, function(t) {
                            return t
                        }).reverse();
                        s.reduce(n, e, r, i)
                    }
                    ,
                    s.foldr = s.reduceRight;
                    var x = function(t, e, r, i) {
                        var n = [];
                        e = l(e, function(t, e) {
                            return {
                                index: e,
                                value: t
                            }
                        }),
                        t(e, function(t, e) {
                            r(t.value, function(r) {
                                r && n.push(t),
                                e()
                            })
                        }, function(t) {
                            i(l(n.sort(function(t, e) {
                                return t.index - e.index
                            }), function(t) {
                                return t.value
                            }))
                        })
                    }
                    ;
                    s.filter = f(x),
                    s.filterSeries = g(x),
                    s.select = s.filter,
                    s.selectSeries = s.filterSeries;
                    var b = function(t, e, r, i) {
                        var n = [];
                        e = l(e, function(t, e) {
                            return {
                                index: e,
                                value: t
                            }
                        }),
                        t(e, function(t, e) {
                            r(t.value, function(r) {
                                r || n.push(t),
                                e()
                            })
                        }, function(t) {
                            i(l(n.sort(function(t, e) {
                                return t.index - e.index
                            }), function(t) {
                                return t.value
                            }))
                        })
                    }
                    ;
                    s.reject = f(b),
                    s.rejectSeries = g(b);
                    var _ = function(t, e, r, i) {
                        t(e, function(t, e) {
                            r(t, function(r) {
                                r ? (i(t),
                                i = function() {}
                                ) : e()
                            })
                        }, function(t) {
                            i()
                        })
                    }
                    ;
                    s.detect = f(_),
                    s.detectSeries = g(_),
                    s.some = function(t, e, r) {
                        s.each(t, function(t, i) {
                            e(t, function(t) {
                                t && (r(!0),
                                r = function() {}
                                ),
                                i()
                            })
                        }, function(t) {
                            r(!1)
                        })
                    }
                    ,
                    s.any = s.some,
                    s.every = function(t, e, r) {
                        s.each(t, function(t, i) {
                            e(t, function(t) {
                                t || (r(!1),
                                r = function() {}
                                ),
                                i()
                            })
                        }, function(t) {
                            r(!0)
                        })
                    }
                    ,
                    s.all = s.every,
                    s.sortBy = function(t, e, r) {
                        s.map(t, function(t, r) {
                            e(t, function(e, i) {
                                e ? r(e) : r(null , {
                                    value: t,
                                    criteria: i
                                })
                            })
                        }, function(t, e) {
                            if (t)
                                return r(t);
                            var i = function(t, e) {
                                var r = t.criteria
                                  , i = e.criteria;
                                return i > r ? -1 : r > i ? 1 : 0
                            }
                            ;
                            r(null , l(e.sort(i), function(t) {
                                return t.value
                            }))
                        })
                    }
                    ,
                    s.auto = function(t, e) {
                        e = e || function() {}
                        ;
                        var r = p(t)
                          , i = r.length;
                        if (!i)
                            return e();
                        var n = {}
                          , o = []
                          , a = function(t) {
                            o.unshift(t)
                        }
                          , l = function(t) {
                            for (var e = 0; e < o.length; e += 1)
                                if (o[e] === t)
                                    return void o.splice(e, 1)
                        }
                          , d = function() {
                            i--,
                            u(o.slice(0), function(t) {
                                t()
                            })
                        }
                        ;
                        a(function() {
                            if (!i) {
                                var t = e;
                                e = function() {}
                                ,
                                t(null , n)
                            }
                        }),
                        u(r, function(r) {
                            var i = h(t[r]) ? t[r] : [t[r]]
                              , o = function(t) {
                                var i = Array.prototype.slice.call(arguments, 1);
                                if (i.length <= 1 && (i = i[0]),
                                t) {
                                    var o = {};
                                    u(p(n), function(t) {
                                        o[t] = n[t]
                                    }),
                                    o[r] = i,
                                    e(t, o),
                                    e = function() {}
                                } else
                                    n[r] = i,
                                    s.setImmediate(d)
                            }
                              , f = i.slice(0, Math.abs(i.length - 1)) || []
                              , v = function() {
                                return c(f, function(t, e) {
                                    return t && n.hasOwnProperty(e)
                                }, !0) && !n.hasOwnProperty(r)
                            }
                            ;
                            if (v())
                                i[i.length - 1](o, n);
                            else {
                                var g = function() {
                                    v() && (l(g),
                                    i[i.length - 1](o, n))
                                }
                                ;
                                a(g)
                            }
                        })
                    }
                    ,
                    s.retry = function(t, e, r) {
                        var i = 5
                          , n = [];
                        "function" == typeof t && (r = e,
                        e = t,
                        t = i),
                        t = parseInt(t, 10) || i;
                        var o = function(i, o) {
                            for (var a = function(t, e) {
                                return function(r) {
                                    t(function(t, i) {
                                        r(!t || e, {
                                            err: t,
                                            result: i
                                        })
                                    }, o)
                                }
                            }
                            ; t; )
                                n.push(a(e, !(t -= 1)));
                            s.series(n, function(t, e) {
                                e = e[e.length - 1],
                                (i || r)(e.err, e.result)
                            })
                        }
                        ;
                        return r ? o() : o
                    }
                    ,
                    s.waterfall = function(t, e) {
                        if (e = e || function() {}
                        ,
                        !h(t)) {
                            var r = new Error("First argument to waterfall must be an array of functions");
                            return e(r)
                        }
                        if (!t.length)
                            return e();
                        var i = function(t) {
                            return function(r) {
                                if (r)
                                    e.apply(null , arguments),
                                    e = function() {}
                                    ;
                                else {
                                    var n = Array.prototype.slice.call(arguments, 1)
                                      , o = t.next();
                                    o ? n.push(i(o)) : n.push(e),
                                    s.setImmediate(function() {
                                        t.apply(null , n)
                                    })
                                }
                            }
                        }
                        ;
                        i(s.iterator(t))()
                    }
                    ;
                    var T = function(t, e, r) {
                        if (r = r || function() {}
                        ,
                        h(e))
                            t.map(e, function(t, e) {
                                t && t(function(t) {
                                    var r = Array.prototype.slice.call(arguments, 1);
                                    r.length <= 1 && (r = r[0]),
                                    e.call(null , t, r)
                                })
                            }, r);
                        else {
                            var i = {};
                            t.each(p(e), function(t, r) {
                                e[t](function(e) {
                                    var n = Array.prototype.slice.call(arguments, 1);
                                    n.length <= 1 && (n = n[0]),
                                    i[t] = n,
                                    r(e)
                                })
                            }, function(t) {
                                r(t, i)
                            })
                        }
                    }
                    ;
                    s.parallel = function(t, e) {
                        T({
                            map: s.map,
                            each: s.each
                        }, t, e)
                    }
                    ,
                    s.parallelLimit = function(t, e, r) {
                        T({
                            map: y(e),
                            each: d(e)
                        }, t, r)
                    }
                    ,
                    s.series = function(t, e) {
                        if (e = e || function() {}
                        ,
                        h(t))
                            s.mapSeries(t, function(t, e) {
                                t && t(function(t) {
                                    var r = Array.prototype.slice.call(arguments, 1);
                                    r.length <= 1 && (r = r[0]),
                                    e.call(null , t, r)
                                })
                            }, e);
                        else {
                            var r = {};
                            s.eachSeries(p(t), function(e, i) {
                                t[e](function(t) {
                                    var n = Array.prototype.slice.call(arguments, 1);
                                    n.length <= 1 && (n = n[0]),
                                    r[e] = n,
                                    i(t)
                                })
                            }, function(t) {
                                e(t, r)
                            })
                        }
                    }
                    ,
                    s.iterator = function(t) {
                        var e = function(r) {
                            var i = function() {
                                return t.length && t[r].apply(null , arguments),
                                i.next()
                            }
                            ;
                            return i.next = function() {
                                return r < t.length - 1 ? e(r + 1) : null 
                            }
                            ,
                            i
                        }
                        ;
                        return e(0)
                    }
                    ,
                    s.apply = function(t) {
                        var e = Array.prototype.slice.call(arguments, 1);
                        return function() {
                            return t.apply(null , e.concat(Array.prototype.slice.call(arguments)))
                        }
                    }
                    ;
                    var E = function(t, e, r, i) {
                        var n = [];
                        t(e, function(t, e) {
                            r(t, function(t, r) {
                                n = n.concat(r || []),
                                e(t)
                            })
                        }, function(t) {
                            i(t, n)
                        })
                    }
                    ;
                    s.concat = f(E),
                    s.concatSeries = g(E),
                    s.whilst = function(t, e, r) {
                        t() ? e(function(i) {
                            return i ? r(i) : void s.whilst(t, e, r)
                        }) : r()
                    }
                    ,
                    s.doWhilst = function(t, e, r) {
                        t(function(i) {
                            if (i)
                                return r(i);
                            var n = Array.prototype.slice.call(arguments, 1);
                            e.apply(null , n) ? s.doWhilst(t, e, r) : r()
                        })
                    }
                    ,
                    s.until = function(t, e, r) {
                        t() ? r() : e(function(i) {
                            return i ? r(i) : void s.until(t, e, r)
                        })
                    }
                    ,
                    s.doUntil = function(t, e, r) {
                        t(function(i) {
                            if (i)
                                return r(i);
                            var n = Array.prototype.slice.call(arguments, 1);
                            e.apply(null , n) ? r() : s.doUntil(t, e, r)
                        })
                    }
                    ,
                    s.queue = function(t, e) {
                        function r(t, e, r, i) {
                            return t.started || (t.started = !0),
                            h(e) || (e = [e]),
                            0 == e.length ? s.setImmediate(function() {
                                t.drain && t.drain()
                            }) : void u(e, function(e) {
                                var n = {
                                    data: e,
                                    callback: "function" == typeof i ? i : null 
                                };
                                r ? t.tasks.unshift(n) : t.tasks.push(n),
                                t.saturated && t.tasks.length === t.concurrency && t.saturated(),
                                s.setImmediate(t.process)
                            })
                        }
                        void 0 === e && (e = 1);
                        var n = 0
                          , o = {
                            tasks: [],
                            concurrency: e,
                            saturated: null ,
                            empty: null ,
                            drain: null ,
                            started: !1,
                            paused: !1,
                            push: function(t, e) {
                                r(o, t, !1, e)
                            },
                            kill: function() {
                                o.drain = null ,
                                o.tasks = []
                            },
                            unshift: function(t, e) {
                                r(o, t, !0, e)
                            },
                            process: function() {
                                if (!o.paused && n < o.concurrency && o.tasks.length) {
                                    var e = o.tasks.shift();
                                    o.empty && 0 === o.tasks.length && o.empty(),
                                    n += 1;
                                    var r = function() {
                                        n -= 1,
                                        e.callback && e.callback.apply(e, arguments),
                                        o.drain && o.tasks.length + n === 0 && o.drain(),
                                        o.process()
                                    }
                                      , s = i(r);
                                    t(e.data, s)
                                }
                            },
                            length: function() {
                                return o.tasks.length
                            },
                            running: function() {
                                return n
                            },
                            idle: function() {
                                return o.tasks.length + n === 0
                            },
                            pause: function() {
                                o.paused !== !0 && (o.paused = !0)
                            },
                            resume: function() {
                                if (o.paused !== !1) {
                                    o.paused = !1;
                                    for (var t = 1; t <= o.concurrency; t++)
                                        s.setImmediate(o.process)
                                }
                            }
                        };
                        return o
                    }
                    ,
                    s.priorityQueue = function(t, e) {
                        function r(t, e) {
                            return t.priority - e.priority
                        }
                        function i(t, e, r) {
                            for (var i = -1, n = t.length - 1; n > i; ) {
                                var o = i + (n - i + 1 >>> 1);
                                r(e, t[o]) >= 0 ? i = o : n = o - 1
                            }
                            return i
                        }
                        function n(t, e, n, o) {
                            return t.started || (t.started = !0),
                            h(e) || (e = [e]),
                            0 == e.length ? s.setImmediate(function() {
                                t.drain && t.drain()
                            }) : void u(e, function(e) {
                                var a = {
                                    data: e,
                                    priority: n,
                                    callback: "function" == typeof o ? o : null 
                                };
                                t.tasks.splice(i(t.tasks, a, r) + 1, 0, a),
                                t.saturated && t.tasks.length === t.concurrency && t.saturated(),
                                s.setImmediate(t.process)
                            })
                        }
                        var o = s.queue(t, e);
                        return o.push = function(t, e, r) {
                            n(o, t, e, r)
                        }
                        ,
                        delete o.unshift,
                        o
                    }
                    ,
                    s.cargo = function(t, e) {
                        var r = !1
                          , i = []
                          , n = {
                            tasks: i,
                            payload: e,
                            saturated: null ,
                            empty: null ,
                            drain: null ,
                            drained: !0,
                            push: function(t, r) {
                                h(t) || (t = [t]),
                                u(t, function(t) {
                                    i.push({
                                        data: t,
                                        callback: "function" == typeof r ? r : null 
                                    }),
                                    n.drained = !1,
                                    n.saturated && i.length === e && n.saturated()
                                }),
                                s.setImmediate(n.process)
                            },
                            process: function o() {
                                if (!r) {
                                    if (0 === i.length)
                                        return n.drain && !n.drained && n.drain(),
                                        void (n.drained = !0);
                                    var s = "number" == typeof e ? i.splice(0, e) : i.splice(0, i.length)
                                      , a = l(s, function(t) {
                                        return t.data
                                    });
                                    n.empty && n.empty(),
                                    r = !0,
                                    t(a, function() {
                                        r = !1;
                                        var t = arguments;
                                        u(s, function(e) {
                                            e.callback && e.callback.apply(null , t)
                                        }),
                                        o()
                                    })
                                }
                            },
                            length: function() {
                                return i.length
                            },
                            running: function() {
                                return r
                            }
                        };
                        return n
                    }
                    ;
                    var S = function(t) {
                        return function(e) {
                            var r = Array.prototype.slice.call(arguments, 1);
                            e.apply(null , r.concat([function(e) {
                                var r = Array.prototype.slice.call(arguments, 1);
                                "undefined" != typeof console && (e ? console.error && console.error(e) : console[t] && u(r, function(e) {
                                    console[t](e)
                                }))
                            }
                            ]))
                        }
                    }
                    ;
                    s.log = S("log"),
                    s.dir = S("dir"),
                    s.memoize = function(t, e) {
                        var r = {}
                          , i = {};
                        e = e || function(t) {
                            return t
                        }
                        ;
                        var n = function() {
                            var n = Array.prototype.slice.call(arguments)
                              , o = n.pop()
                              , a = e.apply(null , n);
                            a in r ? s.nextTick(function() {
                                o.apply(null , r[a])
                            }) : a in i ? i[a].push(o) : (i[a] = [o],
                            t.apply(null , n.concat([function() {
                                r[a] = arguments;
                                var t = i[a];
                                delete i[a];
                                for (var e = 0, n = t.length; n > e; e++)
                                    t[e].apply(null , arguments)
                            }
                            ])))
                        }
                        ;
                        return n.memo = r,
                        n.unmemoized = t,
                        n
                    }
                    ,
                    s.unmemoize = function(t) {
                        return function() {
                            return (t.unmemoized || t).apply(null , arguments)
                        }
                    }
                    ,
                    s.times = function(t, e, r) {
                        for (var i = [], n = 0; t > n; n++)
                            i.push(n);
                        return s.map(i, e, r)
                    }
                    ,
                    s.timesSeries = function(t, e, r) {
                        for (var i = [], n = 0; t > n; n++)
                            i.push(n);
                        return s.mapSeries(i, e, r)
                    }
                    ,
                    s.seq = function() {
                        var t = arguments;
                        return function() {
                            var e = this
                              , r = Array.prototype.slice.call(arguments)
                              , i = r.pop();
                            s.reduce(t, r, function(t, r, i) {
                                r.apply(e, t.concat([function() {
                                    var t = arguments[0]
                                      , e = Array.prototype.slice.call(arguments, 1);
                                    i(t, e)
                                }
                                ]))
                            }, function(t, r) {
                                i.apply(e, [t].concat(r))
                            })
                        }
                    }
                    ,
                    s.compose = function() {
                        return s.seq.apply(null , Array.prototype.reverse.call(arguments))
                    }
                    ;
                    var w = function(t, e) {
                        var r = function() {
                            var r = this
                              , i = Array.prototype.slice.call(arguments)
                              , n = i.pop();
                            return t(e, function(t, e) {
                                t.apply(r, i.concat([e]))
                            }, n)
                        }
                        ;
                        if (arguments.length > 2) {
                            var i = Array.prototype.slice.call(arguments, 2);
                            return r.apply(this, i)
                        }
                        return r
                    }
                    ;
                    s.applyEach = f(w),
                    s.applyEachSeries = g(w),
                    s.forever = function(t, e) {
                        function r(i) {
                            if (i) {
                                if (e)
                                    return e(i);
                                throw i
                            }
                            t(r)
                        }
                        r()
                    }
                    ,
                    "undefined" != typeof r && r.exports ? r.exports = s : "undefined" != typeof t && t.amd ? t([], function() {
                        return s
                    }) : n.async = s
                }()
            }
            ).call(this, e("_process"))
        }
        , {
            _process: 3
        }],
        13: [function(t, e, r) {
            function i(t, e) {
                a.call(this),
                e = e || 10,
                this.baseUrl = t || "",
                this.progress = 0,
                this.loading = !1,
                this._progressChunk = 0,
                this._beforeMiddleware = [],
                this._afterMiddleware = [],
                this._boundLoadResource = this._loadResource.bind(this),
                this._boundOnLoad = this._onLoad.bind(this),
                this._buffer = [],
                this._numToLoad = 0,
                this._queue = n.queue(this._boundLoadResource, e),
                this.resources = {}
            }
            var n = t("async")
              , o = t("url")
              , s = t("./Resource")
              , a = t("eventemitter3");
            i.prototype = Object.create(a.prototype),
            i.prototype.constructor = i,
            e.exports = i,
            i.prototype.add = i.prototype.enqueue = function(t, e, r, i) {
                if (Array.isArray(t)) {
                    for (var n = 0; n < t.length; ++n)
                        this.add(t[n]);
                    return this
                }
                if ("object" == typeof t && (i = e || t.callback || t.onComplete,
                r = t,
                e = t.url,
                t = t.name || t.key || t.url),
                "string" != typeof e && (i = r,
                r = e,
                e = t),
                "string" != typeof e)
                    throw new Error("No url passed to add resource to loader.");
                if ("function" == typeof r && (i = r,
                r = null ),
                this.resources[t])
                    throw new Error('Resource with name "' + t + '" already exists.');
                return e = this._handleBaseUrl(e),
                this.resources[t] = new s(t,e,r),
                "function" == typeof i && this.resources[t].once("afterMiddleware", i),
                this._numToLoad++,
                this._queue.started ? (this._queue.push(this.resources[t]),
                this._progressChunk = (100 - this.progress) / (this._queue.length() + this._queue.running())) : (this._buffer.push(this.resources[t]),
                this._progressChunk = 100 / this._buffer.length),
                this
            }
            ,
            i.prototype._handleBaseUrl = function(t) {
                var e = o.parse(t);
                return e.protocol || 0 === e.pathname.indexOf("//") ? t : this.baseUrl.length && this.baseUrl.lastIndexOf("/") !== this.baseUrl.length - 1 && "/" !== t.charAt(0) ? this.baseUrl + "/" + t : this.baseUrl + t
            }
            ,
            i.prototype.before = i.prototype.pre = function(t) {
                return this._beforeMiddleware.push(t),
                this
            }
            ,
            i.prototype.after = i.prototype.use = function(t) {
                return this._afterMiddleware.push(t),
                this
            }
            ,
            i.prototype.reset = function() {
                this.progress = 0,
                this.loading = !1,
                this._progressChunk = 0,
                this._buffer.length = 0,
                this._numToLoad = 0,
                this._queue.kill(),
                this._queue.started = !1,
                this.resources = {}
            }
            ,
            i.prototype.load = function(t) {
                if ("function" == typeof t && this.once("complete", t),
                this._queue.started)
                    return this;
                this.emit("start", this);
                for (var e = 0; e < this._buffer.length; ++e)
                    this._queue.push(this._buffer[e]);
                return this._buffer.length = 0,
                this
            }
            ,
            i.prototype._loadResource = function(t, e) {
                var r = this;
                t._dequeue = e,
                this._runMiddleware(t, this._beforeMiddleware, function() {
                    t.load(r._boundOnLoad)
                })
            }
            ,
            i.prototype._onComplete = function() {
                this.emit("complete", this, this.resources)
            }
            ,
            i.prototype._onLoad = function(t) {
                this.progress += this._progressChunk,
                this.emit("progress", this, t),
                this._runMiddleware(t, this._afterMiddleware, function() {
                    t.emit("afterMiddleware", t),
                    this._numToLoad--,
                    0 === this._numToLoad && (this.progress = 100,
                    this._onComplete()),
                    t.error ? this.emit("error", t.error, this, t) : this.emit("load", this, t)
                }),
                t._dequeue()
            }
            ,
            i.prototype._runMiddleware = function(t, e, r) {
                var i = this;
                n.eachSeries(e, function(e, r) {
                    e.call(i, t, r)
                }, r.bind(this, t))
            }
            ,
            i.LOAD_TYPE = s.LOAD_TYPE,
            i.XHR_READY_STATE = s.XHR_READY_STATE,
            i.XHR_RESPONSE_TYPE = s.XHR_RESPONSE_TYPE
        }
        , {
            "./Resource": 14,
            async: 12,
            eventemitter3: 10,
            url: 8
        }],
        14: [function(t, e, r) {
            function i(t, e, r) {
                if (s.call(this),
                r = r || {},
                "string" != typeof t || "string" != typeof e)
                    throw new Error("Both name and url are required for constructing a resource.");
                this.name = t,
                this.url = e,
                this.isDataUrl = 0 === this.url.indexOf("data:"),
                this.data = null ,
                this.crossOrigin = r.crossOrigin === !0 ? "anonymous" : r.crossOrigin,
                this.loadType = r.loadType || this._determineLoadType(),
                this.xhrType = r.xhrType,
                this.metadata = r.metadata || {},
                this.error = null ,
                this.xhr = null ,
                this.isJson = !1,
                this.isXml = !1,
                this.isImage = !1,
                this.isAudio = !1,
                this.isVideo = !1,
                this._dequeue = null ,
                this._boundComplete = this.complete.bind(this),
                this._boundOnError = this._onError.bind(this),
                this._boundOnProgress = this._onProgress.bind(this),
                this._boundXhrOnError = this._xhrOnError.bind(this),
                this._boundXhrOnAbort = this._xhrOnAbort.bind(this),
                this._boundXhrOnLoad = this._xhrOnLoad.bind(this),
                this._boundXdrOnTimeout = this._xdrOnTimeout.bind(this)
            }
            function n(t) {
                return t.toString().replace("object ", "")
            }
            function o(t, e, r) {
                e && 0 === e.indexOf(".") && (e = e.substring(1)),
                e && (t[e] = r)
            }
            var s = t("eventemitter3")
              , a = t("url")
              , h = !(!window.XDomainRequest || "withCredentials" in new XMLHttpRequest)
              , u = null ;
            i.prototype = Object.create(s.prototype),
            i.prototype.constructor = i,
            e.exports = i,
            i.prototype.complete = function() {
                this.data && this.data.removeEventListener && (this.data.removeEventListener("error", this._boundOnError),
                this.data.removeEventListener("load", this._boundComplete),
                this.data.removeEventListener("progress", this._boundOnProgress),
                this.data.removeEventListener("canplaythrough", this._boundComplete)),
                this.xhr && (this.xhr.removeEventListener ? (this.xhr.removeEventListener("error", this._boundXhrOnError),
                this.xhr.removeEventListener("abort", this._boundXhrOnAbort),
                this.xhr.removeEventListener("progress", this._boundOnProgress),
                this.xhr.removeEventListener("load", this._boundXhrOnLoad)) : (this.xhr.onerror = null ,
                this.xhr.ontimeout = null ,
                this.xhr.onprogress = null ,
                this.xhr.onload = null )),
                this.emit("complete", this)
            }
            ,
            i.prototype.load = function(t) {
                switch (this.emit("start", this),
                t && this.once("complete", t),
                (this.crossOrigin === !1 || "string" != typeof this.crossOrigin) && (this.crossOrigin = this._determineCrossOrigin(this.url)),
                this.loadType) {
                case i.LOAD_TYPE.IMAGE:
                    this._loadImage();
                    break;
                case i.LOAD_TYPE.AUDIO:
                    this._loadElement("audio");
                    break;
                case i.LOAD_TYPE.VIDEO:
                    this._loadElement("video");
                    break;
                case i.LOAD_TYPE.XHR:
                default:
                    h && this.crossOrigin ? this._loadXdr() : this._loadXhr()
                }
            }
            ,
            i.prototype._loadImage = function() {
                this.data = new Image,
                this.crossOrigin && (this.data.crossOrigin = this.crossOrigin),
                this.data.src = this.url,
                this.isImage = !0,
                this.data.addEventListener("error", this._boundOnError, !1),
                this.data.addEventListener("load", this._boundComplete, !1),
                this.data.addEventListener("progress", this._boundOnProgress, !1)
            }
            ,
            i.prototype._loadElement = function(t) {
                if ("audio" === t && "undefined" != typeof Audio ? this.data = new Audio : this.data = document.createElement(t),
                null  === this.data)
                    return this.error = new Error("Unsupported element " + t),
                    void this.complete();
                if (navigator.isCocoonJS)
                    this.data.src = Array.isArray(this.url) ? this.url[0] : this.url;
                else if (Array.isArray(this.url))
                    for (var e = 0; e < this.url.length; ++e)
                        this.data.appendChild(this._createSource(t, this.url[e]));
                else
                    this.data.appendChild(this._createSource(t, this.url));
                this["is" + t[0].toUpperCase() + t.substring(1)] = !0,
                this.data.addEventListener("error", this._boundOnError, !1),
                this.data.addEventListener("load", this._boundComplete, !1),
                this.data.addEventListener("progress", this._boundOnProgress, !1),
                this.data.addEventListener("canplaythrough", this._boundComplete, !1),
                this.data.load()
            }
            ,
            i.prototype._loadXhr = function() {
                "string" != typeof this.xhrType && (this.xhrType = this._determineXhrType());
                var t = this.xhr = new XMLHttpRequest;
                t.open("GET", this.url, !0),
                this.xhrType === i.XHR_RESPONSE_TYPE.JSON || this.xhrType === i.XHR_RESPONSE_TYPE.DOCUMENT ? t.responseType = i.XHR_RESPONSE_TYPE.TEXT : t.responseType = this.xhrType,
                t.addEventListener("error", this._boundXhrOnError, !1),
                t.addEventListener("abort", this._boundXhrOnAbort, !1),
                t.addEventListener("progress", this._boundOnProgress, !1),
                t.addEventListener("load", this._boundXhrOnLoad, !1),
                t.send()
            }
            ,
            i.prototype._loadXdr = function() {
                "string" != typeof this.xhrType && (this.xhrType = this._determineXhrType());
                var t = this.xhr = new XDomainRequest;
                t.timeout = 5e3,
                t.onerror = this._boundXhrOnError,
                t.ontimeout = this._boundXdrOnTimeout,
                t.onprogress = this._boundOnProgress,
                t.onload = this._boundXhrOnLoad,
                t.open("GET", this.url, !0),
                setTimeout(function() {
                    t.send()
                }, 0)
            }
            ,
            i.prototype._createSource = function(t, e, r) {
                r || (r = t + "/" + e.substr(e.lastIndexOf(".") + 1));
                var i = document.createElement("source");
                return i.src = e,
                i.type = r,
                i
            }
            ,
            i.prototype._onError = function(t) {
                this.error = new Error("Failed to load element using " + t.target.nodeName),
                this.complete()
            }
            ,
            i.prototype._onProgress = function(t) {
                t && t.lengthComputable && this.emit("progress", this, t.loaded / t.total)
            }
            ,
            i.prototype._xhrOnError = function() {
                this.error = new Error(n(this.xhr) + " Request failed. Status: " + this.xhr.status + ', text: "' + this.xhr.statusText + '"'),
                this.complete()
            }
            ,
            i.prototype._xhrOnAbort = function() {
                this.error = new Error(n(this.xhr) + " Request was aborted by the user."),
                this.complete()
            }
            ,
            i.prototype._xdrOnTimeout = function() {
                this.error = new Error(n(this.xhr) + " Request timed out."),
                this.complete()
            }
            ,
            i.prototype._xhrOnLoad = function() {
                var t = this.xhr
                  , e = void 0 !== t.status ? t.status : 200;
                if (200 === e || 204 === e || 0 === e && t.responseText.length > 0)
                    if (this.xhrType === i.XHR_RESPONSE_TYPE.TEXT)
                        this.data = t.responseText;
                    else if (this.xhrType === i.XHR_RESPONSE_TYPE.JSON)
                        try {
                            this.data = JSON.parse(t.responseText),
                            this.isJson = !0
                        } catch (r) {
                            this.error = new Error("Error trying to parse loaded json:",r)
                        }
                    else if (this.xhrType === i.XHR_RESPONSE_TYPE.DOCUMENT)
                        try {
                            if (window.DOMParser) {
                                var n = new DOMParser;
                                this.data = n.parseFromString(t.responseText, "text/xml")
                            } else {
                                var o = document.createElement("div");
                                o.innerHTML = t.responseText,
                                this.data = o
                            }
                            this.isXml = !0
                        } catch (r) {
                            this.error = new Error("Error trying to parse loaded xml:",r)
                        }
                    else
                        this.data = t.response || t.responseText;
                else
                    this.error = new Error("[" + t.status + "]" + t.statusText + ":" + t.responseURL);
                this.complete()
            }
            ,
            i.prototype._determineCrossOrigin = function(t, e) {
                if (0 === t.indexOf("data:"))
                    return "";
                e = e || window.location,
                u || (u = document.createElement("a")),
                u.href = t,
                t = a.parse(u.href);
                var r = !t.port && "" === e.port || t.port === e.port;
                return t.hostname === e.hostname && r && t.protocol === e.protocol ? "" : "anonymous"
            }
            ,
            i.prototype._determineXhrType = function() {
                return i._xhrTypeMap[this._getExtension()] || i.XHR_RESPONSE_TYPE.TEXT
            }
            ,
            i.prototype._determineLoadType = function() {
                return i._loadTypeMap[this._getExtension()] || i.LOAD_TYPE.XHR
            }
            ,
            i.prototype._getExtension = function() {
                var t, e = this.url;
                if (this.isDataUrl) {
                    var r = e.indexOf("/");
                    t = e.substring(r + 1, e.indexOf(";", r))
                } else {
                    var i = e.indexOf("?");
                    -1 !== i && (e = e.substring(0, i)),
                    t = e.substring(e.lastIndexOf(".") + 1)
                }
                return t
            }
            ,
            i.prototype._getMimeFromXhrType = function(t) {
                switch (t) {
                case i.XHR_RESPONSE_TYPE.BUFFER:
                    return "application/octet-binary";
                case i.XHR_RESPONSE_TYPE.BLOB:
                    return "application/blob";
                case i.XHR_RESPONSE_TYPE.DOCUMENT:
                    return "application/xml";
                case i.XHR_RESPONSE_TYPE.JSON:
                    return "application/json";
                case i.XHR_RESPONSE_TYPE.DEFAULT:
                case i.XHR_RESPONSE_TYPE.TEXT:
                default:
                    return "text/plain"
                }
            }
            ,
            i.LOAD_TYPE = {
                XHR: 1,
                IMAGE: 2,
                AUDIO: 3,
                VIDEO: 4
            },
            i.XHR_READY_STATE = {
                UNSENT: 0,
                OPENED: 1,
                HEADERS_RECEIVED: 2,
                LOADING: 3,
                DONE: 4
            },
            i.XHR_RESPONSE_TYPE = {
                DEFAULT: "text",
                BUFFER: "arraybuffer",
                BLOB: "blob",
                DOCUMENT: "document",
                JSON: "json",
                TEXT: "text"
            },
            i._loadTypeMap = {
                gif: i.LOAD_TYPE.IMAGE,
                png: i.LOAD_TYPE.IMAGE,
                bmp: i.LOAD_TYPE.IMAGE,
                jpg: i.LOAD_TYPE.IMAGE,
                jpeg: i.LOAD_TYPE.IMAGE,
                tif: i.LOAD_TYPE.IMAGE,
                tiff: i.LOAD_TYPE.IMAGE,
                webp: i.LOAD_TYPE.IMAGE,
                tga: i.LOAD_TYPE.IMAGE
            },
            i._xhrTypeMap = {
                xhtml: i.XHR_RESPONSE_TYPE.DOCUMENT,
                html: i.XHR_RESPONSE_TYPE.DOCUMENT,
                htm: i.XHR_RESPONSE_TYPE.DOCUMENT,
                xml: i.XHR_RESPONSE_TYPE.DOCUMENT,
                tmx: i.XHR_RESPONSE_TYPE.DOCUMENT,
                tsx: i.XHR_RESPONSE_TYPE.DOCUMENT,
                svg: i.XHR_RESPONSE_TYPE.DOCUMENT,
                gif: i.XHR_RESPONSE_TYPE.BLOB,
                png: i.XHR_RESPONSE_TYPE.BLOB,
                bmp: i.XHR_RESPONSE_TYPE.BLOB,
                jpg: i.XHR_RESPONSE_TYPE.BLOB,
                jpeg: i.XHR_RESPONSE_TYPE.BLOB,
                tif: i.XHR_RESPONSE_TYPE.BLOB,
                tiff: i.XHR_RESPONSE_TYPE.BLOB,
                webp: i.XHR_RESPONSE_TYPE.BLOB,
                tga: i.XHR_RESPONSE_TYPE.BLOB,
                json: i.XHR_RESPONSE_TYPE.JSON,
                text: i.XHR_RESPONSE_TYPE.TEXT,
                txt: i.XHR_RESPONSE_TYPE.TEXT
            },
            i.setExtensionLoadType = function(t, e) {
                o(i._loadTypeMap, t, e)
            }
            ,
            i.setExtensionXhrType = function(t, e) {
                o(i._xhrTypeMap, t, e)
            }
        }
        , {
            eventemitter3: 10,
            url: 8
        }],
        15: [function(t, e, r) {
            e.exports = {
                _keyStr: "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",
                encodeBinary: function(t) {
                    for (var e, r = "", i = new Array(4), n = 0, o = 0, s = 0; n < t.length; ) {
                        for (e = new Array(3),
                        o = 0; o < e.length; o++)
                            n < t.length ? e[o] = 255 & t.charCodeAt(n++) : e[o] = 0;
                        switch (i[0] = e[0] >> 2,
                        i[1] = (3 & e[0]) << 4 | e[1] >> 4,
                        i[2] = (15 & e[1]) << 2 | e[2] >> 6,
                        i[3] = 63 & e[2],
                        s = n - (t.length - 1)) {
                        case 2:
                            i[3] = 64,
                            i[2] = 64;
                            break;
                        case 1:
                            i[3] = 64
                        }
                        for (o = 0; o < i.length; o++)
                            r += this._keyStr.charAt(i[o])
                    }
                    return r
                }
            }
        }
        , {}],
        16: [function(t, e, r) {
            e.exports = t("./Loader"),
            e.exports.Resource = t("./Resource"),
            e.exports.middleware = {
                caching: {
                    memory: t("./middlewares/caching/memory")
                },
                parsing: {
                    blob: t("./middlewares/parsing/blob")
                }
            }
        }
        , {
            "./Loader": 13,
            "./Resource": 14,
            "./middlewares/caching/memory": 17,
            "./middlewares/parsing/blob": 18
        }],
        17: [function(t, e, r) {
            var i = {};
            e.exports = function() {
                return function(t, e) {
                    i[t.url] ? (t.data = i[t.url],
                    t.complete()) : t.once("complete", function() {
                        i[this.url] = this.data
                    }),
                    e()
                }
            }
        }
        , {}],
        18: [function(t, e, r) {
            var i = t("../../Resource")
              , n = t("../../b64");
            window.URL = window.URL || window.webkitURL,
            e.exports = function() {
                return function(t, e) {
                    if (!t.data)
                        return e();
                    if (t.xhr && t.xhrType === i.XHR_RESPONSE_TYPE.BLOB)
                        if (window.Blob && "string" != typeof t.data) {
                            if (0 === t.data.type.indexOf("image")) {
                                var r = URL.createObjectURL(t.data);
                                t.blob = t.data,
                                t.data = new Image,
                                t.data.src = r,
                                t.isImage = !0,
                                t.data.onload = function() {
                                    URL.revokeObjectURL(r),
                                    t.data.onload = null ,
                                    e()
                                }
                            }
                        } else {
                            var o = t.xhr.getResponseHeader("content-type");
                            o && 0 === o.indexOf("image") && (t.data = new Image,
                            t.data.src = "data:" + o + ";base64," + n.encodeBinary(t.xhr.responseText),
                            t.isImage = !0,
                            t.data.onload = function() {
                                t.data.onload = null ,
                                e()
                            }
                            )
                        }
                    else
                        e()
                }
            }
        }
        , {
            "../../Resource": 14,
            "../../b64": 15
        }],
        19: [function(t, e, r) {
            function i(t) {
                var e = document.createElement("div");
                e.style.width = "100px",
                e.style.height = "100px",
                e.style.position = "absolute",
                e.style.top = 0,
                e.style.left = 0,
                e.style.zIndex = 2,
                this.div = e,
                this.pool = [],
                this.renderId = 0,
                this.debug = !1,
                this.renderer = t,
                this.children = [],
                this._onKeyDown = this._onKeyDown.bind(this),
                this._onMouseMove = this._onMouseMove.bind(this),
                this.isActive = !1,
                window.addEventListener("keydown", this._onKeyDown, !1)
            }
            var n = t("../core");
            Object.assign(n.DisplayObject.prototype, t("./accessibleTarget")),
            i.prototype.constructor = i,
            e.exports = i,
            i.prototype.activate = function() {
                this.isActive || (this.isActive = !0,
                window.document.addEventListener("mousemove", this._onMouseMove, !0),
                window.removeEventListener("keydown", this._onKeyDown, !1),
                this.renderer.on("postrender", this.update, this),
                this.renderer.view.parentNode.appendChild(this.div))
            }
            ,
            i.prototype.deactivate = function() {
                this.isActive && (this.isActive = !1,
                window.document.removeEventListener("mousemove", this._onMouseMove),
                window.addEventListener("keydown", this._onKeyDown, !1),
                this.renderer.off("postrender", this.update),
                this.div.parentNode.removeChild(this.div))
            }
            ,
            i.prototype.updateAccessibleObjects = function(t) {
                if (t.visible && (t.accessible && t.interactive && (t._accessibleActive || this.addChild(t),
                t.renderId = this.renderId),
                t.interactiveChildren))
                    for (var e = t.children, r = e.length - 1; r >= 0; r--)
                        this.updateAccessibleObjects(e[r])
            }
            ,
            i.prototype.update = function() {
                this.updateAccessibleObjects(this.renderer._lastObjectRendered);
                var t = this.renderer.view.getBoundingClientRect()
                  , e = t.width / this.renderer.width
                  , r = t.height / this.renderer.height
                  , i = this.div;
                i.style.left = t.left + "px",
                i.style.top = t.top + "px",
                i.style.width = this.renderer.width + "px",
                i.style.height = this.renderer.height + "px";
                for (var o = 0; o < this.children.length; o++) {
                    var s = this.children[o];
                    if (s.renderId !== this.renderId)
                        s._accessibleActive = !1,
                        n.utils.removeItems(this.children, o, 1),
                        this.div.removeChild(s._accessibleDiv),
                        this.pool.push(s._accessibleDiv),
                        s._accessibleDiv = null ,
                        o--,
                        0 === this.children.length && this.deactivate();
                    else {
                        i = s._accessibleDiv;
                        var a = s.hitArea
                          , h = s.worldTransform;
                        s.hitArea ? (i.style.left = (h.tx + a.x * h.a) * e + "px",
                        i.style.top = (h.ty + a.y * h.d) * r + "px",
                        i.style.width = a.width * h.a * e + "px",
                        i.style.height = a.height * h.d * r + "px") : (a = s.getBounds(),
                        this.capHitArea(a),
                        i.style.left = a.x * e + "px",
                        i.style.top = a.y * r + "px",
                        i.style.width = a.width * e + "px",
                        i.style.height = a.height * r + "px")
                    }
                }
                this.renderId++
            }
            ,
            i.prototype.capHitArea = function(t) {
                t.x < 0 && (t.width += t.x,
                t.x = 0),
                t.y < 0 && (t.height += t.y,
                t.y = 0),
                t.x + t.width > this.renderer.width && (t.width = this.renderer.width - t.x),
                t.y + t.height > this.renderer.height && (t.height = this.renderer.height - t.y)
            }
            ,
            i.prototype.addChild = function(t) {
                var e = this.pool.pop();
                e || (e = document.createElement("button"),
                e.style.width = "100px",
                e.style.height = "100px",
                e.style.backgroundColor = this.debug ? "rgba(255,0,0,0.5)" : "transparent",
                e.style.position = "absolute",
                e.style.zIndex = 2,
                e.style.borderStyle = "none",
                e.addEventListener("click", this._onClick.bind(this)),
                e.addEventListener("focus", this._onFocus.bind(this)),
                e.addEventListener("focusout", this._onFocusOut.bind(this))),
                e.title = t.accessibleTitle || "displayObject " + this.tabIndex,
                t._accessibleActive = !0,
                t._accessibleDiv = e,
                e.displayObject = t,
                this.children.push(t),
                this.div.appendChild(t._accessibleDiv),
                t._accessibleDiv.tabIndex = t.tabIndex
            }
            ,
            i.prototype._onClick = function(t) {
                var e = this.renderer.plugins.interaction;
                e.dispatchEvent(t.target.displayObject, "click", e.eventData)
            }
            ,
            i.prototype._onFocus = function(t) {
                var e = this.renderer.plugins.interaction;
                e.dispatchEvent(t.target.displayObject, "mouseover", e.eventData)
            }
            ,
            i.prototype._onFocusOut = function(t) {
                var e = this.renderer.plugins.interaction;
                e.dispatchEvent(t.target.displayObject, "mouseout", e.eventData)
            }
            ,
            i.prototype._onKeyDown = function(t) {
                9 === t.keyCode && this.activate()
            }
            ,
            i.prototype._onMouseMove = function() {
                this.deactivate()
            }
            ,
            i.prototype.destroy = function() {
                this.div = null ;
                for (var t = 0; t < this.children.length; t++)
                    this.children[t].div = null ;
                window.document.removeEventListener("mousemove", this._onMouseMove),
                window.removeEventListener("keydown", this._onKeyDown),
                this.pool = null ,
                this.children = null ,
                this.renderer = null 
            }
            ,
            n.WebGLRenderer.registerPlugin("accessibility", i),
            n.CanvasRenderer.registerPlugin("accessibility", i)
        }
        , {
            "../core": 29,
            "./accessibleTarget": 20
        }],
        20: [function(t, e, r) {
            var i = {
                accessible: !1,
                accessibleTitle: null ,
                tabIndex: 0,
                _accessibleActive: !1,
                _accessibleDiv: !1
            };
            e.exports = i
        }
        , {}],
        21: [function(t, e, r) {
            e.exports = {
                accessibleTarget: t("./accessibleTarget"),
                AccessibilityManager: t("./AccessibilityManager")
            }
        }
        , {
            "./AccessibilityManager": 19,
            "./accessibleTarget": 20
        }],
        22: [function(t, e, r) {
            var i = {
                VERSION: "3.0.10",
                PI_2: 2 * Math.PI,
                RAD_TO_DEG: 180 / Math.PI,
                DEG_TO_RAD: Math.PI / 180,
                TARGET_FPMS: .06,
                RENDERER_TYPE: {
                    UNKNOWN: 0,
                    WEBGL: 1,
                    CANVAS: 2
                },
                BLEND_MODES: {
                    NORMAL: 0,
                    ADD: 1,
                    MULTIPLY: 2,
                    SCREEN: 3,
                    OVERLAY: 4,
                    DARKEN: 5,
                    LIGHTEN: 6,
                    COLOR_DODGE: 7,
                    COLOR_BURN: 8,
                    HARD_LIGHT: 9,
                    SOFT_LIGHT: 10,
                    DIFFERENCE: 11,
                    EXCLUSION: 12,
                    HUE: 13,
                    SATURATION: 14,
                    COLOR: 15,
                    LUMINOSITY: 16
                },
                DRAW_MODES: {
                    POINTS: 0,
                    LINES: 1,
                    LINE_LOOP: 2,
                    LINE_STRIP: 3,
                    TRIANGLES: 4,
                    TRIANGLE_STRIP: 5,
                    TRIANGLE_FAN: 6
                },
                SCALE_MODES: {
                    DEFAULT: 0,
                    LINEAR: 0,
                    NEAREST: 1
                },
                RETINA_PREFIX: /@(.+)x/,
                RESOLUTION: 1,
                FILTER_RESOLUTION: 1,
                DEFAULT_RENDER_OPTIONS: {
                    view: null ,
                    resolution: 1,
                    antialias: !1,
                    forceFXAA: !1,
                    autoResize: !1,
                    transparent: !1,
                    backgroundColor: 0,
                    clearBeforeRender: !0,
                    preserveDrawingBuffer: !1,
                    roundPixels: !1
                },
                SHAPES: {
                    POLY: 0,
                    RECT: 1,
                    CIRC: 2,
                    ELIP: 3,
                    RREC: 4
                },
                SPRITE_BATCH_SIZE: 2e3
            };
            e.exports = i
        }
        , {}],
        23: [function(t, e, r) {
            function i() {
                s.call(this),
                this.children = []
            }
            var n = t("../math")
              , o = t("../utils")
              , s = t("./DisplayObject")
              , a = t("../textures/RenderTexture")
              , h = new n.Matrix;
            i.prototype = Object.create(s.prototype),
            i.prototype.constructor = i,
            e.exports = i,
            Object.defineProperties(i.prototype, {
                width: {
                    get: function() {
                        return this.scale.x * this.getLocalBounds().width
                    },
                    set: function(t) {
                        var e = this.getLocalBounds().width;
                        0 !== e ? this.scale.x = t / e : this.scale.x = 1,
                        this._width = t
                    }
                },
                height: {
                    get: function() {
                        return this.scale.y * this.getLocalBounds().height
                    },
                    set: function(t) {
                        var e = this.getLocalBounds().height;
                        0 !== e ? this.scale.y = t / e : this.scale.y = 1,
                        this._height = t
                    }
                }
            }),
            i.prototype.onChildrenChange = function() {}
            ,
            i.prototype.addChild = function(t) {
                var e = arguments.length;
                if (e > 1)
                    for (var r = 0; e > r; r++)
                        this.addChild(arguments[r]);
                else
                    t.parent && t.parent.removeChild(t),
                    t.parent = this,
                    this.children.push(t),
                    this.onChildrenChange(this.children.length - 1),
                    t.emit("added", this);
                return t
            }
            ,
            i.prototype.addChildAt = function(t, e) {
                if (e >= 0 && e <= this.children.length)
                    return t.parent && t.parent.removeChild(t),
                    t.parent = this,
                    this.children.splice(e, 0, t),
                    this.onChildrenChange(e),
                    t.emit("added", this),
                    t;
                throw new Error(t + "addChildAt: The index " + e + " supplied is out of bounds " + this.children.length)
            }
            ,
            i.prototype.swapChildren = function(t, e) {
                if (t !== e) {
                    var r = this.getChildIndex(t)
                      , i = this.getChildIndex(e);
                    if (0 > r || 0 > i)
                        throw new Error("swapChildren: Both the supplied DisplayObjects must be children of the caller.");
                    this.children[r] = e,
                    this.children[i] = t,
                    this.onChildrenChange(i > r ? r : i)
                }
            }
            ,
            i.prototype.getChildIndex = function(t) {
                var e = this.children.indexOf(t);
                if (-1 === e)
                    throw new Error("The supplied DisplayObject must be a child of the caller");
                return e
            }
            ,
            i.prototype.setChildIndex = function(t, e) {
                if (0 > e || e >= this.children.length)
                    throw new Error("The supplied index is out of bounds");
                var r = this.getChildIndex(t);
                o.removeItems(this.children, r, 1),
                this.children.splice(e, 0, t),
                this.onChildrenChange(e)
            }
            ,
            i.prototype.getChildAt = function(t) {
                if (0 > t || t >= this.children.length)
                    throw new Error("getChildAt: Supplied index " + t + " does not exist in the child list, or the supplied DisplayObject is not a child of the caller");
                return this.children[t]
            }
            ,
            i.prototype.removeChild = function(t) {
                var e = arguments.length;
                if (e > 1)
                    for (var r = 0; e > r; r++)
                        this.removeChild(arguments[r]);
                else {
                    var i = this.children.indexOf(t);
                    if (-1 === i)
                        return;
                    t.parent = null ,
                    o.removeItems(this.children, i, 1),
                    this.onChildrenChange(i),
                    t.emit("removed", this)
                }
                return t
            }
            ,
            i.prototype.removeChildAt = function(t) {
                var e = this.getChildAt(t);
                return e.parent = null ,
                o.removeItems(this.children, t, 1),
                this.onChildrenChange(t),
                e.emit("removed", this),
                e
            }
            ,
            i.prototype.removeChildren = function(t, e) {
                var r, i, n = t || 0, o = "number" == typeof e ? e : this.children.length, s = o - n;
                if (s > 0 && o >= s) {
                    for (r = this.children.splice(n, s),
                    i = 0; i < r.length; ++i)
                        r[i].parent = null ;
                    for (this.onChildrenChange(t),
                    i = 0; i < r.length; ++i)
                        r[i].emit("removed", this);
                    return r
                }
                if (0 === s && 0 === this.children.length)
                    return [];
                throw new RangeError("removeChildren: numeric values are outside the acceptable range.")
            }
            ,
            i.prototype.generateTexture = function(t, e, r) {
                var i = this.getLocalBounds()
                  , n = new a(t,0 | i.width,0 | i.height,r,e);
                return h.tx = -i.x,
                h.ty = -i.y,
                n.render(this, h),
                n
            }
            ,
            i.prototype.updateTransform = function() {
                if (this.visible) {
                    this.displayObjectUpdateTransform();
                    for (var t = 0, e = this.children.length; e > t; ++t)
                        this.children[t].updateTransform()
                }
            }
            ,
            i.prototype.containerUpdateTransform = i.prototype.updateTransform,
            i.prototype.getBounds = function() {
                if (!this._currentBounds) {
                    if (0 === this.children.length)
                        return n.Rectangle.EMPTY;
                    for (var t, e, r, i = 1 / 0, o = 1 / 0, s = -(1 / 0), a = -(1 / 0), h = !1, u = 0, l = this.children.length; l > u; ++u) {
                        var c = this.children[u];
                        c.visible && (h = !0,
                        t = this.children[u].getBounds(),
                        i = i < t.x ? i : t.x,
                        o = o < t.y ? o : t.y,
                        e = t.width + t.x,
                        r = t.height + t.y,
                        s = s > e ? s : e,
                        a = a > r ? a : r)
                    }
                    if (!h)
                        return n.Rectangle.EMPTY;
                    var p = this._bounds;
                    p.x = i,
                    p.y = o,
                    p.width = s - i,
                    p.height = a - o,
                    this._currentBounds = p
                }
                return this._currentBounds
            }
            ,
            i.prototype.containerGetBounds = i.prototype.getBounds,
            i.prototype.getLocalBounds = function() {
                var t = this.worldTransform;
                this.worldTransform = n.Matrix.IDENTITY;
                for (var e = 0, r = this.children.length; r > e; ++e)
                    this.children[e].updateTransform();
                return this.worldTransform = t,
                this._currentBounds = null ,
                this.getBounds(n.Matrix.IDENTITY)
            }
            ,
            i.prototype.renderWebGL = function(t) {
                if (this.visible && !(this.worldAlpha <= 0) && this.renderable) {
                    var e, r;
                    if (this._mask || this._filters) {
                        for (t.currentRenderer.flush(),
                        this._filters && this._filters.length && t.filterManager.pushFilter(this, this._filters),
                        this._mask && t.maskManager.pushMask(this, this._mask),
                        t.currentRenderer.start(),
                        this._renderWebGL(t),
                        e = 0,
                        r = this.children.length; r > e; e++)
                            this.children[e].renderWebGL(t);
                        t.currentRenderer.flush(),
                        this._mask && t.maskManager.popMask(this, this._mask),
                        this._filters && t.filterManager.popFilter(),
                        t.currentRenderer.start()
                    } else
                        for (this._renderWebGL(t),
                        e = 0,
                        r = this.children.length; r > e; ++e)
                            this.children[e].renderWebGL(t)
                }
            }
            ,
            i.prototype._renderWebGL = function(t) {}
            ,
            i.prototype._renderCanvas = function(t) {}
            ,
            i.prototype.renderCanvas = function(t) {
                if (this.visible && !(this.alpha <= 0) && this.renderable) {
                    this._mask && t.maskManager.pushMask(this._mask, t),
                    this._renderCanvas(t);
                    for (var e = 0, r = this.children.length; r > e; ++e)
                        this.children[e].renderCanvas(t);
                    this._mask && t.maskManager.popMask(t)
                }
            }
            ,
            i.prototype.destroy = function(t) {
                if (s.prototype.destroy.call(this),
                t)
                    for (var e = 0, r = this.children.length; r > e; ++e)
                        this.children[e].destroy(t);
                this.removeChildren(),
                this.children = null 
            }
        }
        , {
            "../math": 33,
            "../textures/RenderTexture": 71,
            "../utils": 77,
            "./DisplayObject": 24
        }],
        24: [function(t, e, r) {
            function i() {
                s.call(this),
                this.position = new n.Point,
                this.scale = new n.Point(1,1),
                this.pivot = new n.Point(0,0),
                this.skew = new n.Point(0,0),
                this.rotation = 0,
                this.alpha = 1,
                this.visible = !0,
                this.renderable = !0,
                this.parent = null ,
                this.worldAlpha = 1,
                this.worldTransform = new n.Matrix,
                this.filterArea = null ,
                this._sr = 0,
                this._cr = 1,
                this._bounds = new n.Rectangle(0,0,1,1),
                this._currentBounds = null ,
                this._mask = null 
            }
            var n = t("../math")
              , o = t("../textures/RenderTexture")
              , s = t("eventemitter3")
              , a = t("../const")
              , h = new n.Matrix
              , u = {
                worldTransform: new n.Matrix,
                worldAlpha: 1,
                children: []
            };
            i.prototype = Object.create(s.prototype),
            i.prototype.constructor = i,
            e.exports = i,
            Object.defineProperties(i.prototype, {
                x: {
                    get: function() {
                        return this.position.x
                    },
                    set: function(t) {
                        this.position.x = t
                    }
                },
                y: {
                    get: function() {
                        return this.position.y
                    },
                    set: function(t) {
                        this.position.y = t
                    }
                },
                worldVisible: {
                    get: function() {
                        var t = this;
                        do {
                            if (!t.visible)
                                return !1;
                            t = t.parent
                        } while (t);return !0
                    }
                },
                mask: {
                    get: function() {
                        return this._mask
                    },
                    set: function(t) {
                        this._mask && (this._mask.renderable = !0),
                        this._mask = t,
                        this._mask && (this._mask.renderable = !1)
                    }
                },
                filters: {
                    get: function() {
                        return this._filters && this._filters.slice()
                    },
                    set: function(t) {
                        this._filters = t && t.slice()
                    }
                }
            }),
            i.prototype.updateTransform = function() {
                var t, e, r, i, n, o, s = this.parent.worldTransform, u = this.worldTransform;
                this.skew.x || this.skew.y ? (h.setTransform(this.position.x, this.position.y, this.pivot.x, this.pivot.y, this.scale.x, this.scale.y, this.rotation, this.skew.x, this.skew.y),
                u.a = h.a * s.a + h.b * s.c,
                u.b = h.a * s.b + h.b * s.d,
                u.c = h.c * s.a + h.d * s.c,
                u.d = h.c * s.b + h.d * s.d,
                u.tx = h.tx * s.a + h.ty * s.c + s.tx,
                u.ty = h.tx * s.b + h.ty * s.d + s.ty) : this.rotation % a.PI_2 ? (this.rotation !== this.rotationCache && (this.rotationCache = this.rotation,
                this._sr = Math.sin(this.rotation),
                this._cr = Math.cos(this.rotation)),
                t = this._cr * this.scale.x,
                e = this._sr * this.scale.x,
                r = -this._sr * this.scale.y,
                i = this._cr * this.scale.y,
                n = this.position.x,
                o = this.position.y,
                (this.pivot.x || this.pivot.y) && (n -= this.pivot.x * t + this.pivot.y * r,
                o -= this.pivot.x * e + this.pivot.y * i),
                u.a = t * s.a + e * s.c,
                u.b = t * s.b + e * s.d,
                u.c = r * s.a + i * s.c,
                u.d = r * s.b + i * s.d,
                u.tx = n * s.a + o * s.c + s.tx,
                u.ty = n * s.b + o * s.d + s.ty) : (t = this.scale.x,
                i = this.scale.y,
                n = this.position.x - this.pivot.x * t,
                o = this.position.y - this.pivot.y * i,
                u.a = t * s.a,
                u.b = t * s.b,
                u.c = i * s.c,
                u.d = i * s.d,
                u.tx = n * s.a + o * s.c + s.tx,
                u.ty = n * s.b + o * s.d + s.ty),
                this.worldAlpha = this.alpha * this.parent.worldAlpha,
                this._currentBounds = null 
            }
            ,
            i.prototype.displayObjectUpdateTransform = i.prototype.updateTransform,
            i.prototype.getBounds = function(t) {
                return n.Rectangle.EMPTY
            }
            ,
            i.prototype.getLocalBounds = function() {
                return this.getBounds(n.Matrix.IDENTITY)
            }
            ,
            i.prototype.toGlobal = function(t) {
                return this.parent ? this.displayObjectUpdateTransform() : (this.parent = u,
                this.displayObjectUpdateTransform(),
                this.parent = null ),
                this.worldTransform.apply(t)
            }
            ,
            i.prototype.toLocal = function(t, e, r) {
                return e && (t = e.toGlobal(t)),
                this.parent ? this.displayObjectUpdateTransform() : (this.parent = u,
                this.displayObjectUpdateTransform(),
                this.parent = null ),
                this.worldTransform.applyInverse(t, r)
            }
            ,
            i.prototype.renderWebGL = function(t) {}
            ,
            i.prototype.renderCanvas = function(t) {}
            ,
            i.prototype.generateTexture = function(t, e, r) {
                var i = this.getLocalBounds()
                  , n = new o(t,0 | i.width,0 | i.height,e,r);
                return h.tx = -i.x,
                h.ty = -i.y,
                n.render(this, h),
                n
            }
            ,
            i.prototype.setParent = function(t) {
                if (!t || !t.addChild)
                    throw new Error("setParent: Argument must be a Container");
                return t.addChild(this),
                t
            }
            ,
            i.prototype.setTransform = function(t, e, r, i, n, o, s, a, h) {
                return this.position.x = t || 0,
                this.position.y = e || 0,
                this.scale.x = r ? r : 1,
                this.scale.y = i ? i : 1,
                this.rotation = n || 0,
                this.skew.x = o || 0,
                this.skew.y = s || 0,
                this.pivot.x = a || 0,
                this.pivot.y = h || 0,
                this
            }
            ,
            i.prototype.destroy = function() {
                this.position = null ,
                this.scale = null ,
                this.pivot = null ,
                this.skew = null ,
                this.parent = null ,
                this._bounds = null ,
                this._currentBounds = null ,
                this._mask = null ,
                this.worldTransform = null ,
                this.filterArea = null 
            }
        }
        , {
            "../const": 22,
            "../math": 33,
            "../textures/RenderTexture": 71,
            eventemitter3: 10
        }],
        25: [function(t, e, r) {
            function i() {
                n.call(this),
                this.fillAlpha = 1,
                this.lineWidth = 0,
                this.lineColor = 0,
                this.graphicsData = [],
                this.tint = 16777215,
                this._prevTint = 16777215,
                this.blendMode = l.BLEND_MODES.NORMAL,
                this.currentPath = null ,
                this._webGL = {},
                this.isMask = !1,
                this.boundsPadding = 0,
                this._localBounds = new u.Rectangle(0,0,1,1),
                this.dirty = !0,
                this.glDirty = !1,
                this.boundsDirty = !0,
                this.cachedSpriteDirty = !1
            }
            var n = t("../display/Container")
              , o = t("../textures/Texture")
              , s = t("../renderers/canvas/utils/CanvasBuffer")
              , a = t("../renderers/canvas/utils/CanvasGraphics")
              , h = t("./GraphicsData")
              , u = t("../math")
              , l = t("../const")
              , c = new u.Point;
            i.prototype = Object.create(n.prototype),
            i.prototype.constructor = i,
            e.exports = i,
            i.prototype.clone = function() {
                var t = new i;
                t.renderable = this.renderable,
                t.fillAlpha = this.fillAlpha,
                t.lineWidth = this.lineWidth,
                t.lineColor = this.lineColor,
                t.tint = this.tint,
                t.blendMode = this.blendMode,
                t.isMask = this.isMask,
                t.boundsPadding = this.boundsPadding,
                t.dirty = !0,
                t.glDirty = !0,
                t.cachedSpriteDirty = this.cachedSpriteDirty;
                for (var e = 0; e < this.graphicsData.length; ++e)
                    t.graphicsData.push(this.graphicsData[e].clone());
                return t.currentPath = t.graphicsData[t.graphicsData.length - 1],
                t.updateLocalBounds(),
                t
            }
            ,
            i.prototype.lineStyle = function(t, e, r) {
                if (this.lineWidth = t || 0,
                this.lineColor = e || 0,
                this.lineAlpha = void 0 === r ? 1 : r,
                this.currentPath)
                    if (this.currentPath.shape.points.length) {
                        var i = new u.Polygon(this.currentPath.shape.points.slice(-2));
                        i.closed = !1,
                        this.drawShape(i)
                    } else
                        this.currentPath.lineWidth = this.lineWidth,
                        this.currentPath.lineColor = this.lineColor,
                        this.currentPath.lineAlpha = this.lineAlpha;
                return this
            }
            ,
            i.prototype.moveTo = function(t, e) {
                var r = new u.Polygon([t, e]);
                return r.closed = !1,
                this.drawShape(r),
                this
            }
            ,
            i.prototype.lineTo = function(t, e) {
                return this.currentPath.shape.points.push(t, e),
                this.dirty = !0,
                this
            }
            ,
            i.prototype.quadraticCurveTo = function(t, e, r, i) {
                this.currentPath ? 0 === this.currentPath.shape.points.length && (this.currentPath.shape.points = [0, 0]) : this.moveTo(0, 0);
                var n, o, s = 20, a = this.currentPath.shape.points;
                0 === a.length && this.moveTo(0, 0);
                for (var h = a[a.length - 2], u = a[a.length - 1], l = 0, c = 1; s >= c; ++c)
                    l = c / s,
                    n = h + (t - h) * l,
                    o = u + (e - u) * l,
                    a.push(n + (t + (r - t) * l - n) * l, o + (e + (i - e) * l - o) * l);
                return this.dirty = this.boundsDirty = !0,
                this
            }
            ,
            i.prototype.bezierCurveTo = function(t, e, r, i, n, o) {
                this.currentPath ? 0 === this.currentPath.shape.points.length && (this.currentPath.shape.points = [0, 0]) : this.moveTo(0, 0);
                for (var s, a, h, u, l, c = 20, p = this.currentPath.shape.points, d = p[p.length - 2], f = p[p.length - 1], v = 0, g = 1; c >= g; ++g)
                    v = g / c,
                    s = 1 - v,
                    a = s * s,
                    h = a * s,
                    u = v * v,
                    l = u * v,
                    p.push(h * d + 3 * a * v * t + 3 * s * u * r + l * n, h * f + 3 * a * v * e + 3 * s * u * i + l * o);
                return this.dirty = this.boundsDirty = !0,
                this
            }
            ,
            i.prototype.arcTo = function(t, e, r, i, n) {
                this.currentPath ? 0 === this.currentPath.shape.points.length && this.currentPath.shape.points.push(t, e) : this.moveTo(t, e);
                var o = this.currentPath.shape.points
                  , s = o[o.length - 2]
                  , a = o[o.length - 1]
                  , h = a - e
                  , u = s - t
                  , l = i - e
                  , c = r - t
                  , p = Math.abs(h * c - u * l);
                if (1e-8 > p || 0 === n)
                    (o[o.length - 2] !== t || o[o.length - 1] !== e) && o.push(t, e);
                else {
                    var d = h * h + u * u
                      , f = l * l + c * c
                      , v = h * l + u * c
                      , g = n * Math.sqrt(d) / p
                      , m = n * Math.sqrt(f) / p
                      , y = g * v / d
                      , x = m * v / f
                      , b = g * c + m * u
                      , _ = g * l + m * h
                      , T = u * (m + y)
                      , E = h * (m + y)
                      , S = c * (g + x)
                      , w = l * (g + x)
                      , A = Math.atan2(E - _, T - b)
                      , C = Math.atan2(w - _, S - b);
                    this.arc(b + t, _ + e, n, A, C, u * l > c * h)
                }
                return this.dirty = this.boundsDirty = !0,
                this
            }
            ,
            i.prototype.arc = function(t, e, r, i, n, o) {
                if (o = o || !1,
                i === n)
                    return this;
                !o && i >= n ? n += 2 * Math.PI : o && n >= i && (i += 2 * Math.PI);
                var s = o ? -1 * (i - n) : n - i
                  , a = 40 * Math.ceil(Math.abs(s) / (2 * Math.PI));
                if (0 === s)
                    return this;
                var h = t + Math.cos(i) * r
                  , u = e + Math.sin(i) * r;
                this.currentPath ? this.currentPath.shape.points.push(h, u) : this.moveTo(h, u);
                for (var l = this.currentPath.shape.points, c = s / (2 * a), p = 2 * c, d = Math.cos(c), f = Math.sin(c), v = a - 1, g = v % 1 / v, m = 0; v >= m; m++) {
                    var y = m + g * m
                      , x = c + i + p * y
                      , b = Math.cos(x)
                      , _ = -Math.sin(x);
                    l.push((d * b + f * _) * r + t, (d * -_ + f * b) * r + e)
                }
                return this.dirty = this.boundsDirty = !0,
                this
            }
            ,
            i.prototype.beginFill = function(t, e) {
                return this.filling = !0,
                this.fillColor = t || 0,
                this.fillAlpha = void 0 === e ? 1 : e,
                this.currentPath && this.currentPath.shape.points.length <= 2 && (this.currentPath.fill = this.filling,
                this.currentPath.fillColor = this.fillColor,
                this.currentPath.fillAlpha = this.fillAlpha),
                this
            }
            ,
            i.prototype.endFill = function() {
                return this.filling = !1,
                this.fillColor = null ,
                this.fillAlpha = 1,
                this
            }
            ,
            i.prototype.drawRect = function(t, e, r, i) {
                return this.drawShape(new u.Rectangle(t,e,r,i)),
                this
            }
            ,
            i.prototype.drawRoundedRect = function(t, e, r, i, n) {
                return this.drawShape(new u.RoundedRectangle(t,e,r,i,n)),
                this
            }
            ,
            i.prototype.drawCircle = function(t, e, r) {
                return this.drawShape(new u.Circle(t,e,r)),
                this
            }
            ,
            i.prototype.drawEllipse = function(t, e, r, i) {
                return this.drawShape(new u.Ellipse(t,e,r,i)),
                this
            }
            ,
            i.prototype.drawPolygon = function(t) {
                var e = t
                  , r = !0;
                if (e instanceof u.Polygon && (r = e.closed,
                e = e.points),
                !Array.isArray(e)) {
                    e = new Array(arguments.length);
                    for (var i = 0; i < e.length; ++i)
                        e[i] = arguments[i]
                }
                var n = new u.Polygon(e);
                return n.closed = r,
                this.drawShape(n),
                this
            }
            ,
            i.prototype.clear = function() {
                return this.lineWidth = 0,
                this.filling = !1,
                this.dirty = !0,
                this.clearDirty = !0,
                this.graphicsData = [],
                this
            }
            ,
            i.prototype.generateTexture = function(t, e, r) {
                e = e || 1;
                var i = this.getLocalBounds()
                  , n = new s(i.width * e,i.height * e)
                  , h = o.fromCanvas(n.canvas, r);
                return h.baseTexture.resolution = e,
                n.context.scale(e, e),
                n.context.translate(-i.x, -i.y),
                a.renderGraphics(this, n.context),
                h
            }
            ,
            i.prototype._renderWebGL = function(t) {
                this.glDirty && (this.dirty = !0,
                this.glDirty = !1),
                t.setObjectRenderer(t.plugins.graphics),
                t.plugins.graphics.render(this)
            }
            ,
            i.prototype._renderCanvas = function(t) {
                if (this.isMask !== !0) {
                    this._prevTint !== this.tint && (this.dirty = !0);
                    var e = t.context
                      , r = this.worldTransform
                      , i = t.blendModes[this.blendMode];
                    i !== e.globalCompositeOperation && (e.globalCompositeOperation = i);
                    var n = t.resolution;
                    e.setTransform(r.a * n, r.b * n, r.c * n, r.d * n, r.tx * n, r.ty * n),
                    a.renderGraphics(this, e)
                }
            }
            ,
            i.prototype.getBounds = function(t) {
                if (!this._currentBounds) {
                    if (!this.renderable)
                        return u.Rectangle.EMPTY;
                    this.boundsDirty && (this.updateLocalBounds(),
                    this.glDirty = !0,
                    this.cachedSpriteDirty = !0,
                    this.boundsDirty = !1);
                    var e = this._localBounds
                      , r = e.x
                      , i = e.width + e.x
                      , n = e.y
                      , o = e.height + e.y
                      , s = t || this.worldTransform
                      , a = s.a
                      , h = s.b
                      , l = s.c
                      , c = s.d
                      , p = s.tx
                      , d = s.ty
                      , f = a * i + l * o + p
                      , v = c * o + h * i + d
                      , g = a * r + l * o + p
                      , m = c * o + h * r + d
                      , y = a * r + l * n + p
                      , x = c * n + h * r + d
                      , b = a * i + l * n + p
                      , _ = c * n + h * i + d
                      , T = f
                      , E = v
                      , S = f
                      , w = v;
                    S = S > g ? g : S,
                    S = S > y ? y : S,
                    S = S > b ? b : S,
                    w = w > m ? m : w,
                    w = w > x ? x : w,
                    w = w > _ ? _ : w,
                    T = g > T ? g : T,
                    T = y > T ? y : T,
                    T = b > T ? b : T,
                    E = m > E ? m : E,
                    E = x > E ? x : E,
                    E = _ > E ? _ : E,
                    this._bounds.x = S,
                    this._bounds.width = T - S,
                    this._bounds.y = w,
                    this._bounds.height = E - w,
                    this._currentBounds = this._bounds
                }
                return this._currentBounds
            }
            ,
            i.prototype.containsPoint = function(t) {
                this.worldTransform.applyInverse(t, c);
                for (var e = this.graphicsData, r = 0; r < e.length; r++) {
                    var i = e[r];
                    if (i.fill && i.shape && i.shape.contains(c.x, c.y))
                        return !0
                }
                return !1
            }
            ,
            i.prototype.updateLocalBounds = function() {
                var t = 1 / 0
                  , e = -(1 / 0)
                  , r = 1 / 0
                  , i = -(1 / 0);
                if (this.graphicsData.length)
                    for (var n, o, s, a, h, u, c = 0; c < this.graphicsData.length; c++) {
                        var p = this.graphicsData[c]
                          , d = p.type
                          , f = p.lineWidth;
                        if (n = p.shape,
                        d === l.SHAPES.RECT || d === l.SHAPES.RREC)
                            s = n.x - f / 2,
                            a = n.y - f / 2,
                            h = n.width + f,
                            u = n.height + f,
                            t = t > s ? s : t,
                            e = s + h > e ? s + h : e,
                            r = r > a ? a : r,
                            i = a + u > i ? a + u : i;
                        else if (d === l.SHAPES.CIRC)
                            s = n.x,
                            a = n.y,
                            h = n.radius + f / 2,
                            u = n.radius + f / 2,
                            t = t > s - h ? s - h : t,
                            e = s + h > e ? s + h : e,
                            r = r > a - u ? a - u : r,
                            i = a + u > i ? a + u : i;
                        else if (d === l.SHAPES.ELIP)
                            s = n.x,
                            a = n.y,
                            h = n.width + f / 2,
                            u = n.height + f / 2,
                            t = t > s - h ? s - h : t,
                            e = s + h > e ? s + h : e,
                            r = r > a - u ? a - u : r,
                            i = a + u > i ? a + u : i;
                        else {
                            o = n.points;
                            for (var v = 0; v < o.length; v += 2)
                                s = o[v],
                                a = o[v + 1],
                                t = t > s - f ? s - f : t,
                                e = s + f > e ? s + f : e,
                                r = r > a - f ? a - f : r,
                                i = a + f > i ? a + f : i
                        }
                    }
                else
                    t = 0,
                    e = 0,
                    r = 0,
                    i = 0;
                var g = this.boundsPadding;
                this._localBounds.x = t - g,
                this._localBounds.width = e - t + 2 * g,
                this._localBounds.y = r - g,
                this._localBounds.height = i - r + 2 * g
            }
            ,
            i.prototype.drawShape = function(t) {
                this.currentPath && this.currentPath.shape.points.length <= 2 && this.graphicsData.pop(),
                this.currentPath = null ;
                var e = new h(this.lineWidth,this.lineColor,this.lineAlpha,this.fillColor,this.fillAlpha,this.filling,t);
                return this.graphicsData.push(e),
                e.type === l.SHAPES.POLY && (e.shape.closed = e.shape.closed || this.filling,
                this.currentPath = e),
                this.dirty = this.boundsDirty = !0,
                e
            }
            ,
            i.prototype.destroy = function() {
                n.prototype.destroy.apply(this, arguments);
                for (var t = 0; t < this.graphicsData.length; ++t)
                    this.graphicsData[t].destroy();
                for (var e in this._webgl)
                    for (var r = 0; r < this._webgl[e].data.length; ++r)
                        this._webgl[e].data[r].destroy();
                this.graphicsData = null ,
                this.currentPath = null ,
                this._webgl = null ,
                this._localBounds = null 
            }
        }
        , {
            "../const": 22,
            "../display/Container": 23,
            "../math": 33,
            "../renderers/canvas/utils/CanvasBuffer": 45,
            "../renderers/canvas/utils/CanvasGraphics": 46,
            "../textures/Texture": 72,
            "./GraphicsData": 26
        }],
        26: [function(t, e, r) {
            function i(t, e, r, i, n, o, s) {
                this.lineWidth = t,
                this.lineColor = e,
                this.lineAlpha = r,
                this._lineTint = e,
                this.fillColor = i,
                this.fillAlpha = n,
                this._fillTint = i,
                this.fill = o,
                this.shape = s,
                this.type = s.type
            }
            i.prototype.constructor = i,
            e.exports = i,
            i.prototype.clone = function() {
                return new i(this.lineWidth,this.lineColor,this.lineAlpha,this.fillColor,this.fillAlpha,this.fill,this.shape)
            }
            ,
            i.prototype.destroy = function() {
                this.shape = null 
            }
        }
        , {}],
        27: [function(t, e, r) {
            function i(t) {
                a.call(this, t),
                this.graphicsDataPool = [],
                this.primitiveShader = null ,
                this.complexPrimitiveShader = null ,
                this.maximumSimplePolySize = 200
            }
            var n = t("../../utils")
              , o = t("../../math")
              , s = t("../../const")
              , a = t("../../renderers/webgl/utils/ObjectRenderer")
              , h = t("../../renderers/webgl/WebGLRenderer")
              , u = t("./WebGLGraphicsData")
              , l = t("earcut");
            i.prototype = Object.create(a.prototype),
            i.prototype.constructor = i,
            e.exports = i,
            h.registerPlugin("graphics", i),
            i.prototype.onContextChange = function() {}
            ,
            i.prototype.destroy = function() {
                a.prototype.destroy.call(this);
                for (var t = 0; t < this.graphicsDataPool.length; ++t)
                    this.graphicsDataPool[t].destroy();
                this.graphicsDataPool = null 
            }
            ,
            i.prototype.render = function(t) {
                var e, r = this.renderer, i = r.gl, o = r.shaderManager.plugins.primitiveShader;
                (t.dirty || !t._webGL[i.id]) && this.updateGraphics(t);
                var s = t._webGL[i.id];
                r.blendModeManager.setBlendMode(t.blendMode);
                for (var a = 0, h = s.data.length; h > a; a++)
                    e = s.data[a],
                    1 === s.data[a].mode ? (r.stencilManager.pushStencil(t, e),
                    i.uniform1f(r.shaderManager.complexPrimitiveShader.uniforms.alpha._location, t.worldAlpha * e.alpha),
                    i.drawElements(i.TRIANGLE_FAN, 4, i.UNSIGNED_SHORT, 2 * (e.indices.length - 4)),
                    r.stencilManager.popStencil(t, e)) : (o = r.shaderManager.primitiveShader,
                    r.shaderManager.setShader(o),
                    i.uniformMatrix3fv(o.uniforms.translationMatrix._location, !1, t.worldTransform.toArray(!0)),
                    i.uniformMatrix3fv(o.uniforms.projectionMatrix._location, !1, r.currentRenderTarget.projectionMatrix.toArray(!0)),
                    i.uniform3fv(o.uniforms.tint._location, n.hex2rgb(t.tint)),
                    i.uniform1f(o.uniforms.alpha._location, t.worldAlpha),
                    i.bindBuffer(i.ARRAY_BUFFER, e.buffer),
                    i.vertexAttribPointer(o.attributes.aVertexPosition, 2, i.FLOAT, !1, 24, 0),
                    i.vertexAttribPointer(o.attributes.aColor, 4, i.FLOAT, !1, 24, 8),
                    i.bindBuffer(i.ELEMENT_ARRAY_BUFFER, e.indexBuffer),
                    i.drawElements(i.TRIANGLE_STRIP, e.indices.length, i.UNSIGNED_SHORT, 0)),
                    r.drawCount++
            }
            ,
            i.prototype.updateGraphics = function(t) {
                var e = this.renderer.gl
                  , r = t._webGL[e.id];
                r || (r = t._webGL[e.id] = {
                    lastIndex: 0,
                    data: [],
                    gl: e
                }),
                t.dirty = !1;
                var i;
                if (t.clearDirty) {
                    for (t.clearDirty = !1,
                    i = 0; i < r.data.length; i++) {
                        var n = r.data[i];
                        n.reset(),
                        this.graphicsDataPool.push(n)
                    }
                    r.data = [],
                    r.lastIndex = 0
                }
                var o;
                for (i = r.lastIndex; i < t.graphicsData.length; i++) {
                    var a = t.graphicsData[i];
                    if (a.type === s.SHAPES.POLY) {
                        if (a.points = a.shape.points.slice(),
                        a.shape.closed && (a.points[0] !== a.points[a.points.length - 2] || a.points[1] !== a.points[a.points.length - 1]) && a.points.push(a.points[0], a.points[1]),
                        a.fill && a.points.length >= 6)
                            if (a.points.length < 2 * this.maximumSimplePolySize) {
                                o = this.switchMode(r, 0);
                                var h = this.buildPoly(a, o);
                                h || (o = this.switchMode(r, 1),
                                this.buildComplexPoly(a, o))
                            } else
                                o = this.switchMode(r, 1),
                                this.buildComplexPoly(a, o);
                        a.lineWidth > 0 && (o = this.switchMode(r, 0),
                        this.buildLine(a, o))
                    } else
                        o = this.switchMode(r, 0),
                        a.type === s.SHAPES.RECT ? this.buildRectangle(a, o) : a.type === s.SHAPES.CIRC || a.type === s.SHAPES.ELIP ? this.buildCircle(a, o) : a.type === s.SHAPES.RREC && this.buildRoundedRectangle(a, o);
                    r.lastIndex++
                }
                for (i = 0; i < r.data.length; i++)
                    o = r.data[i],
                    o.dirty && o.upload()
            }
            ,
            i.prototype.switchMode = function(t, e) {
                var r;
                return t.data.length ? (r = t.data[t.data.length - 1],
                (r.points.length > 32e4 || r.mode !== e || 1 === e) && (r = this.graphicsDataPool.pop() || new u(t.gl),
                r.mode = e,
                t.data.push(r))) : (r = this.graphicsDataPool.pop() || new u(t.gl),
                r.mode = e,
                t.data.push(r)),
                r.dirty = !0,
                r
            }
            ,
            i.prototype.buildRectangle = function(t, e) {
                var r = t.shape
                  , i = r.x
                  , o = r.y
                  , s = r.width
                  , a = r.height;
                if (t.fill) {
                    var h = n.hex2rgb(t.fillColor)
                      , u = t.fillAlpha
                      , l = h[0] * u
                      , c = h[1] * u
                      , p = h[2] * u
                      , d = e.points
                      , f = e.indices
                      , v = d.length / 6;
                    d.push(i, o),
                    d.push(l, c, p, u),
                    d.push(i + s, o),
                    d.push(l, c, p, u),
                    d.push(i, o + a),
                    d.push(l, c, p, u),
                    d.push(i + s, o + a),
                    d.push(l, c, p, u),
                    f.push(v, v, v + 1, v + 2, v + 3, v + 3)
                }
                if (t.lineWidth) {
                    var g = t.points;
                    t.points = [i, o, i + s, o, i + s, o + a, i, o + a, i, o],
                    this.buildLine(t, e),
                    t.points = g
                }
            }
            ,
            i.prototype.buildRoundedRectangle = function(t, e) {
                var r = t.shape
                  , i = r.x
                  , o = r.y
                  , s = r.width
                  , a = r.height
                  , h = r.radius
                  , u = [];
                if (u.push(i, o + h),
                this.quadraticBezierCurve(i, o + a - h, i, o + a, i + h, o + a, u),
                this.quadraticBezierCurve(i + s - h, o + a, i + s, o + a, i + s, o + a - h, u),
                this.quadraticBezierCurve(i + s, o + h, i + s, o, i + s - h, o, u),
                this.quadraticBezierCurve(i + h, o, i, o, i, o + h + 1e-10, u),
                t.fill) {
                    var c = n.hex2rgb(t.fillColor)
                      , p = t.fillAlpha
                      , d = c[0] * p
                      , f = c[1] * p
                      , v = c[2] * p
                      , g = e.points
                      , m = e.indices
                      , y = g.length / 6
                      , x = l(u, null , 2)
                      , b = 0;
                    for (b = 0; b < x.length; b += 3)
                        m.push(x[b] + y),
                        m.push(x[b] + y),
                        m.push(x[b + 1] + y),
                        m.push(x[b + 2] + y),
                        m.push(x[b + 2] + y);
                    for (b = 0; b < u.length; b++)
                        g.push(u[b], u[++b], d, f, v, p)
                }
                if (t.lineWidth) {
                    var _ = t.points;
                    t.points = u,
                    this.buildLine(t, e),
                    t.points = _
                }
            }
            ,
            i.prototype.quadraticBezierCurve = function(t, e, r, i, n, o, s) {
                function a(t, e, r) {
                    var i = e - t;
                    return t + i * r
                }
                for (var h, u, l, c, p, d, f = 20, v = s || [], g = 0, m = 0; f >= m; m++)
                    g = m / f,
                    h = a(t, r, g),
                    u = a(e, i, g),
                    l = a(r, n, g),
                    c = a(i, o, g),
                    p = a(h, l, g),
                    d = a(u, c, g),
                    v.push(p, d);
                return v
            }
            ,
            i.prototype.buildCircle = function(t, e) {
                var r, i, o = t.shape, a = o.x, h = o.y;
                t.type === s.SHAPES.CIRC ? (r = o.radius,
                i = o.radius) : (r = o.width,
                i = o.height);
                var u = Math.floor(30 * Math.sqrt(o.radius)) || Math.floor(15 * Math.sqrt(o.width + o.height))
                  , l = 2 * Math.PI / u
                  , c = 0;
                if (t.fill) {
                    var p = n.hex2rgb(t.fillColor)
                      , d = t.fillAlpha
                      , f = p[0] * d
                      , v = p[1] * d
                      , g = p[2] * d
                      , m = e.points
                      , y = e.indices
                      , x = m.length / 6;
                    for (y.push(x),
                    c = 0; u + 1 > c; c++)
                        m.push(a, h, f, v, g, d),
                        m.push(a + Math.sin(l * c) * r, h + Math.cos(l * c) * i, f, v, g, d),
                        y.push(x++, x++);
                    y.push(x - 1)
                }
                if (t.lineWidth) {
                    var b = t.points;
                    for (t.points = [],
                    c = 0; u + 1 > c; c++)
                        t.points.push(a + Math.sin(l * c) * r, h + Math.cos(l * c) * i);
                    this.buildLine(t, e),
                    t.points = b
                }
            }
            ,
            i.prototype.buildLine = function(t, e) {
                var r = 0
                  , i = t.points;
                if (0 !== i.length) {
                    var s = new o.Point(i[0],i[1])
                      , a = new o.Point(i[i.length - 2],i[i.length - 1]);
                    if (s.x === a.x && s.y === a.y) {
                        i = i.slice(),
                        i.pop(),
                        i.pop(),
                        a = new o.Point(i[i.length - 2],i[i.length - 1]);
                        var h = a.x + .5 * (s.x - a.x)
                          , u = a.y + .5 * (s.y - a.y);
                        i.unshift(h, u),
                        i.push(h, u)
                    }
                    var l, c, p, d, f, v, g, m, y, x, b, _, T, E, S, w, A, C, M, R, O, P, F, D = e.points, B = e.indices, L = i.length / 2, I = i.length, N = D.length / 6, U = t.lineWidth / 2, k = n.hex2rgb(t.lineColor), j = t.lineAlpha, X = k[0] * j, Y = k[1] * j, G = k[2] * j;
                    for (p = i[0],
                    d = i[1],
                    f = i[2],
                    v = i[3],
                    y = -(d - v),
                    x = p - f,
                    F = Math.sqrt(y * y + x * x),
                    y /= F,
                    x /= F,
                    y *= U,
                    x *= U,
                    D.push(p - y, d - x, X, Y, G, j),
                    D.push(p + y, d + x, X, Y, G, j),
                    r = 1; L - 1 > r; r++)
                        p = i[2 * (r - 1)],
                        d = i[2 * (r - 1) + 1],
                        f = i[2 * r],
                        v = i[2 * r + 1],
                        g = i[2 * (r + 1)],
                        m = i[2 * (r + 1) + 1],
                        y = -(d - v),
                        x = p - f,
                        F = Math.sqrt(y * y + x * x),
                        y /= F,
                        x /= F,
                        y *= U,
                        x *= U,
                        b = -(v - m),
                        _ = f - g,
                        F = Math.sqrt(b * b + _ * _),
                        b /= F,
                        _ /= F,
                        b *= U,
                        _ *= U,
                        S = -x + d - (-x + v),
                        w = -y + f - (-y + p),
                        A = (-y + p) * (-x + v) - (-y + f) * (-x + d),
                        C = -_ + m - (-_ + v),
                        M = -b + f - (-b + g),
                        R = (-b + g) * (-_ + v) - (-b + f) * (-_ + m),
                        O = S * M - C * w,
                        Math.abs(O) < .1 ? (O += 10.1,
                        D.push(f - y, v - x, X, Y, G, j),
                        D.push(f + y, v + x, X, Y, G, j)) : (l = (w * R - M * A) / O,
                        c = (C * A - S * R) / O,
                        P = (l - f) * (l - f) + (c - v) * (c - v),
                        P > 19600 ? (T = y - b,
                        E = x - _,
                        F = Math.sqrt(T * T + E * E),
                        T /= F,
                        E /= F,
                        T *= U,
                        E *= U,
                        D.push(f - T, v - E),
                        D.push(X, Y, G, j),
                        D.push(f + T, v + E),
                        D.push(X, Y, G, j),
                        D.push(f - T, v - E),
                        D.push(X, Y, G, j),
                        I++) : (D.push(l, c),
                        D.push(X, Y, G, j),
                        D.push(f - (l - f), v - (c - v)),
                        D.push(X, Y, G, j)));
                    for (p = i[2 * (L - 2)],
                    d = i[2 * (L - 2) + 1],
                    f = i[2 * (L - 1)],
                    v = i[2 * (L - 1) + 1],
                    y = -(d - v),
                    x = p - f,
                    F = Math.sqrt(y * y + x * x),
                    y /= F,
                    x /= F,
                    y *= U,
                    x *= U,
                    D.push(f - y, v - x),
                    D.push(X, Y, G, j),
                    D.push(f + y, v + x),
                    D.push(X, Y, G, j),
                    B.push(N),
                    r = 0; I > r; r++)
                        B.push(N++);
                    B.push(N - 1)
                }
            }
            ,
            i.prototype.buildComplexPoly = function(t, e) {
                var r = t.points.slice();
                if (!(r.length < 6)) {
                    var i = e.indices;
                    e.points = r,
                    e.alpha = t.fillAlpha,
                    e.color = n.hex2rgb(t.fillColor);
                    for (var o, s, a = 1 / 0, h = -(1 / 0), u = 1 / 0, l = -(1 / 0), c = 0; c < r.length; c += 2)
                        o = r[c],
                        s = r[c + 1],
                        a = a > o ? o : a,
                        h = o > h ? o : h,
                        u = u > s ? s : u,
                        l = s > l ? s : l;
                    r.push(a, u, h, u, h, l, a, l);
                    var p = r.length / 2;
                    for (c = 0; p > c; c++)
                        i.push(c)
                }
            }
            ,
            i.prototype.buildPoly = function(t, e) {
                var r = t.points;
                if (!(r.length < 6)) {
                    var i = e.points
                      , o = e.indices
                      , s = r.length / 2
                      , a = n.hex2rgb(t.fillColor)
                      , h = t.fillAlpha
                      , u = a[0] * h
                      , c = a[1] * h
                      , p = a[2] * h
                      , d = l(r, null , 2);
                    if (!d)
                        return !1;
                    var f = i.length / 6
                      , v = 0;
                    for (v = 0; v < d.length; v += 3)
                        o.push(d[v] + f),
                        o.push(d[v] + f),
                        o.push(d[v + 1] + f),
                        o.push(d[v + 2] + f),
                        o.push(d[v + 2] + f);
                    for (v = 0; s > v; v++)
                        i.push(r[2 * v], r[2 * v + 1], u, c, p, h);
                    return !0
                }
            }
        }
        , {
            "../../const": 22,
            "../../math": 33,
            "../../renderers/webgl/WebGLRenderer": 49,
            "../../renderers/webgl/utils/ObjectRenderer": 63,
            "../../utils": 77,
            "./WebGLGraphicsData": 28,
            earcut: 9
        }],
        28: [function(t, e, r) {
            function i(t) {
                this.gl = t,
                this.color = [0, 0, 0],
                this.points = [],
                this.indices = [],
                this.buffer = t.createBuffer(),
                this.indexBuffer = t.createBuffer(),
                this.mode = 1,
                this.alpha = 1,
                this.dirty = !0,
                this.glPoints = null ,
                this.glIndices = null 
            }
            i.prototype.constructor = i,
            e.exports = i,
            i.prototype.reset = function() {
                this.points.length = 0,
                this.indices.length = 0
            }
            ,
            i.prototype.upload = function() {
                var t = this.gl;
                this.glPoints = new Float32Array(this.points),
                t.bindBuffer(t.ARRAY_BUFFER, this.buffer),
                t.bufferData(t.ARRAY_BUFFER, this.glPoints, t.STATIC_DRAW),
                this.glIndices = new Uint16Array(this.indices),
                t.bindBuffer(t.ELEMENT_ARRAY_BUFFER, this.indexBuffer),
                t.bufferData(t.ELEMENT_ARRAY_BUFFER, this.glIndices, t.STATIC_DRAW),
                this.dirty = !1
            }
            ,
            i.prototype.destroy = function() {
                this.color = null ,
                this.points = null ,
                this.indices = null ,
                this.gl.deleteBuffer(this.buffer),
                this.gl.deleteBuffer(this.indexBuffer),
                this.gl = null ,
                this.buffer = null ,
                this.indexBuffer = null ,
                this.glPoints = null ,
                this.glIndices = null 
            }
        }
        , {}],
        29: [function(t, e, r) {
            var i = e.exports = Object.assign(t("./const"), t("./math"), {
                utils: t("./utils"),
                ticker: t("./ticker"),
                DisplayObject: t("./display/DisplayObject"),
                Container: t("./display/Container"),
                Sprite: t("./sprites/Sprite"),
                ParticleContainer: t("./particles/ParticleContainer"),
                SpriteRenderer: t("./sprites/webgl/SpriteRenderer"),
                ParticleRenderer: t("./particles/webgl/ParticleRenderer"),
                Text: t("./text/Text"),
                Graphics: t("./graphics/Graphics"),
                GraphicsData: t("./graphics/GraphicsData"),
                GraphicsRenderer: t("./graphics/webgl/GraphicsRenderer"),
                Texture: t("./textures/Texture"),
                BaseTexture: t("./textures/BaseTexture"),
                RenderTexture: t("./textures/RenderTexture"),
                VideoBaseTexture: t("./textures/VideoBaseTexture"),
                TextureUvs: t("./textures/TextureUvs"),
                CanvasRenderer: t("./renderers/canvas/CanvasRenderer"),
                CanvasGraphics: t("./renderers/canvas/utils/CanvasGraphics"),
                CanvasBuffer: t("./renderers/canvas/utils/CanvasBuffer"),
                WebGLRenderer: t("./renderers/webgl/WebGLRenderer"),
                WebGLManager: t("./renderers/webgl/managers/WebGLManager"),
                ShaderManager: t("./renderers/webgl/managers/ShaderManager"),
                Shader: t("./renderers/webgl/shaders/Shader"),
                TextureShader: t("./renderers/webgl/shaders/TextureShader"),
                PrimitiveShader: t("./renderers/webgl/shaders/PrimitiveShader"),
                ComplexPrimitiveShader: t("./renderers/webgl/shaders/ComplexPrimitiveShader"),
                ObjectRenderer: t("./renderers/webgl/utils/ObjectRenderer"),
                RenderTarget: t("./renderers/webgl/utils/RenderTarget"),
                AbstractFilter: t("./renderers/webgl/filters/AbstractFilter"),
                FXAAFilter: t("./renderers/webgl/filters/FXAAFilter"),
                SpriteMaskFilter: t("./renderers/webgl/filters/SpriteMaskFilter"),
                autoDetectRenderer: function(t, e, r, n) {
                    return t = t || 800,
                    e = e || 600,
                    !n && i.utils.isWebGLSupported() ? new i.WebGLRenderer(t,e,r) : new i.CanvasRenderer(t,e,r)
                }
            })
        }
        , {
            "./const": 22,
            "./display/Container": 23,
            "./display/DisplayObject": 24,
            "./graphics/Graphics": 25,
            "./graphics/GraphicsData": 26,
            "./graphics/webgl/GraphicsRenderer": 27,
            "./math": 33,
            "./particles/ParticleContainer": 39,
            "./particles/webgl/ParticleRenderer": 41,
            "./renderers/canvas/CanvasRenderer": 44,
            "./renderers/canvas/utils/CanvasBuffer": 45,
            "./renderers/canvas/utils/CanvasGraphics": 46,
            "./renderers/webgl/WebGLRenderer": 49,
            "./renderers/webgl/filters/AbstractFilter": 50,
            "./renderers/webgl/filters/FXAAFilter": 51,
            "./renderers/webgl/filters/SpriteMaskFilter": 52,
            "./renderers/webgl/managers/ShaderManager": 56,
            "./renderers/webgl/managers/WebGLManager": 58,
            "./renderers/webgl/shaders/ComplexPrimitiveShader": 59,
            "./renderers/webgl/shaders/PrimitiveShader": 60,
            "./renderers/webgl/shaders/Shader": 61,
            "./renderers/webgl/shaders/TextureShader": 62,
            "./renderers/webgl/utils/ObjectRenderer": 63,
            "./renderers/webgl/utils/RenderTarget": 65,
            "./sprites/Sprite": 67,
            "./sprites/webgl/SpriteRenderer": 68,
            "./text/Text": 69,
            "./textures/BaseTexture": 70,
            "./textures/RenderTexture": 71,
            "./textures/Texture": 72,
            "./textures/TextureUvs": 73,
            "./textures/VideoBaseTexture": 74,
            "./ticker": 76,
            "./utils": 77
        }],
        30: [function(t, e, r) {
            function i(t) {
                return 0 > t ? -1 : t > 0 ? 1 : 0
            }
            function n() {
                for (var t = 0; 16 > t; t++) {
                    var e = [];
                    c.push(e);
                    for (var r = 0; 16 > r; r++)
                        for (var n = i(o[t] * o[r] + a[t] * s[r]), p = i(s[t] * o[r] + h[t] * s[r]), d = i(o[t] * a[r] + a[t] * h[r]), f = i(s[t] * a[r] + h[t] * h[r]), v = 0; 16 > v; v++)
                            if (o[v] === n && s[v] === p && a[v] === d && h[v] === f) {
                                e.push(v);
                                break
                            }
                }
                for (t = 0; 16 > t; t++) {
                    var g = new l;
                    g.set(o[t], s[t], a[t], h[t], 0, 0),
                    u.push(g)
                }
            }
            var o = [1, 1, 0, -1, -1, -1, 0, 1, 1, 1, 0, -1, -1, -1, 0, 1]
              , s = [0, 1, 1, 1, 0, -1, -1, -1, 0, 1, 1, 1, 0, -1, -1, -1]
              , a = [0, -1, -1, -1, 0, 1, 1, 1, 0, 1, 1, 1, 0, -1, -1, -1]
              , h = [1, 1, 0, -1, -1, -1, 0, 1, -1, -1, 0, 1, 1, 1, 0, -1]
              , u = []
              , l = t("./Matrix")
              , c = [];
            n();
            var p = {
                E: 0,
                SE: 1,
                S: 2,
                SW: 3,
                W: 4,
                NW: 5,
                N: 6,
                NE: 7,
                MIRROR_VERTICAL: 8,
                MIRROR_HORIZONTAL: 12,
                uX: function(t) {
                    return o[t]
                },
                uY: function(t) {
                    return s[t]
                },
                vX: function(t) {
                    return a[t]
                },
                vY: function(t) {
                    return h[t]
                },
                inv: function(t) {
                    return 8 & t ? 15 & t : 7 & -t
                },
                add: function(t, e) {
                    return c[t][e]
                },
                sub: function(t, e) {
                    return c[t][p.inv(e)]
                },
                rotate180: function(t) {
                    return 4 ^ t
                },
                isSwapWidthHeight: function(t) {
                    return 2 === (3 & t)
                },
                byDirection: function(t, e) {
                    return 2 * Math.abs(t) <= Math.abs(e) ? e >= 0 ? p.S : p.N : 2 * Math.abs(e) <= Math.abs(t) ? t > 0 ? p.E : p.W : e > 0 ? t > 0 ? p.SE : p.SW : t > 0 ? p.NE : p.NW
                },
                matrixAppendRotationInv: function(t, e, r, i) {
                    var n = u[p.inv(e)];
                    r = r || 0,
                    i = i || 0,
                    n.tx = r,
                    n.ty = i,
                    t.append(n)
                }
            };
            e.exports = p
        }
        , {
            "./Matrix": 31
        }],
        31: [function(t, e, r) {
            function i() {
                this.a = 1,
                this.b = 0,
                this.c = 0,
                this.d = 1,
                this.tx = 0,
                this.ty = 0
            }
            var n = t("./Point");
            i.prototype.constructor = i,
            e.exports = i,
            i.prototype.fromArray = function(t) {
                this.a = t[0],
                this.b = t[1],
                this.c = t[3],
                this.d = t[4],
                this.tx = t[2],
                this.ty = t[5]
            }
            ,
            i.prototype.set = function(t, e, r, i, n, o) {
                return this.a = t,
                this.b = e,
                this.c = r,
                this.d = i,
                this.tx = n,
                this.ty = o,
                this
            }
            ,
            i.prototype.toArray = function(t, e) {
                this.array || (this.array = new Float32Array(9));
                var r = e || this.array;
                return t ? (r[0] = this.a,
                r[1] = this.b,
                r[2] = 0,
                r[3] = this.c,
                r[4] = this.d,
                r[5] = 0,
                r[6] = this.tx,
                r[7] = this.ty,
                r[8] = 1) : (r[0] = this.a,
                r[1] = this.c,
                r[2] = this.tx,
                r[3] = this.b,
                r[4] = this.d,
                r[5] = this.ty,
                r[6] = 0,
                r[7] = 0,
                r[8] = 1),
                r
            }
            ,
            i.prototype.apply = function(t, e) {
                e = e || new n;
                var r = t.x
                  , i = t.y;
                return e.x = this.a * r + this.c * i + this.tx,
                e.y = this.b * r + this.d * i + this.ty,
                e
            }
            ,
            i.prototype.applyInverse = function(t, e) {
                e = e || new n;
                var r = 1 / (this.a * this.d + this.c * -this.b)
                  , i = t.x
                  , o = t.y;
                return e.x = this.d * r * i + -this.c * r * o + (this.ty * this.c - this.tx * this.d) * r,
                e.y = this.a * r * o + -this.b * r * i + (-this.ty * this.a + this.tx * this.b) * r,
                e
            }
            ,
            i.prototype.translate = function(t, e) {
                return this.tx += t,
                this.ty += e,
                this
            }
            ,
            i.prototype.scale = function(t, e) {
                return this.a *= t,
                this.d *= e,
                this.c *= t,
                this.b *= e,
                this.tx *= t,
                this.ty *= e,
                this
            }
            ,
            i.prototype.rotate = function(t) {
                var e = Math.cos(t)
                  , r = Math.sin(t)
                  , i = this.a
                  , n = this.c
                  , o = this.tx;
                return this.a = i * e - this.b * r,
                this.b = i * r + this.b * e,
                this.c = n * e - this.d * r,
                this.d = n * r + this.d * e,
                this.tx = o * e - this.ty * r,
                this.ty = o * r + this.ty * e,
                this
            }
            ,
            i.prototype.append = function(t) {
                var e = this.a
                  , r = this.b
                  , i = this.c
                  , n = this.d;
                return this.a = t.a * e + t.b * i,
                this.b = t.a * r + t.b * n,
                this.c = t.c * e + t.d * i,
                this.d = t.c * r + t.d * n,
                this.tx = t.tx * e + t.ty * i + this.tx,
                this.ty = t.tx * r + t.ty * n + this.ty,
                this
            }
            ,
            i.prototype.setTransform = function(t, e, r, i, n, o, s, a, h) {
                var u, l, c, p, d, f, v, g, m, y;
                return d = Math.sin(s),
                f = Math.cos(s),
                v = Math.cos(h),
                g = Math.sin(h),
                m = -Math.sin(a),
                y = Math.cos(a),
                u = f * n,
                l = d * n,
                c = -d * o,
                p = f * o,
                this.a = v * u + g * c,
                this.b = v * l + g * p,
                this.c = m * u + y * c,
                this.d = m * l + y * p,
                this.tx = t + (r * u + i * c),
                this.ty = e + (r * l + i * p),
                this
            }
            ,
            i.prototype.prepend = function(t) {
                var e = this.tx;
                if (1 !== t.a || 0 !== t.b || 0 !== t.c || 1 !== t.d) {
                    var r = this.a
                      , i = this.c;
                    this.a = r * t.a + this.b * t.c,
                    this.b = r * t.b + this.b * t.d,
                    this.c = i * t.a + this.d * t.c,
                    this.d = i * t.b + this.d * t.d
                }
                return this.tx = e * t.a + this.ty * t.c + t.tx,
                this.ty = e * t.b + this.ty * t.d + t.ty,
                this
            }
            ,
            i.prototype.invert = function() {
                var t = this.a
                  , e = this.b
                  , r = this.c
                  , i = this.d
                  , n = this.tx
                  , o = t * i - e * r;
                return this.a = i / o,
                this.b = -e / o,
                this.c = -r / o,
                this.d = t / o,
                this.tx = (r * this.ty - i * n) / o,
                this.ty = -(t * this.ty - e * n) / o,
                this
            }
            ,
            i.prototype.identity = function() {
                return this.a = 1,
                this.b = 0,
                this.c = 0,
                this.d = 1,
                this.tx = 0,
                this.ty = 0,
                this
            }
            ,
            i.prototype.clone = function() {
                var t = new i;
                return t.a = this.a,
                t.b = this.b,
                t.c = this.c,
                t.d = this.d,
                t.tx = this.tx,
                t.ty = this.ty,
                t
            }
            ,
            i.prototype.copy = function(t) {
                return t.a = this.a,
                t.b = this.b,
                t.c = this.c,
                t.d = this.d,
                t.tx = this.tx,
                t.ty = this.ty,
                t
            }
            ,
            i.IDENTITY = new i,
            i.TEMP_MATRIX = new i
        }
        , {
            "./Point": 32
        }],
        32: [function(t, e, r) {
            function i(t, e) {
                this.x = t || 0,
                this.y = e || 0
            }
            i.prototype.constructor = i,
            e.exports = i,
            i.prototype.clone = function() {
                return new i(this.x,this.y)
            }
            ,
            i.prototype.copy = function(t) {
                this.set(t.x, t.y)
            }
            ,
            i.prototype.equals = function(t) {
                return t.x === this.x && t.y === this.y
            }
            ,
            i.prototype.set = function(t, e) {
                this.x = t || 0,
                this.y = e || (0 !== e ? this.x : 0)
            }
        }
        , {}],
        33: [function(t, e, r) {
            e.exports = {
                Point: t("./Point"),
                Matrix: t("./Matrix"),
                GroupD8: t("./GroupD8"),
                Circle: t("./shapes/Circle"),
                Ellipse: t("./shapes/Ellipse"),
                Polygon: t("./shapes/Polygon"),
                Rectangle: t("./shapes/Rectangle"),
                RoundedRectangle: t("./shapes/RoundedRectangle")
            }
        }
        , {
            "./GroupD8": 30,
            "./Matrix": 31,
            "./Point": 32,
            "./shapes/Circle": 34,
            "./shapes/Ellipse": 35,
            "./shapes/Polygon": 36,
            "./shapes/Rectangle": 37,
            "./shapes/RoundedRectangle": 38
        }],
        34: [function(t, e, r) {
            function i(t, e, r) {
                this.x = t || 0,
                this.y = e || 0,
                this.radius = r || 0,
                this.type = o.SHAPES.CIRC
            }
            var n = t("./Rectangle")
              , o = t("../../const");
            i.prototype.constructor = i,
            e.exports = i,
            i.prototype.clone = function() {
                return new i(this.x,this.y,this.radius)
            }
            ,
            i.prototype.contains = function(t, e) {
                if (this.radius <= 0)
                    return !1;
                var r = this.x - t
                  , i = this.y - e
                  , n = this.radius * this.radius;
                return r *= r,
                i *= i,
                n >= r + i
            }
            ,
            i.prototype.getBounds = function() {
                return new n(this.x - this.radius,this.y - this.radius,2 * this.radius,2 * this.radius)
            }
        }
        , {
            "../../const": 22,
            "./Rectangle": 37
        }],
        35: [function(t, e, r) {
            function i(t, e, r, i) {
                this.x = t || 0,
                this.y = e || 0,
                this.width = r || 0,
                this.height = i || 0,
                this.type = o.SHAPES.ELIP
            }
            var n = t("./Rectangle")
              , o = t("../../const");
            i.prototype.constructor = i,
            e.exports = i,
            i.prototype.clone = function() {
                return new i(this.x,this.y,this.width,this.height)
            }
            ,
            i.prototype.contains = function(t, e) {
                if (this.width <= 0 || this.height <= 0)
                    return !1;
                var r = (t - this.x) / this.width
                  , i = (e - this.y) / this.height;
                return r *= r,
                i *= i,
                1 >= r + i
            }
            ,
            i.prototype.getBounds = function() {
                return new n(this.x - this.width,this.y - this.height,this.width,this.height)
            }
        }
        , {
            "../../const": 22,
            "./Rectangle": 37
        }],
        36: [function(t, e, r) {
            function i(t) {
                var e = t;
                if (!Array.isArray(e)) {
                    e = new Array(arguments.length);
                    for (var r = 0; r < e.length; ++r)
                        e[r] = arguments[r]
                }
                if (e[0] instanceof n) {
                    for (var i = [], s = 0, a = e.length; a > s; s++)
                        i.push(e[s].x, e[s].y);
                    e = i
                }
                this.closed = !0,
                this.points = e,
                this.type = o.SHAPES.POLY
            }
            var n = t("../Point")
              , o = t("../../const");
            i.prototype.constructor = i,
            e.exports = i,
            i.prototype.clone = function() {
                return new i(this.points.slice())
            }
            ,
            i.prototype.contains = function(t, e) {
                for (var r = !1, i = this.points.length / 2, n = 0, o = i - 1; i > n; o = n++) {
                    var s = this.points[2 * n]
                      , a = this.points[2 * n + 1]
                      , h = this.points[2 * o]
                      , u = this.points[2 * o + 1]
                      , l = a > e != u > e && (h - s) * (e - a) / (u - a) + s > t;
                    l && (r = !r)
                }
                return r
            }
        }
        , {
            "../../const": 22,
            "../Point": 32
        }],
        37: [function(t, e, r) {
            function i(t, e, r, i) {
                this.x = t || 0,
                this.y = e || 0,
                this.width = r || 0,
                this.height = i || 0,
                this.type = n.SHAPES.RECT
            }
            var n = t("../../const");
            i.prototype.constructor = i,
            e.exports = i,
            i.EMPTY = new i(0,0,0,0),
            i.prototype.clone = function() {
                return new i(this.x,this.y,this.width,this.height)
            }
            ,
            i.prototype.contains = function(t, e) {
                return this.width <= 0 || this.height <= 0 ? !1 : t >= this.x && t < this.x + this.width && e >= this.y && e < this.y + this.height ? !0 : !1
            }
        }
        , {
            "../../const": 22
        }],
        38: [function(t, e, r) {
            function i(t, e, r, i, o) {
                this.x = t || 0,
                this.y = e || 0,
                this.width = r || 0,
                this.height = i || 0,
                this.radius = o || 20,
                this.type = n.SHAPES.RREC
            }
            var n = t("../../const");
            i.prototype.constructor = i,
            e.exports = i,
            i.prototype.clone = function() {
                return new i(this.x,this.y,this.width,this.height,this.radius)
            }
            ,
            i.prototype.contains = function(t, e) {
                return this.width <= 0 || this.height <= 0 ? !1 : t >= this.x && t <= this.x + this.width && e >= this.y && e <= this.y + this.height ? !0 : !1
            }
        }
        , {
            "../../const": 22
        }],
        39: [function(t, e, r) {
            function i(t, e, r) {
                n.call(this),
                r = r || 15e3,
                t = t || 15e3;
                var i = 16384;
                r > i && (r = i),
                r > t && (r = t),
                this._properties = [!1, !0, !1, !1, !1],
                this._maxSize = t,
                this._batchSize = r,
                this._buffers = null ,
                this._bufferToUpdate = 0,
                this.interactiveChildren = !1,
                this.blendMode = o.BLEND_MODES.NORMAL,
                this.roundPixels = !0,
                this.setProperties(e)
            }
            var n = t("../display/Container")
              , o = t("../const");
            i.prototype = Object.create(n.prototype),
            i.prototype.constructor = i,
            e.exports = i,
            i.prototype.setProperties = function(t) {
                t && (this._properties[0] = "scale" in t ? !!t.scale : this._properties[0],
                this._properties[1] = "position" in t ? !!t.position : this._properties[1],
                this._properties[2] = "rotation" in t ? !!t.rotation : this._properties[2],
                this._properties[3] = "uvs" in t ? !!t.uvs : this._properties[3],
                this._properties[4] = "alpha" in t ? !!t.alpha : this._properties[4])
            }
            ,
            i.prototype.updateTransform = function() {
                this.displayObjectUpdateTransform()
            }
            ,
            i.prototype.renderWebGL = function(t) {
                this.visible && !(this.worldAlpha <= 0) && this.children.length && this.renderable && (t.setObjectRenderer(t.plugins.particle),
                t.plugins.particle.render(this))
            }
            ,
            i.prototype.onChildrenChange = function(t) {
                var e = Math.floor(t / this._batchSize);
                e < this._bufferToUpdate && (this._bufferToUpdate = e)
            }
            ,
            i.prototype.renderCanvas = function(t) {
                if (this.visible && !(this.worldAlpha <= 0) && this.children.length && this.renderable) {
                    var e = t.context
                      , r = this.worldTransform
                      , i = !0
                      , n = 0
                      , o = 0
                      , s = 0
                      , a = 0
                      , h = t.blendModes[this.blendMode];
                    h !== e.globalCompositeOperation && (e.globalCompositeOperation = h),
                    e.globalAlpha = this.worldAlpha,
                    this.displayObjectUpdateTransform();
                    for (var u = 0; u < this.children.length; ++u) {
                        var l = this.children[u];
                        if (l.visible) {
                            var c = l.texture.frame;
                            if (e.globalAlpha = this.worldAlpha * l.alpha,
                            l.rotation % (2 * Math.PI) === 0)
                                i && (e.setTransform(r.a, r.b, r.c, r.d, r.tx, r.ty),
                                i = !1),
                                n = l.anchor.x * (-c.width * l.scale.x) + l.position.x + .5,
                                o = l.anchor.y * (-c.height * l.scale.y) + l.position.y + .5,
                                s = c.width * l.scale.x,
                                a = c.height * l.scale.y;
                            else {
                                i || (i = !0),
                                l.displayObjectUpdateTransform();
                                var p = l.worldTransform;
                                t.roundPixels ? e.setTransform(p.a, p.b, p.c, p.d, 0 | p.tx, 0 | p.ty) : e.setTransform(p.a, p.b, p.c, p.d, p.tx, p.ty),
                                n = l.anchor.x * -c.width + .5,
                                o = l.anchor.y * -c.height + .5,
                                s = c.width,
                                a = c.height
                            }
                            e.drawImage(l.texture.baseTexture.source, c.x, c.y, c.width, c.height, n, o, s, a)
                        }
                    }
                }
            }
            ,
            i.prototype.destroy = function() {
                if (n.prototype.destroy.apply(this, arguments),
                this._buffers)
                    for (var t = 0; t < this._buffers.length; ++t)
                        this._buffers[t].destroy();
                this._properties = null ,
                this._buffers = null 
            }
        }
        , {
            "../const": 22,
            "../display/Container": 23
        }],
        40: [function(t, e, r) {
            function i(t, e, r, i) {
                this.gl = t,
                this.vertSize = 2,
                this.vertByteSize = 4 * this.vertSize,
                this.size = i,
                this.dynamicProperties = [],
                this.staticProperties = [];
                for (var n = 0; n < e.length; n++) {
                    var o = e[n];
                    r[n] ? this.dynamicProperties.push(o) : this.staticProperties.push(o)
                }
                this.staticStride = 0,
                this.staticBuffer = null ,
                this.staticData = null ,
                this.dynamicStride = 0,
                this.dynamicBuffer = null ,
                this.dynamicData = null ,
                this.initBuffers()
            }
            i.prototype.constructor = i,
            e.exports = i,
            i.prototype.initBuffers = function() {
                var t, e, r = this.gl, i = 0;
                for (this.dynamicStride = 0,
                t = 0; t < this.dynamicProperties.length; t++)
                    e = this.dynamicProperties[t],
                    e.offset = i,
                    i += e.size,
                    this.dynamicStride += e.size;
                this.dynamicData = new Float32Array(this.size * this.dynamicStride * 4),
                this.dynamicBuffer = r.createBuffer(),
                r.bindBuffer(r.ARRAY_BUFFER, this.dynamicBuffer),
                r.bufferData(r.ARRAY_BUFFER, this.dynamicData, r.DYNAMIC_DRAW);
                var n = 0;
                for (this.staticStride = 0,
                t = 0; t < this.staticProperties.length; t++)
                    e = this.staticProperties[t],
                    e.offset = n,
                    n += e.size,
                    this.staticStride += e.size;
                this.staticData = new Float32Array(this.size * this.staticStride * 4),
                this.staticBuffer = r.createBuffer(),
                r.bindBuffer(r.ARRAY_BUFFER, this.staticBuffer),
                r.bufferData(r.ARRAY_BUFFER, this.staticData, r.DYNAMIC_DRAW)
            }
            ,
            i.prototype.uploadDynamic = function(t, e, r) {
                for (var i = this.gl, n = 0; n < this.dynamicProperties.length; n++) {
                    var o = this.dynamicProperties[n];
                    o.uploadFunction(t, e, r, this.dynamicData, this.dynamicStride, o.offset)
                }
                i.bindBuffer(i.ARRAY_BUFFER, this.dynamicBuffer),
                i.bufferSubData(i.ARRAY_BUFFER, 0, this.dynamicData)
            }
            ,
            i.prototype.uploadStatic = function(t, e, r) {
                for (var i = this.gl, n = 0; n < this.staticProperties.length; n++) {
                    var o = this.staticProperties[n];
                    o.uploadFunction(t, e, r, this.staticData, this.staticStride, o.offset)
                }
                i.bindBuffer(i.ARRAY_BUFFER, this.staticBuffer),
                i.bufferSubData(i.ARRAY_BUFFER, 0, this.staticData)
            }
            ,
            i.prototype.bind = function() {
                var t, e, r = this.gl;
                for (r.bindBuffer(r.ARRAY_BUFFER, this.dynamicBuffer),
                t = 0; t < this.dynamicProperties.length; t++)
                    e = this.dynamicProperties[t],
                    r.vertexAttribPointer(e.attribute, e.size, r.FLOAT, !1, 4 * this.dynamicStride, 4 * e.offset);
                for (r.bindBuffer(r.ARRAY_BUFFER, this.staticBuffer),
                t = 0; t < this.staticProperties.length; t++)
                    e = this.staticProperties[t],
                    r.vertexAttribPointer(e.attribute, e.size, r.FLOAT, !1, 4 * this.staticStride, 4 * e.offset)
            }
            ,
            i.prototype.destroy = function() {
                this.dynamicProperties = null ,
                this.dynamicData = null ,
                this.gl.deleteBuffer(this.dynamicBuffer),
                this.staticProperties = null ,
                this.staticData = null ,
                this.gl.deleteBuffer(this.staticBuffer)
            }
        }
        , {}],
        41: [function(t, e, r) {
            function i(t) {
                n.call(this, t);
                var e = 98304;
                this.indices = new Uint16Array(e);
                for (var r = 0, i = 0; e > r; r += 6,
                i += 4)
                    this.indices[r + 0] = i + 0,
                    this.indices[r + 1] = i + 1,
                    this.indices[r + 2] = i + 2,
                    this.indices[r + 3] = i + 0,
                    this.indices[r + 4] = i + 2,
                    this.indices[r + 5] = i + 3;
                this.shader = null ,
                this.indexBuffer = null ,
                this.properties = null ,
                this.tempMatrix = new h.Matrix
            }
            var n = t("../../renderers/webgl/utils/ObjectRenderer")
              , o = t("../../renderers/webgl/WebGLRenderer")
              , s = t("./ParticleShader")
              , a = t("./ParticleBuffer")
              , h = t("../../math");
            i.prototype = Object.create(n.prototype),
            i.prototype.constructor = i,
            e.exports = i,
            o.registerPlugin("particle", i),
            i.prototype.onContextChange = function() {
                var t = this.renderer.gl;
                this.shader = new s(this.renderer.shaderManager),
                this.indexBuffer = t.createBuffer(),
                t.bindBuffer(t.ELEMENT_ARRAY_BUFFER, this.indexBuffer),
                t.bufferData(t.ELEMENT_ARRAY_BUFFER, this.indices, t.STATIC_DRAW),
                this.properties = [{
                    attribute: this.shader.attributes.aVertexPosition,
                    size: 2,
                    uploadFunction: this.uploadVertices,
                    offset: 0
                }, {
                    attribute: this.shader.attributes.aPositionCoord,
                    size: 2,
                    uploadFunction: this.uploadPosition,
                    offset: 0
                }, {
                    attribute: this.shader.attributes.aRotation,
                    size: 1,
                    uploadFunction: this.uploadRotation,
                    offset: 0
                }, {
                    attribute: this.shader.attributes.aTextureCoord,
                    size: 2,
                    uploadFunction: this.uploadUvs,
                    offset: 0
                }, {
                    attribute: this.shader.attributes.aColor,
                    size: 1,
                    uploadFunction: this.uploadAlpha,
                    offset: 0
                }]
            }
            ,
            i.prototype.start = function() {
                var t = this.renderer.gl;
                t.activeTexture(t.TEXTURE0),
                t.bindBuffer(t.ELEMENT_ARRAY_BUFFER, this.indexBuffer);
                var e = this.shader;
                this.renderer.shaderManager.setShader(e)
            }
            ,
            i.prototype.render = function(t) {
                var e = t.children
                  , r = e.length
                  , i = t._maxSize
                  , n = t._batchSize;
                if (0 !== r) {
                    r > i && (r = i),
                    t._buffers || (t._buffers = this.generateBuffers(t)),
                    this.renderer.blendModeManager.setBlendMode(t.blendMode);
                    var o = this.renderer.gl
                      , s = t.worldTransform.copy(this.tempMatrix);
                    s.prepend(this.renderer.currentRenderTarget.projectionMatrix),
                    o.uniformMatrix3fv(this.shader.uniforms.projectionMatrix._location, !1, s.toArray(!0)),
                    o.uniform1f(this.shader.uniforms.uAlpha._location, t.worldAlpha);
                    var a = e[0]._texture.baseTexture;
                    if (a._glTextures[o.id])
                        o.bindTexture(o.TEXTURE_2D, a._glTextures[o.id]);
                    else {
                        if (!this.renderer.updateTexture(a))
                            return;
                        t._properties[0] && t._properties[3] || (t._bufferToUpdate = 0)
                    }
                    for (var h = 0, u = 0; r > h; h += n,
                    u += 1) {
                        var l = r - h;
                        l > n && (l = n);
                        var c = t._buffers[u];
                        c.uploadDynamic(e, h, l),
                        t._bufferToUpdate === u && (c.uploadStatic(e, h, l),
                        t._bufferToUpdate = u + 1),
                        c.bind(this.shader),
                        o.drawElements(o.TRIANGLES, 6 * l, o.UNSIGNED_SHORT, 0),
                        this.renderer.drawCount++
                    }
                }
            }
            ,
            i.prototype.generateBuffers = function(t) {
                var e, r = this.renderer.gl, i = [], n = t._maxSize, o = t._batchSize, s = t._properties;
                for (e = 0; n > e; e += o)
                    i.push(new a(r,this.properties,s,o));
                return i
            }
            ,
            i.prototype.uploadVertices = function(t, e, r, i, n, o) {
                for (var s, a, h, u, l, c, p, d, f, v = 0; r > v; v++)
                    s = t[e + v],
                    a = s._texture,
                    u = s.scale.x,
                    l = s.scale.y,
                    a.trim ? (h = a.trim,
                    p = h.x - s.anchor.x * h.width,
                    c = p + a.crop.width,
                    f = h.y - s.anchor.y * h.height,
                    d = f + a.crop.height) : (c = a._frame.width * (1 - s.anchor.x),
                    p = a._frame.width * -s.anchor.x,
                    d = a._frame.height * (1 - s.anchor.y),
                    f = a._frame.height * -s.anchor.y),
                    i[o] = p * u,
                    i[o + 1] = f * l,
                    i[o + n] = c * u,
                    i[o + n + 1] = f * l,
                    i[o + 2 * n] = c * u,
                    i[o + 2 * n + 1] = d * l,
                    i[o + 3 * n] = p * u,
                    i[o + 3 * n + 1] = d * l,
                    o += 4 * n
            }
            ,
            i.prototype.uploadPosition = function(t, e, r, i, n, o) {
                for (var s = 0; r > s; s++) {
                    var a = t[e + s].position;
                    i[o] = a.x,
                    i[o + 1] = a.y,
                    i[o + n] = a.x,
                    i[o + n + 1] = a.y,
                    i[o + 2 * n] = a.x,
                    i[o + 2 * n + 1] = a.y,
                    i[o + 3 * n] = a.x,
                    i[o + 3 * n + 1] = a.y,
                    o += 4 * n
                }
            }
            ,
            i.prototype.uploadRotation = function(t, e, r, i, n, o) {
                for (var s = 0; r > s; s++) {
                    var a = t[e + s].rotation;
                    i[o] = a,
                    i[o + n] = a,
                    i[o + 2 * n] = a,
                    i[o + 3 * n] = a,
                    o += 4 * n
                }
            }
            ,
            i.prototype.uploadUvs = function(t, e, r, i, n, o) {
                for (var s = 0; r > s; s++) {
                    var a = t[e + s]._texture._uvs;
                    a ? (i[o] = a.x0,
                    i[o + 1] = a.y0,
                    i[o + n] = a.x1,
                    i[o + n + 1] = a.y1,
                    i[o + 2 * n] = a.x2,
                    i[o + 2 * n + 1] = a.y2,
                    i[o + 3 * n] = a.x3,
                    i[o + 3 * n + 1] = a.y3,
                    o += 4 * n) : (i[o] = 0,
                    i[o + 1] = 0,
                    i[o + n] = 0,
                    i[o + n + 1] = 0,
                    i[o + 2 * n] = 0,
                    i[o + 2 * n + 1] = 0,
                    i[o + 3 * n] = 0,
                    i[o + 3 * n + 1] = 0,
                    o += 4 * n)
                }
            }
            ,
            i.prototype.uploadAlpha = function(t, e, r, i, n, o) {
                for (var s = 0; r > s; s++) {
                    var a = t[e + s].alpha;
                    i[o] = a,
                    i[o + n] = a,
                    i[o + 2 * n] = a,
                    i[o + 3 * n] = a,
                    o += 4 * n
                }
            }
            ,
            i.prototype.destroy = function() {
                this.renderer.gl && this.renderer.gl.deleteBuffer(this.indexBuffer),
                n.prototype.destroy.apply(this, arguments),
                this.shader.destroy(),
                this.indices = null ,
                this.tempMatrix = null 
            }
        }
        , {
            "../../math": 33,
            "../../renderers/webgl/WebGLRenderer": 49,
            "../../renderers/webgl/utils/ObjectRenderer": 63,
            "./ParticleBuffer": 40,
            "./ParticleShader": 42
        }],
        42: [function(t, e, r) {
            function i(t) {
                n.call(this, t, ["attribute vec2 aVertexPosition;", "attribute vec2 aTextureCoord;", "attribute float aColor;", "attribute vec2 aPositionCoord;", "attribute vec2 aScale;", "attribute float aRotation;", "uniform mat3 projectionMatrix;", "varying vec2 vTextureCoord;", "varying float vColor;", "void main(void){", "   vec2 v = aVertexPosition;", "   v.x = (aVertexPosition.x) * cos(aRotation) - (aVertexPosition.y) * sin(aRotation);", "   v.y = (aVertexPosition.x) * sin(aRotation) + (aVertexPosition.y) * cos(aRotation);", "   v = v + aPositionCoord;", "   gl_Position = vec4((projectionMatrix * vec3(v, 1.0)).xy, 0.0, 1.0);", "   vTextureCoord = aTextureCoord;", "   vColor = aColor;", "}"].join("\n"), ["precision lowp float;", "varying vec2 vTextureCoord;", "varying float vColor;", "uniform sampler2D uSampler;", "uniform float uAlpha;", "void main(void){", "  vec4 color = texture2D(uSampler, vTextureCoord) * vColor * uAlpha;", "  if (color.a == 0.0) discard;", "  gl_FragColor = color;", "}"].join("\n"), {
                    uAlpha: {
                        type: "1f",
                        value: 1
                    }
                }, {
                    aPositionCoord: 0,
                    aRotation: 0
                })
            }
            var n = t("../../renderers/webgl/shaders/TextureShader");
            i.prototype = Object.create(n.prototype),
            i.prototype.constructor = i,
            e.exports = i
        }
        , {
            "../../renderers/webgl/shaders/TextureShader": 62
        }],
        43: [function(t, e, r) {
            function i(t, e, r, i) {
                if (a.call(this),
                n.sayHello(t),
                i)
                    for (var h in s.DEFAULT_RENDER_OPTIONS)
                        "undefined" == typeof i[h] && (i[h] = s.DEFAULT_RENDER_OPTIONS[h]);
                else
                    i = s.DEFAULT_RENDER_OPTIONS;
                this.type = s.RENDERER_TYPE.UNKNOWN,
                this.width = e || 800,
                this.height = r || 600,
                this.view = i.view || document.createElement("canvas"),
                this.resolution = i.resolution,
                this.transparent = i.transparent,
                this.autoResize = i.autoResize || !1,
                this.blendModes = null ,
                this.preserveDrawingBuffer = i.preserveDrawingBuffer,
                this.clearBeforeRender = i.clearBeforeRender,
                this.roundPixels = i.roundPixels,
                this._backgroundColor = 0,
                this._backgroundColorRgb = [0, 0, 0],
                this._backgroundColorString = "#000000",
                this.backgroundColor = i.backgroundColor || this._backgroundColor,
                this._tempDisplayObjectParent = {
                    worldTransform: new o.Matrix,
                    worldAlpha: 1,
                    children: []
                },
                this._lastObjectRendered = this._tempDisplayObjectParent
            }
            var n = t("../utils")
              , o = t("../math")
              , s = t("../const")
              , a = t("eventemitter3");
            i.prototype = Object.create(a.prototype),
            i.prototype.constructor = i,
            e.exports = i,
            Object.defineProperties(i.prototype, {
                backgroundColor: {
                    get: function() {
                        return this._backgroundColor
                    },
                    set: function(t) {
                        this._backgroundColor = t,
                        this._backgroundColorString = n.hex2string(t),
                        n.hex2rgb(t, this._backgroundColorRgb)
                    }
                }
            }),
            i.prototype.resize = function(t, e) {
                this.width = t * this.resolution,
                this.height = e * this.resolution,
                this.view.width = this.width,
                this.view.height = this.height,
                this.autoResize && (this.view.style.width = this.width / this.resolution + "px",
                this.view.style.height = this.height / this.resolution + "px")
            }
            ,
            i.prototype.destroy = function(t) {
                t && this.view.parentNode && this.view.parentNode.removeChild(this.view),
                this.type = s.RENDERER_TYPE.UNKNOWN,
                this.width = 0,
                this.height = 0,
                this.view = null ,
                this.resolution = 0,
                this.transparent = !1,
                this.autoResize = !1,
                this.blendModes = null ,
                this.preserveDrawingBuffer = !1,
                this.clearBeforeRender = !1,
                this.roundPixels = !1,
                this._backgroundColor = 0,
                this._backgroundColorRgb = null ,
                this._backgroundColorString = null 
            }
        }
        , {
            "../const": 22,
            "../math": 33,
            "../utils": 77,
            eventemitter3: 10
        }],
        44: [function(t, e, r) {
            function i(t, e, r) {
                r = r || {},
                n.call(this, "Canvas", t, e, r),
                this.type = h.RENDERER_TYPE.CANVAS,
                this.context = this.view.getContext("2d", {
                    alpha: this.transparent
                }),
                this.refresh = !0,
                this.maskManager = new o,
                this.smoothProperty = "imageSmoothingEnabled",
                this.context.imageSmoothingEnabled || (this.context.webkitImageSmoothingEnabled ? this.smoothProperty = "webkitImageSmoothingEnabled" : this.context.mozImageSmoothingEnabled ? this.smoothProperty = "mozImageSmoothingEnabled" : this.context.oImageSmoothingEnabled ? this.smoothProperty = "oImageSmoothingEnabled" : this.context.msImageSmoothingEnabled && (this.smoothProperty = "msImageSmoothingEnabled")),
                this.initPlugins(),
                this._mapBlendModes(),
                this._tempDisplayObjectParent = {
                    worldTransform: new a.Matrix,
                    worldAlpha: 1
                },
                this.resize(t, e)
            }
            var n = t("../SystemRenderer")
              , o = t("./utils/CanvasMaskManager")
              , s = t("../../utils")
              , a = t("../../math")
              , h = t("../../const");
            i.prototype = Object.create(n.prototype),
            i.prototype.constructor = i,
            e.exports = i,
            s.pluginTarget.mixin(i),
            i.prototype.render = function(t) {
                this.emit("prerender");
                var e = t.parent;
                this._lastObjectRendered = t,
                t.parent = this._tempDisplayObjectParent,
                t.updateTransform(),
                t.parent = e,
                this.context.setTransform(1, 0, 0, 1, 0, 0),
                this.context.globalAlpha = 1,
                this.context.globalCompositeOperation = this.blendModes[h.BLEND_MODES.NORMAL],
                navigator.isCocoonJS && this.view.screencanvas && (this.context.fillStyle = "black",
                this.context.clear()),
                this.clearBeforeRender && (this.transparent ? this.context.clearRect(0, 0, this.width, this.height) : (this.context.fillStyle = this._backgroundColorString,
                this.context.fillRect(0, 0, this.width, this.height))),
                this.renderDisplayObject(t, this.context),
                this.emit("postrender")
            }
            ,
            i.prototype.destroy = function(t) {
                this.destroyPlugins(),
                n.prototype.destroy.call(this, t),
                this.context = null ,
                this.refresh = !0,
                this.maskManager.destroy(),
                this.maskManager = null ,
                this.smoothProperty = null 
            }
            ,
            i.prototype.renderDisplayObject = function(t, e) {
                var r = this.context;
                this.context = e,
                t.renderCanvas(this),
                this.context = r
            }
            ,
            i.prototype.resize = function(t, e) {
                n.prototype.resize.call(this, t, e),
                this.smoothProperty && (this.context[this.smoothProperty] = h.SCALE_MODES.DEFAULT === h.SCALE_MODES.LINEAR)
            }
            ,
            i.prototype._mapBlendModes = function() {
                this.blendModes || (this.blendModes = {},
                s.canUseNewCanvasBlendModes() ? (this.blendModes[h.BLEND_MODES.NORMAL] = "source-over",
                this.blendModes[h.BLEND_MODES.ADD] = "lighter",
                this.blendModes[h.BLEND_MODES.MULTIPLY] = "multiply",
                this.blendModes[h.BLEND_MODES.SCREEN] = "screen",
                this.blendModes[h.BLEND_MODES.OVERLAY] = "overlay",
                this.blendModes[h.BLEND_MODES.DARKEN] = "darken",
                this.blendModes[h.BLEND_MODES.LIGHTEN] = "lighten",
                this.blendModes[h.BLEND_MODES.COLOR_DODGE] = "color-dodge",
                this.blendModes[h.BLEND_MODES.COLOR_BURN] = "color-burn",
                this.blendModes[h.BLEND_MODES.HARD_LIGHT] = "hard-light",
                this.blendModes[h.BLEND_MODES.SOFT_LIGHT] = "soft-light",
                this.blendModes[h.BLEND_MODES.DIFFERENCE] = "difference",
                this.blendModes[h.BLEND_MODES.EXCLUSION] = "exclusion",
                this.blendModes[h.BLEND_MODES.HUE] = "hue",
                this.blendModes[h.BLEND_MODES.SATURATION] = "saturate",
                this.blendModes[h.BLEND_MODES.COLOR] = "color",
                this.blendModes[h.BLEND_MODES.LUMINOSITY] = "luminosity") : (this.blendModes[h.BLEND_MODES.NORMAL] = "source-over",
                this.blendModes[h.BLEND_MODES.ADD] = "lighter",
                this.blendModes[h.BLEND_MODES.MULTIPLY] = "source-over",
                this.blendModes[h.BLEND_MODES.SCREEN] = "source-over",
                this.blendModes[h.BLEND_MODES.OVERLAY] = "source-over",
                this.blendModes[h.BLEND_MODES.DARKEN] = "source-over",
                this.blendModes[h.BLEND_MODES.LIGHTEN] = "source-over",
                this.blendModes[h.BLEND_MODES.COLOR_DODGE] = "source-over",
                this.blendModes[h.BLEND_MODES.COLOR_BURN] = "source-over",
                this.blendModes[h.BLEND_MODES.HARD_LIGHT] = "source-over",
                this.blendModes[h.BLEND_MODES.SOFT_LIGHT] = "source-over",
                this.blendModes[h.BLEND_MODES.DIFFERENCE] = "source-over",
                this.blendModes[h.BLEND_MODES.EXCLUSION] = "source-over",
                this.blendModes[h.BLEND_MODES.HUE] = "source-over",
                this.blendModes[h.BLEND_MODES.SATURATION] = "source-over",
                this.blendModes[h.BLEND_MODES.COLOR] = "source-over",
                this.blendModes[h.BLEND_MODES.LUMINOSITY] = "source-over"))
            }
        }
        , {
            "../../const": 22,
            "../../math": 33,
            "../../utils": 77,
            "../SystemRenderer": 43,
            "./utils/CanvasMaskManager": 47
        }],
        45: [function(t, e, r) {
            function i(t, e) {
                this.canvas = document.createElement("canvas"),
                this.context = this.canvas.getContext("2d"),
                this.canvas.width = t,
                this.canvas.height = e
            }
            i.prototype.constructor = i,
            e.exports = i,
            Object.defineProperties(i.prototype, {
                width: {
                    get: function() {
                        return this.canvas.width
                    },
                    set: function(t) {
                        this.canvas.width = t
                    }
                },
                height: {
                    get: function() {
                        return this.canvas.height
                    },
                    set: function(t) {
                        this.canvas.height = t
                    }
                }
            }),
            i.prototype.clear = function() {
                this.context.setTransform(1, 0, 0, 1, 0, 0),
                this.context.clearRect(0, 0, this.canvas.width, this.canvas.height)
            }
            ,
            i.prototype.resize = function(t, e) {
                this.canvas.width = t,
                this.canvas.height = e
            }
            ,
            i.prototype.destroy = function() {
                this.context = null ,
                this.canvas = null 
            }
        }
        , {}],
        46: [function(t, e, r) {
            var i = t("../../../const")
              , n = {};
            e.exports = n,
            n.renderGraphics = function(t, e) {
                var r = t.worldAlpha;
                t.dirty && (this.updateGraphicsTint(t),
                t.dirty = !1);
                for (var n = 0; n < t.graphicsData.length; n++) {
                    var o = t.graphicsData[n]
                      , s = o.shape
                      , a = o._fillTint
                      , h = o._lineTint;
                    if (e.lineWidth = o.lineWidth,
                    o.type === i.SHAPES.POLY) {
                        e.beginPath();
                        var u = s.points;
                        e.moveTo(u[0], u[1]);
                        for (var l = 1; l < u.length / 2; l++)
                            e.lineTo(u[2 * l], u[2 * l + 1]);
                        s.closed && e.lineTo(u[0], u[1]),
                        u[0] === u[u.length - 2] && u[1] === u[u.length - 1] && e.closePath(),
                        o.fill && (e.globalAlpha = o.fillAlpha * r,
                        e.fillStyle = "#" + ("00000" + (0 | a).toString(16)).substr(-6),
                        e.fill()),
                        o.lineWidth && (e.globalAlpha = o.lineAlpha * r,
                        e.strokeStyle = "#" + ("00000" + (0 | h).toString(16)).substr(-6),
                        e.stroke())
                    } else if (o.type === i.SHAPES.RECT)
                        (o.fillColor || 0 === o.fillColor) && (e.globalAlpha = o.fillAlpha * r,
                        e.fillStyle = "#" + ("00000" + (0 | a).toString(16)).substr(-6),
                        e.fillRect(s.x, s.y, s.width, s.height)),
                        o.lineWidth && (e.globalAlpha = o.lineAlpha * r,
                        e.strokeStyle = "#" + ("00000" + (0 | h).toString(16)).substr(-6),
                        e.strokeRect(s.x, s.y, s.width, s.height));
                    else if (o.type === i.SHAPES.CIRC)
                        e.beginPath(),
                        e.arc(s.x, s.y, s.radius, 0, 2 * Math.PI),
                        e.closePath(),
                        o.fill && (e.globalAlpha = o.fillAlpha * r,
                        e.fillStyle = "#" + ("00000" + (0 | a).toString(16)).substr(-6),
                        e.fill()),
                        o.lineWidth && (e.globalAlpha = o.lineAlpha * r,
                        e.strokeStyle = "#" + ("00000" + (0 | h).toString(16)).substr(-6),
                        e.stroke());
                    else if (o.type === i.SHAPES.ELIP) {
                        var c = 2 * s.width
                          , p = 2 * s.height
                          , d = s.x - c / 2
                          , f = s.y - p / 2;
                        e.beginPath();
                        var v = .5522848
                          , g = c / 2 * v
                          , m = p / 2 * v
                          , y = d + c
                          , x = f + p
                          , b = d + c / 2
                          , _ = f + p / 2;
                        e.moveTo(d, _),
                        e.bezierCurveTo(d, _ - m, b - g, f, b, f),
                        e.bezierCurveTo(b + g, f, y, _ - m, y, _),
                        e.bezierCurveTo(y, _ + m, b + g, x, b, x),
                        e.bezierCurveTo(b - g, x, d, _ + m, d, _),
                        e.closePath(),
                        o.fill && (e.globalAlpha = o.fillAlpha * r,
                        e.fillStyle = "#" + ("00000" + (0 | a).toString(16)).substr(-6),
                        e.fill()),
                        o.lineWidth && (e.globalAlpha = o.lineAlpha * r,
                        e.strokeStyle = "#" + ("00000" + (0 | h).toString(16)).substr(-6),
                        e.stroke())
                    } else if (o.type === i.SHAPES.RREC) {
                        var T = s.x
                          , E = s.y
                          , S = s.width
                          , w = s.height
                          , A = s.radius
                          , C = Math.min(S, w) / 2 | 0;
                        A = A > C ? C : A,
                        e.beginPath(),
                        e.moveTo(T, E + A),
                        e.lineTo(T, E + w - A),
                        e.quadraticCurveTo(T, E + w, T + A, E + w),
                        e.lineTo(T + S - A, E + w),
                        e.quadraticCurveTo(T + S, E + w, T + S, E + w - A),
                        e.lineTo(T + S, E + A),
                        e.quadraticCurveTo(T + S, E, T + S - A, E),
                        e.lineTo(T + A, E),
                        e.quadraticCurveTo(T, E, T, E + A),
                        e.closePath(),
                        (o.fillColor || 0 === o.fillColor) && (e.globalAlpha = o.fillAlpha * r,
                        e.fillStyle = "#" + ("00000" + (0 | a).toString(16)).substr(-6),
                        e.fill()),
                        o.lineWidth && (e.globalAlpha = o.lineAlpha * r,
                        e.strokeStyle = "#" + ("00000" + (0 | h).toString(16)).substr(-6),
                        e.stroke())
                    }
                }
            }
            ,
            n.renderGraphicsMask = function(t, e) {
                var r = t.graphicsData.length;
                if (0 !== r) {
                    e.beginPath();
                    for (var n = 0; r > n; n++) {
                        var o = t.graphicsData[n]
                          , s = o.shape;
                        if (o.type === i.SHAPES.POLY) {
                            var a = s.points;
                            e.moveTo(a[0], a[1]);
                            for (var h = 1; h < a.length / 2; h++)
                                e.lineTo(a[2 * h], a[2 * h + 1]);
                            a[0] === a[a.length - 2] && a[1] === a[a.length - 1] && e.closePath()
                        } else if (o.type === i.SHAPES.RECT)
                            e.rect(s.x, s.y, s.width, s.height),
                            e.closePath();
                        else if (o.type === i.SHAPES.CIRC)
                            e.arc(s.x, s.y, s.radius, 0, 2 * Math.PI),
                            e.closePath();
                        else if (o.type === i.SHAPES.ELIP) {
                            var u = 2 * s.width
                              , l = 2 * s.height
                              , c = s.x - u / 2
                              , p = s.y - l / 2
                              , d = .5522848
                              , f = u / 2 * d
                              , v = l / 2 * d
                              , g = c + u
                              , m = p + l
                              , y = c + u / 2
                              , x = p + l / 2;
                            e.moveTo(c, x),
                            e.bezierCurveTo(c, x - v, y - f, p, y, p),
                            e.bezierCurveTo(y + f, p, g, x - v, g, x),
                            e.bezierCurveTo(g, x + v, y + f, m, y, m),
                            e.bezierCurveTo(y - f, m, c, x + v, c, x),
                            e.closePath()
                        } else if (o.type === i.SHAPES.RREC) {
                            var b = s.x
                              , _ = s.y
                              , T = s.width
                              , E = s.height
                              , S = s.radius
                              , w = Math.min(T, E) / 2 | 0;
                            S = S > w ? w : S,
                            e.moveTo(b, _ + S),
                            e.lineTo(b, _ + E - S),
                            e.quadraticCurveTo(b, _ + E, b + S, _ + E),
                            e.lineTo(b + T - S, _ + E),
                            e.quadraticCurveTo(b + T, _ + E, b + T, _ + E - S),
                            e.lineTo(b + T, _ + S),
                            e.quadraticCurveTo(b + T, _, b + T - S, _),
                            e.lineTo(b + S, _),
                            e.quadraticCurveTo(b, _, b, _ + S),
                            e.closePath()
                        }
                    }
                }
            }
            ,
            n.updateGraphicsTint = function(t) {
                if (16777215 !== t.tint || t._prevTint !== t.tint) {
                    t._prevTint = t.tint;
                    for (var e = (t.tint >> 16 & 255) / 255, r = (t.tint >> 8 & 255) / 255, i = (255 & t.tint) / 255, n = 0; n < t.graphicsData.length; n++) {
                        var o = t.graphicsData[n]
                          , s = 0 | o.fillColor
                          , a = 0 | o.lineColor;
                        o._fillTint = ((s >> 16 & 255) / 255 * e * 255 << 16) + ((s >> 8 & 255) / 255 * r * 255 << 8) + (255 & s) / 255 * i * 255,
                        o._lineTint = ((a >> 16 & 255) / 255 * e * 255 << 16) + ((a >> 8 & 255) / 255 * r * 255 << 8) + (255 & a) / 255 * i * 255
                    }
                }
            }
        }
        , {
            "../../../const": 22
        }],
        47: [function(t, e, r) {
            function i() {}
            var n = t("./CanvasGraphics");
            i.prototype.constructor = i,
            e.exports = i,
            i.prototype.pushMask = function(t, e) {
                e.context.save();
                var r = t.alpha
                  , i = t.worldTransform
                  , o = e.resolution;
                e.context.setTransform(i.a * o, i.b * o, i.c * o, i.d * o, i.tx * o, i.ty * o),
                t.texture || (n.renderGraphicsMask(t, e.context),
                e.context.clip()),
                t.worldAlpha = r
            }
            ,
            i.prototype.popMask = function(t) {
                t.context.restore()
            }
            ,
            i.prototype.destroy = function() {}
        }
        , {
            "./CanvasGraphics": 46
        }],
        48: [function(t, e, r) {
            var i = t("../../../utils")
              , n = {};
            e.exports = n,
            n.getTintedTexture = function(t, e) {
                var r = t.texture;
                e = n.roundColor(e);
                var i = "#" + ("00000" + (0 | e).toString(16)).substr(-6);
                if (r.tintCache = r.tintCache || {},
                r.tintCache[i])
                    return r.tintCache[i];
                var o = n.canvas || document.createElement("canvas");
                if (n.tintMethod(r, e, o),
                n.convertTintToImage) {
                    var s = new Image;
                    s.src = o.toDataURL(),
                    r.tintCache[i] = s
                } else
                    r.tintCache[i] = o,
                    n.canvas = null ;
                return o
            }
            ,
            n.tintWithMultiply = function(t, e, r) {
                var i = r.getContext("2d")
                  , n = t.baseTexture.resolution
                  , o = t.crop.clone();
                o.x *= n,
                o.y *= n,
                o.width *= n,
                o.height *= n,
                r.width = o.width,
                r.height = o.height,
                i.fillStyle = "#" + ("00000" + (0 | e).toString(16)).substr(-6),
                i.fillRect(0, 0, o.width, o.height),
                i.globalCompositeOperation = "multiply",
                i.drawImage(t.baseTexture.source, o.x, o.y, o.width, o.height, 0, 0, o.width, o.height),
                i.globalCompositeOperation = "destination-atop",
                i.drawImage(t.baseTexture.source, o.x, o.y, o.width, o.height, 0, 0, o.width, o.height)
            }
            ,
            n.tintWithOverlay = function(t, e, r) {
                var i = r.getContext("2d")
                  , n = t.baseTexture.resolution
                  , o = t.crop.clone();
                o.x *= n,
                o.y *= n,
                o.width *= n,
                o.height *= n,
                r.width = o.width,
                r.height = o.height,
                i.globalCompositeOperation = "copy",
                i.fillStyle = "#" + ("00000" + (0 | e).toString(16)).substr(-6),
                i.fillRect(0, 0, o.width, o.height),
                i.globalCompositeOperation = "destination-atop",
                i.drawImage(t.baseTexture.source, o.x, o.y, o.width, o.height, 0, 0, o.width, o.height)
            }
            ,
            n.tintWithPerPixel = function(t, e, r) {
                var n = r.getContext("2d")
                  , o = t.baseTexture.resolution
                  , s = t.crop.clone();
                s.x *= o,
                s.y *= o,
                s.width *= o,
                s.height *= o,
                r.width = s.width,
                r.height = s.height,
                n.globalCompositeOperation = "copy",
                n.drawImage(t.baseTexture.source, s.x, s.y, s.width, s.height, 0, 0, s.width, s.height);
                for (var a = i.hex2rgb(e), h = a[0], u = a[1], l = a[2], c = n.getImageData(0, 0, s.width, s.height), p = c.data, d = 0; d < p.length; d += 4)
                    p[d + 0] *= h,
                    p[d + 1] *= u,
                    p[d + 2] *= l;
                n.putImageData(c, 0, 0)
            }
            ,
            n.roundColor = function(t) {
                var e = n.cacheStepsPerColorChannel
                  , r = i.hex2rgb(t);
                return r[0] = Math.min(255, r[0] / e * e),
                r[1] = Math.min(255, r[1] / e * e),
                r[2] = Math.min(255, r[2] / e * e),
                i.rgb2hex(r)
            }
            ,
            n.cacheStepsPerColorChannel = 8,
            n.convertTintToImage = !1,
            n.canUseMultiply = i.canUseNewCanvasBlendModes(),
            n.tintMethod = n.canUseMultiply ? n.tintWithMultiply : n.tintWithPerPixel
        }
        , {
            "../../../utils": 77
        }],
        49: [function(t, e, r) {
            function i(t, e, r) {
                r = r || {},
                n.call(this, "WebGL", t, e, r),
                this.type = f.RENDERER_TYPE.WEBGL,
                this.handleContextLost = this.handleContextLost.bind(this),
                this.handleContextRestored = this.handleContextRestored.bind(this),
                this.view.addEventListener("webglcontextlost", this.handleContextLost, !1),
                this.view.addEventListener("webglcontextrestored", this.handleContextRestored, !1),
                this._useFXAA = !!r.forceFXAA && r.antialias,
                this._FXAAFilter = null ,
                this._contextOptions = {
                    alpha: this.transparent,
                    antialias: r.antialias,
                    premultipliedAlpha: this.transparent && "notMultiplied" !== this.transparent,
                    stencil: !0,
                    preserveDrawingBuffer: r.preserveDrawingBuffer
                },
                this.drawCount = 0,
                this.shaderManager = new o(this),
                this.maskManager = new s(this),
                this.stencilManager = new a(this),
                this.filterManager = new h(this),
                this.blendModeManager = new u(this),
                this.currentRenderTarget = null ,
                this.currentRenderer = new c(this),
                this.initPlugins(),
                this._createContext(),
                this._initContext(),
                this._mapGlModes(),
                this._managedTextures = [],
                this._renderTargetStack = []
            }
            var n = t("../SystemRenderer")
              , o = t("./managers/ShaderManager")
              , s = t("./managers/MaskManager")
              , a = t("./managers/StencilManager")
              , h = t("./managers/FilterManager")
              , u = t("./managers/BlendModeManager")
              , l = t("./utils/RenderTarget")
              , c = t("./utils/ObjectRenderer")
              , p = t("./filters/FXAAFilter")
              , d = t("../../utils")
              , f = t("../../const");
            i.prototype = Object.create(n.prototype),
            i.prototype.constructor = i,
            e.exports = i,
            d.pluginTarget.mixin(i),
            i.glContextId = 0,
            i.prototype._createContext = function() {
                var t = this.view.getContext("webgl", this._contextOptions) || this.view.getContext("experimental-webgl", this._contextOptions);
                if (this.gl = t,
                !t)
                    throw new Error("This browser does not support webGL. Try using the canvas renderer");
                this.glContextId = i.glContextId++,
                t.id = this.glContextId,
                t.renderer = this
            }
            ,
            i.prototype._initContext = function() {
                var t = this.gl;
                t.disable(t.DEPTH_TEST),
                t.disable(t.CULL_FACE),
                t.enable(t.BLEND),
                this.renderTarget = new l(t,this.width,this.height,null ,this.resolution,!0),
                this.setRenderTarget(this.renderTarget),
                this.emit("context", t),
                this.resize(this.width, this.height),
                this._useFXAA || (this._useFXAA = this._contextOptions.antialias && !t.getContextAttributes().antialias),
                this._useFXAA && (window.console.warn("FXAA antialiasing being used instead of native antialiasing"),
                this._FXAAFilter = [new p])
            }
            ,
            i.prototype.render = function(t) {
                if (this.emit("prerender"),
                !this.gl.isContextLost()) {
                    this.drawCount = 0,
                    this._lastObjectRendered = t,
                    this._useFXAA && (this._FXAAFilter[0].uniforms.resolution.value.x = this.width,
                    this._FXAAFilter[0].uniforms.resolution.value.y = this.height,
                    t.filterArea = this.renderTarget.size,
                    t.filters = this._FXAAFilter);
                    var e = t.parent;
                    t.parent = this._tempDisplayObjectParent,
                    t.updateTransform(),
                    t.parent = e;
                    var r = this.gl;
                    this.setRenderTarget(this.renderTarget),
                    this.clearBeforeRender && (this.transparent ? r.clearColor(0, 0, 0, 0) : r.clearColor(this._backgroundColorRgb[0], this._backgroundColorRgb[1], this._backgroundColorRgb[2], 1),
                    r.clear(r.COLOR_BUFFER_BIT)),
                    this.renderDisplayObject(t, this.renderTarget),
                    this.emit("postrender")
                }
            }
            ,
            i.prototype.renderDisplayObject = function(t, e, r) {
                this.setRenderTarget(e),
                r && e.clear(),
                this.filterManager.setFilterStack(e.filterStack),
                t.renderWebGL(this),
                this.currentRenderer.flush()
            }
            ,
            i.prototype.setObjectRenderer = function(t) {
                this.currentRenderer !== t && (this.currentRenderer.stop(),
                this.currentRenderer = t,
                this.currentRenderer.start())
            }
            ,
            i.prototype.setRenderTarget = function(t) {
                this.currentRenderTarget !== t && (this.currentRenderTarget = t,
                this.currentRenderTarget.activate(),
                this.stencilManager.setMaskStack(t.stencilMaskStack))
            }
            ,
            i.prototype.resize = function(t, e) {
                n.prototype.resize.call(this, t, e),
                this.filterManager.resize(t, e),
                this.renderTarget.resize(t, e),
                this.currentRenderTarget === this.renderTarget && (this.renderTarget.activate(),
                this.gl.viewport(0, 0, this.width, this.height))
            }
            ,
            i.prototype.updateTexture = function(t) {
                if (t = t.baseTexture || t,
                t.hasLoaded) {
                    var e = this.gl;
                    return t._glTextures[e.id] || (t._glTextures[e.id] = e.createTexture(),
                    t.on("update", this.updateTexture, this),
                    t.on("dispose", this.destroyTexture, this),
                    this._managedTextures.push(t)),
                    e.bindTexture(e.TEXTURE_2D, t._glTextures[e.id]),
                    e.pixelStorei(e.UNPACK_PREMULTIPLY_ALPHA_WEBGL, t.premultipliedAlpha),
                    e.texImage2D(e.TEXTURE_2D, 0, e.RGBA, e.RGBA, e.UNSIGNED_BYTE, t.source),
                    e.texParameteri(e.TEXTURE_2D, e.TEXTURE_MAG_FILTER, t.scaleMode === f.SCALE_MODES.LINEAR ? e.LINEAR : e.NEAREST),
                    t.mipmap && t.isPowerOfTwo ? (e.texParameteri(e.TEXTURE_2D, e.TEXTURE_MIN_FILTER, t.scaleMode === f.SCALE_MODES.LINEAR ? e.LINEAR_MIPMAP_LINEAR : e.NEAREST_MIPMAP_NEAREST),
                    e.generateMipmap(e.TEXTURE_2D)) : e.texParameteri(e.TEXTURE_2D, e.TEXTURE_MIN_FILTER, t.scaleMode === f.SCALE_MODES.LINEAR ? e.LINEAR : e.NEAREST),
                    t.isPowerOfTwo ? (e.texParameteri(e.TEXTURE_2D, e.TEXTURE_WRAP_S, e.REPEAT),
                    e.texParameteri(e.TEXTURE_2D, e.TEXTURE_WRAP_T, e.REPEAT)) : (e.texParameteri(e.TEXTURE_2D, e.TEXTURE_WRAP_S, e.CLAMP_TO_EDGE),
                    e.texParameteri(e.TEXTURE_2D, e.TEXTURE_WRAP_T, e.CLAMP_TO_EDGE)),
                    t._glTextures[e.id]
                }
            }
            ,
            i.prototype.destroyTexture = function(t, e) {
                if (t = t.baseTexture || t,
                t.hasLoaded && t._glTextures[this.gl.id] && (this.gl.deleteTexture(t._glTextures[this.gl.id]),
                delete t._glTextures[this.gl.id],
                !e)) {
                    var r = this._managedTextures.indexOf(t);
                    -1 !== r && d.removeItems(this._managedTextures, r, 1)
                }
            }
            ,
            i.prototype.handleContextLost = function(t) {
                t.preventDefault()
            }
            ,
            i.prototype.handleContextRestored = function() {
                this._initContext();
                for (var t = 0; t < this._managedTextures.length; ++t) {
                    var e = this._managedTextures[t];
                    e._glTextures[this.gl.id] && delete e._glTextures[this.gl.id]
                }
            }
            ,
            i.prototype.destroy = function(t) {
                this.destroyPlugins(),
                this.view.removeEventListener("webglcontextlost", this.handleContextLost),
                this.view.removeEventListener("webglcontextrestored", this.handleContextRestored);
                for (var e = 0; e < this._managedTextures.length; ++e) {
                    var r = this._managedTextures[e];
                    this.destroyTexture(r, !0),
                    r.off("update", this.updateTexture, this),
                    r.off("dispose", this.destroyTexture, this)
                }
                n.prototype.destroy.call(this, t),
                this.uid = 0,
                this.shaderManager.destroy(),
                this.maskManager.destroy(),
                this.stencilManager.destroy(),
                this.filterManager.destroy(),
                this.blendModeManager.destroy(),
                this.shaderManager = null ,
                this.maskManager = null ,
                this.filterManager = null ,
                this.blendModeManager = null ,
                this.currentRenderer = null ,
                this.handleContextLost = null ,
                this.handleContextRestored = null ,
                this._contextOptions = null ,
                this._managedTextures = null ,
                this.drawCount = 0,
                this.gl.useProgram(null ),
                this.gl = null 
            }
            ,
            i.prototype._mapGlModes = function() {
                var t = this.gl;
                this.blendModes || (this.blendModes = {},
                this.blendModes[f.BLEND_MODES.NORMAL] = [t.ONE, t.ONE_MINUS_SRC_ALPHA],
                this.blendModes[f.BLEND_MODES.ADD] = [t.ONE, t.DST_ALPHA],
                this.blendModes[f.BLEND_MODES.MULTIPLY] = [t.DST_COLOR, t.ONE_MINUS_SRC_ALPHA],
                this.blendModes[f.BLEND_MODES.SCREEN] = [t.ONE, t.ONE_MINUS_SRC_COLOR],
                this.blendModes[f.BLEND_MODES.OVERLAY] = [t.ONE, t.ONE_MINUS_SRC_ALPHA],
                this.blendModes[f.BLEND_MODES.DARKEN] = [t.ONE, t.ONE_MINUS_SRC_ALPHA],
                this.blendModes[f.BLEND_MODES.LIGHTEN] = [t.ONE, t.ONE_MINUS_SRC_ALPHA],
                this.blendModes[f.BLEND_MODES.COLOR_DODGE] = [t.ONE, t.ONE_MINUS_SRC_ALPHA],
                this.blendModes[f.BLEND_MODES.COLOR_BURN] = [t.ONE, t.ONE_MINUS_SRC_ALPHA],
                this.blendModes[f.BLEND_MODES.HARD_LIGHT] = [t.ONE, t.ONE_MINUS_SRC_ALPHA],
                this.blendModes[f.BLEND_MODES.SOFT_LIGHT] = [t.ONE, t.ONE_MINUS_SRC_ALPHA],
                this.blendModes[f.BLEND_MODES.DIFFERENCE] = [t.ONE, t.ONE_MINUS_SRC_ALPHA],
                this.blendModes[f.BLEND_MODES.EXCLUSION] = [t.ONE, t.ONE_MINUS_SRC_ALPHA],
                this.blendModes[f.BLEND_MODES.HUE] = [t.ONE, t.ONE_MINUS_SRC_ALPHA],
                this.blendModes[f.BLEND_MODES.SATURATION] = [t.ONE, t.ONE_MINUS_SRC_ALPHA],
                this.blendModes[f.BLEND_MODES.COLOR] = [t.ONE, t.ONE_MINUS_SRC_ALPHA],
                this.blendModes[f.BLEND_MODES.LUMINOSITY] = [t.ONE, t.ONE_MINUS_SRC_ALPHA]),
                this.drawModes || (this.drawModes = {},
                this.drawModes[f.DRAW_MODES.POINTS] = t.POINTS,
                this.drawModes[f.DRAW_MODES.LINES] = t.LINES,
                this.drawModes[f.DRAW_MODES.LINE_LOOP] = t.LINE_LOOP,
                this.drawModes[f.DRAW_MODES.LINE_STRIP] = t.LINE_STRIP,
                this.drawModes[f.DRAW_MODES.TRIANGLES] = t.TRIANGLES,
                this.drawModes[f.DRAW_MODES.TRIANGLE_STRIP] = t.TRIANGLE_STRIP,
                this.drawModes[f.DRAW_MODES.TRIANGLE_FAN] = t.TRIANGLE_FAN)
            }
        }
        , {
            "../../const": 22,
            "../../utils": 77,
            "../SystemRenderer": 43,
            "./filters/FXAAFilter": 51,
            "./managers/BlendModeManager": 53,
            "./managers/FilterManager": 54,
            "./managers/MaskManager": 55,
            "./managers/ShaderManager": 56,
            "./managers/StencilManager": 57,
            "./utils/ObjectRenderer": 63,
            "./utils/RenderTarget": 65
        }],
        50: [function(t, e, r) {
            function i(t, e, r) {
                this.shaders = [],
                this.padding = 0,
                this.uniforms = r || {},
                this.vertexSrc = t || n.defaultVertexSrc,
                this.fragmentSrc = e || n.defaultFragmentSrc
            }
            var n = t("../shaders/TextureShader");
            i.prototype.constructor = i,
            e.exports = i,
            i.prototype.getShader = function(t) {
                var e = t.gl
                  , r = this.shaders[e.id];
                return r || (r = new n(t.shaderManager,this.vertexSrc,this.fragmentSrc,this.uniforms,this.attributes),
                this.shaders[e.id] = r),
                r
            }
            ,
            i.prototype.applyFilter = function(t, e, r, i) {
                var n = this.getShader(t);
                t.filterManager.applyFilter(n, e, r, i)
            }
            ,
            i.prototype.syncUniform = function(t) {
                for (var e = 0, r = this.shaders.length; r > e; ++e)
                    this.shaders[e].syncUniform(t)
            }
        }
        , {
            "../shaders/TextureShader": 62
        }],
        51: [function(t, e, r) {
            function i() {
                n.call(this, "\nprecision mediump float;\n\nattribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec4 aColor;\n\nuniform mat3 projectionMatrix;\nuniform vec2 resolution;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nvarying vec2 vResolution;\n\n//texcoords computed in vertex step\n//to avoid dependent texture reads\nvarying vec2 v_rgbNW;\nvarying vec2 v_rgbNE;\nvarying vec2 v_rgbSW;\nvarying vec2 v_rgbSE;\nvarying vec2 v_rgbM;\n\n\nvoid texcoords(vec2 fragCoord, vec2 resolution,\n            out vec2 v_rgbNW, out vec2 v_rgbNE,\n            out vec2 v_rgbSW, out vec2 v_rgbSE,\n            out vec2 v_rgbM) {\n    vec2 inverseVP = 1.0 / resolution.xy;\n    v_rgbNW = (fragCoord + vec2(-1.0, -1.0)) * inverseVP;\n    v_rgbNE = (fragCoord + vec2(1.0, -1.0)) * inverseVP;\n    v_rgbSW = (fragCoord + vec2(-1.0, 1.0)) * inverseVP;\n    v_rgbSE = (fragCoord + vec2(1.0, 1.0)) * inverseVP;\n    v_rgbM = vec2(fragCoord * inverseVP);\n}\n\nvoid main(void){\n   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n   vTextureCoord = aTextureCoord;\n   vColor = vec4(aColor.rgb * aColor.a, aColor.a);\n   vResolution = resolution;\n\n   //compute the texture coords and send them to varyings\n   texcoords(aTextureCoord * resolution, resolution, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);\n}\n", 'precision lowp float;\n\n\n/**\nBasic FXAA implementation based on the code on geeks3d.com with the\nmodification that the texture2DLod stuff was removed since it\'s\nunsupported by WebGL.\n\n--\n\nFrom:\nhttps://github.com/mitsuhiko/webgl-meincraft\n\nCopyright (c) 2011 by Armin Ronacher.\n\nSome rights reserved.\n\nRedistribution and use in source and binary forms, with or without\nmodification, are permitted provided that the following conditions are\nmet:\n\n    * Redistributions of source code must retain the above copyright\n      notice, this list of conditions and the following disclaimer.\n\n    * Redistributions in binary form must reproduce the above\n      copyright notice, this list of conditions and the following\n      disclaimer in the documentation and/or other materials provided\n      with the distribution.\n\n    * The names of the contributors may not be used to endorse or\n      promote products derived from this software without specific\n      prior written permission.\n\nTHIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS\n"AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT\nLIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR\nA PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT\nOWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,\nSPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\nLIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,\nDATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY\nTHEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n(INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\nOF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n*/\n\n#ifndef FXAA_REDUCE_MIN\n    #define FXAA_REDUCE_MIN   (1.0/ 128.0)\n#endif\n#ifndef FXAA_REDUCE_MUL\n    #define FXAA_REDUCE_MUL   (1.0 / 8.0)\n#endif\n#ifndef FXAA_SPAN_MAX\n    #define FXAA_SPAN_MAX     8.0\n#endif\n\n//optimized version for mobile, where dependent\n//texture reads can be a bottleneck\nvec4 fxaa(sampler2D tex, vec2 fragCoord, vec2 resolution,\n            vec2 v_rgbNW, vec2 v_rgbNE,\n            vec2 v_rgbSW, vec2 v_rgbSE,\n            vec2 v_rgbM) {\n    vec4 color;\n    mediump vec2 inverseVP = vec2(1.0 / resolution.x, 1.0 / resolution.y);\n    vec3 rgbNW = texture2D(tex, v_rgbNW).xyz;\n    vec3 rgbNE = texture2D(tex, v_rgbNE).xyz;\n    vec3 rgbSW = texture2D(tex, v_rgbSW).xyz;\n    vec3 rgbSE = texture2D(tex, v_rgbSE).xyz;\n    vec4 texColor = texture2D(tex, v_rgbM);\n    vec3 rgbM  = texColor.xyz;\n    vec3 luma = vec3(0.299, 0.587, 0.114);\n    float lumaNW = dot(rgbNW, luma);\n    float lumaNE = dot(rgbNE, luma);\n    float lumaSW = dot(rgbSW, luma);\n    float lumaSE = dot(rgbSE, luma);\n    float lumaM  = dot(rgbM,  luma);\n    float lumaMin = min(lumaM, min(min(lumaNW, lumaNE), min(lumaSW, lumaSE)));\n    float lumaMax = max(lumaM, max(max(lumaNW, lumaNE), max(lumaSW, lumaSE)));\n\n    mediump vec2 dir;\n    dir.x = -((lumaNW + lumaNE) - (lumaSW + lumaSE));\n    dir.y =  ((lumaNW + lumaSW) - (lumaNE + lumaSE));\n\n    float dirReduce = max((lumaNW + lumaNE + lumaSW + lumaSE) *\n                          (0.25 * FXAA_REDUCE_MUL), FXAA_REDUCE_MIN);\n\n    float rcpDirMin = 1.0 / (min(abs(dir.x), abs(dir.y)) + dirReduce);\n    dir = min(vec2(FXAA_SPAN_MAX, FXAA_SPAN_MAX),\n              max(vec2(-FXAA_SPAN_MAX, -FXAA_SPAN_MAX),\n              dir * rcpDirMin)) * inverseVP;\n\n    vec3 rgbA = 0.5 * (\n        texture2D(tex, fragCoord * inverseVP + dir * (1.0 / 3.0 - 0.5)).xyz +\n        texture2D(tex, fragCoord * inverseVP + dir * (2.0 / 3.0 - 0.5)).xyz);\n    vec3 rgbB = rgbA * 0.5 + 0.25 * (\n        texture2D(tex, fragCoord * inverseVP + dir * -0.5).xyz +\n        texture2D(tex, fragCoord * inverseVP + dir * 0.5).xyz);\n\n    float lumaB = dot(rgbB, luma);\n    if ((lumaB < lumaMin) || (lumaB > lumaMax))\n        color = vec4(rgbA, texColor.a);\n    else\n        color = vec4(rgbB, texColor.a);\n    return color;\n}\n\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\nvarying vec2 vResolution;\n\n//texcoords computed in vertex step\n//to avoid dependent texture reads\nvarying vec2 v_rgbNW;\nvarying vec2 v_rgbNE;\nvarying vec2 v_rgbSW;\nvarying vec2 v_rgbSE;\nvarying vec2 v_rgbM;\n\nuniform sampler2D uSampler;\n\n\nvoid main(void){\n\n    gl_FragColor = fxaa(uSampler, vTextureCoord * vResolution, vResolution, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);\n\n}\n', {
                    resolution: {
                        type: "v2",
                        value: {
                            x: 1,
                            y: 1
                        }
                    }
                })
            }
            var n = t("./AbstractFilter");
            i.prototype = Object.create(n.prototype),
            i.prototype.constructor = i,
            e.exports = i,
            i.prototype.applyFilter = function(t, e, r) {
                var i = t.filterManager
                  , n = this.getShader(t);
                i.applyFilter(n, e, r)
            }
        }
        , {
            "./AbstractFilter": 50
        }],
        52: [function(t, e, r) {
            function i(t) {
                var e = new o.Matrix;
                n.call(this, "attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec4 aColor;\n\nuniform mat3 projectionMatrix;\nuniform mat3 otherMatrix;\n\nvarying vec2 vMaskCoord;\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n    vMaskCoord = ( otherMatrix * vec3( aTextureCoord, 1.0)  ).xy;\n    vColor = vec4(aColor.rgb * aColor.a, aColor.a);\n}\n", "precision lowp float;\n\nvarying vec2 vMaskCoord;\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nuniform sampler2D uSampler;\nuniform float alpha;\nuniform sampler2D mask;\n\nvoid main(void)\n{\n    // check clip! this will stop the mask bleeding out from the edges\n    vec2 text = abs( vMaskCoord - 0.5 );\n    text = step(0.5, text);\n    float clip = 1.0 - max(text.y, text.x);\n    vec4 original = texture2D(uSampler, vTextureCoord);\n    vec4 masky = texture2D(mask, vMaskCoord);\n    original *= (masky.r * masky.a * alpha * clip);\n    gl_FragColor = original;\n}\n", {
                    mask: {
                        type: "sampler2D",
                        value: t._texture
                    },
                    alpha: {
                        type: "f",
                        value: 1
                    },
                    otherMatrix: {
                        type: "mat3",
                        value: e.toArray(!0)
                    }
                }),
                this.maskSprite = t,
                this.maskMatrix = e
            }
            var n = t("./AbstractFilter")
              , o = t("../../../math");
            i.prototype = Object.create(n.prototype),
            i.prototype.constructor = i,
            e.exports = i,
            i.prototype.applyFilter = function(t, e, r) {
                var i = t.filterManager;
                this.uniforms.mask.value = this.maskSprite._texture,
                i.calculateMappedMatrix(e.frame, this.maskSprite, this.maskMatrix),
                this.uniforms.otherMatrix.value = this.maskMatrix.toArray(!0),
                this.uniforms.alpha.value = this.maskSprite.worldAlpha;
                var n = this.getShader(t);
                i.applyFilter(n, e, r)
            }
            ,
            Object.defineProperties(i.prototype, {
                map: {
                    get: function() {
                        return this.uniforms.mask.value
                    },
                    set: function(t) {
                        this.uniforms.mask.value = t
                    }
                },
                offset: {
                    get: function() {
                        return this.uniforms.offset.value
                    },
                    set: function(t) {
                        this.uniforms.offset.value = t
                    }
                }
            })
        }
        , {
            "../../../math": 33,
            "./AbstractFilter": 50
        }],
        53: [function(t, e, r) {
            function i(t) {
                n.call(this, t),
                this.currentBlendMode = 99999
            }
            var n = t("./WebGLManager");
            i.prototype = Object.create(n.prototype),
            i.prototype.constructor = i,
            e.exports = i,
            i.prototype.setBlendMode = function(t) {
                if (this.currentBlendMode === t)
                    return !1;
                this.currentBlendMode = t;
                var e = this.renderer.blendModes[this.currentBlendMode];
                return this.renderer.gl.blendFunc(e[0], e[1]),
                !0
            }
        }
        , {
            "./WebGLManager": 58
        }],
        54: [function(t, e, r) {
            function i(t) {
                n.call(this, t),
                this.filterStack = [],
                this.filterStack.push({
                    renderTarget: t.currentRenderTarget,
                    filter: [],
                    bounds: null 
                }),
                this.texturePool = [],
                this.textureSize = new h.Rectangle(0,0,t.width,t.height),
                this.currentFrame = null 
            }
            var n = t("./WebGLManager")
              , o = t("../utils/RenderTarget")
              , s = t("../../../const")
              , a = t("../utils/Quad")
              , h = t("../../../math");
            i.prototype = Object.create(n.prototype),
            i.prototype.constructor = i,
            e.exports = i,
            i.prototype.onContextChange = function() {
                this.texturePool.length = 0;
                var t = this.renderer.gl;
                this.quad = new a(t)
            }
            ,
            i.prototype.setFilterStack = function(t) {
                this.filterStack = t
            }
            ,
            i.prototype.pushFilter = function(t, e) {
                var r = t.filterArea ? t.filterArea.clone() : t.getBounds();
                r.x = 0 | r.x,
                r.y = 0 | r.y,
                r.width = 0 | r.width,
                r.height = 0 | r.height;
                var i = 0 | e[0].padding;
                if (r.x -= i,
                r.y -= i,
                r.width += 2 * i,
                r.height += 2 * i,
                this.renderer.currentRenderTarget.transform) {
                    var n = this.renderer.currentRenderTarget.transform;
                    r.x += n.tx,
                    r.y += n.ty,
                    this.capFilterArea(r),
                    r.x -= n.tx,
                    r.y -= n.ty
                } else
                    this.capFilterArea(r);
                if (r.width > 0 && r.height > 0) {
                    this.currentFrame = r;
                    var o = this.getRenderTarget();
                    this.renderer.setRenderTarget(o),
                    o.clear(),
                    this.filterStack.push({
                        renderTarget: o,
                        filter: e
                    })
                } else
                    this.filterStack.push({
                        renderTarget: null ,
                        filter: e
                    })
            }
            ,
            i.prototype.popFilter = function() {
                var t = this.filterStack.pop()
                  , e = this.filterStack[this.filterStack.length - 1]
                  , r = t.renderTarget;
                if (t.renderTarget) {
                    var i = e.renderTarget
                      , n = this.renderer.gl;
                    this.currentFrame = r.frame,
                    this.quad.map(this.textureSize, r.frame),
                    n.bindBuffer(n.ARRAY_BUFFER, this.quad.vertexBuffer),
                    n.bindBuffer(n.ELEMENT_ARRAY_BUFFER, this.quad.indexBuffer);
                    var o = t.filter;
                    if (n.vertexAttribPointer(this.renderer.shaderManager.defaultShader.attributes.aVertexPosition, 2, n.FLOAT, !1, 0, 0),
                    n.vertexAttribPointer(this.renderer.shaderManager.defaultShader.attributes.aTextureCoord, 2, n.FLOAT, !1, 0, 32),
                    n.vertexAttribPointer(this.renderer.shaderManager.defaultShader.attributes.aColor, 4, n.FLOAT, !1, 0, 64),
                    this.renderer.blendModeManager.setBlendMode(s.BLEND_MODES.NORMAL),
                    1 === o.length)
                        o[0].uniforms.dimensions && (o[0].uniforms.dimensions.value[0] = this.renderer.width,
                        o[0].uniforms.dimensions.value[1] = this.renderer.height,
                        o[0].uniforms.dimensions.value[2] = this.quad.vertices[0],
                        o[0].uniforms.dimensions.value[3] = this.quad.vertices[5]),
                        o[0].applyFilter(this.renderer, r, i),
                        this.returnRenderTarget(r);
                    else {
                        for (var a = r, h = this.getRenderTarget(!0), u = 0; u < o.length - 1; u++) {
                            var l = o[u];
                            l.uniforms.dimensions && (l.uniforms.dimensions.value[0] = this.renderer.width,
                            l.uniforms.dimensions.value[1] = this.renderer.height,
                            l.uniforms.dimensions.value[2] = this.quad.vertices[0],
                            l.uniforms.dimensions.value[3] = this.quad.vertices[5]),
                            l.applyFilter(this.renderer, a, h);
                            var c = a;
                            a = h,
                            h = c
                        }
                        o[o.length - 1].applyFilter(this.renderer, a, i),
                        this.returnRenderTarget(a),
                        this.returnRenderTarget(h)
                    }
                    return t.filter
                }
            }
            ,
            i.prototype.getRenderTarget = function(t) {
                var e = this.texturePool.pop() || new o(this.renderer.gl,this.textureSize.width,this.textureSize.height,s.SCALE_MODES.LINEAR,this.renderer.resolution * s.FILTER_RESOLUTION);
                return e.frame = this.currentFrame,
                t && e.clear(!0),
                e
            }
            ,
            i.prototype.returnRenderTarget = function(t) {
                this.texturePool.push(t)
            }
            ,
            i.prototype.applyFilter = function(t, e, r, i) {
                var n = this.renderer.gl;
                this.renderer.setRenderTarget(r),
                i && r.clear(),
                this.renderer.shaderManager.setShader(t),
                t.uniforms.projectionMatrix.value = this.renderer.currentRenderTarget.projectionMatrix.toArray(!0),
                t.syncUniforms(),
                n.activeTexture(n.TEXTURE0),
                n.bindTexture(n.TEXTURE_2D, e.texture),
                n.drawElements(n.TRIANGLES, 6, n.UNSIGNED_SHORT, 0),
                this.renderer.drawCount++
            }
            ,
            i.prototype.calculateMappedMatrix = function(t, e, r) {
                var i = e.worldTransform.copy(h.Matrix.TEMP_MATRIX)
                  , n = e._texture.baseTexture
                  , o = r.identity()
                  , s = this.textureSize.height / this.textureSize.width;
                o.translate(t.x / this.textureSize.width, t.y / this.textureSize.height),
                o.scale(1, s);
                var a = this.textureSize.width / n.width
                  , u = this.textureSize.height / n.height;
                return i.tx /= n.width * a,
                i.ty /= n.width * a,
                i.invert(),
                o.prepend(i),
                o.scale(1, 1 / s),
                o.scale(a, u),
                o.translate(e.anchor.x, e.anchor.y),
                o
            }
            ,
            i.prototype.capFilterArea = function(t) {
                t.x < 0 && (t.width += t.x,
                t.x = 0),
                t.y < 0 && (t.height += t.y,
                t.y = 0),
                t.x + t.width > this.textureSize.width && (t.width = this.textureSize.width - t.x),
                t.y + t.height > this.textureSize.height && (t.height = this.textureSize.height - t.y)
            }
            ,
            i.prototype.resize = function(t, e) {
                this.textureSize.width = t,
                this.textureSize.height = e;
                for (var r = 0; r < this.texturePool.length; r++)
                    this.texturePool[r].resize(t, e)
            }
            ,
            i.prototype.destroy = function() {
                this.quad.destroy(),
                n.prototype.destroy.call(this),
                this.filterStack = null ,
                this.offsetY = 0;
                for (var t = 0; t < this.texturePool.length; t++)
                    this.texturePool[t].destroy();
                this.texturePool = null 
            }
        }
        , {
            "../../../const": 22,
            "../../../math": 33,
            "../utils/Quad": 64,
            "../utils/RenderTarget": 65,
            "./WebGLManager": 58
        }],
        55: [function(t, e, r) {
            function i(t) {
                n.call(this, t),
                this.stencilStack = [],
                this.reverse = !0,
                this.count = 0,
                this.alphaMaskPool = []
            }
            var n = t("./WebGLManager")
              , o = t("../filters/SpriteMaskFilter");
            i.prototype = Object.create(n.prototype),
            i.prototype.constructor = i,
            e.exports = i,
            i.prototype.pushMask = function(t, e) {
                e.texture ? this.pushSpriteMask(t, e) : this.pushStencilMask(t, e)
            }
            ,
            i.prototype.popMask = function(t, e) {
                e.texture ? this.popSpriteMask(t, e) : this.popStencilMask(t, e)
            }
            ,
            i.prototype.pushSpriteMask = function(t, e) {
                var r = this.alphaMaskPool.pop();
                r || (r = [new o(e)]),
                r[0].maskSprite = e,
                this.renderer.filterManager.pushFilter(t, r)
            }
            ,
            i.prototype.popSpriteMask = function() {
                var t = this.renderer.filterManager.popFilter();
                this.alphaMaskPool.push(t)
            }
            ,
            i.prototype.pushStencilMask = function(t, e) {
                this.renderer.stencilManager.pushMask(e)
            }
            ,
            i.prototype.popStencilMask = function(t, e) {
                this.renderer.stencilManager.popMask(e)
            }
        }
        , {
            "../filters/SpriteMaskFilter": 52,
            "./WebGLManager": 58
        }],
        56: [function(t, e, r) {
            function i(t) {
                n.call(this, t),
                this.maxAttibs = 10,
                this.attribState = [],
                this.tempAttribState = [];
                for (var e = 0; e < this.maxAttibs; e++)
                    this.attribState[e] = !1;
                this.stack = [],
                this._currentId = -1,
                this.currentShader = null 
            }
            var n = t("./WebGLManager")
              , o = t("../shaders/TextureShader")
              , s = t("../shaders/ComplexPrimitiveShader")
              , a = t("../shaders/PrimitiveShader")
              , h = t("../../../utils");
            i.prototype = Object.create(n.prototype),
            i.prototype.constructor = i,
            h.pluginTarget.mixin(i),
            e.exports = i,
            i.prototype.onContextChange = function() {
                this.initPlugins();
                var t = this.renderer.gl;
                this.maxAttibs = t.getParameter(t.MAX_VERTEX_ATTRIBS),
                this.attribState = [];
                for (var e = 0; e < this.maxAttibs; e++)
                    this.attribState[e] = !1;
                this.defaultShader = new o(this),
                this.primitiveShader = new a(this),
                this.complexPrimitiveShader = new s(this)
            }
            ,
            i.prototype.setAttribs = function(t) {
                var e;
                for (e = 0; e < this.tempAttribState.length; e++)
                    this.tempAttribState[e] = !1;
                for (var r in t)
                    this.tempAttribState[t[r]] = !0;
                var i = this.renderer.gl;
                for (e = 0; e < this.attribState.length; e++)
                    this.attribState[e] !== this.tempAttribState[e] && (this.attribState[e] = this.tempAttribState[e],
                    this.attribState[e] ? i.enableVertexAttribArray(e) : i.disableVertexAttribArray(e))
            }
            ,
            i.prototype.setShader = function(t) {
                return this._currentId === t.uid ? !1 : (this._currentId = t.uid,
                this.currentShader = t,
                this.renderer.gl.useProgram(t.program),
                this.setAttribs(t.attributes),
                !0)
            }
            ,
            i.prototype.destroy = function() {
                this.primitiveShader.destroy(),
                this.complexPrimitiveShader.destroy(),
                n.prototype.destroy.call(this),
                this.destroyPlugins(),
                this.attribState = null ,
                this.tempAttribState = null 
            }
        }
        , {
            "../../../utils": 77,
            "../shaders/ComplexPrimitiveShader": 59,
            "../shaders/PrimitiveShader": 60,
            "../shaders/TextureShader": 62,
            "./WebGLManager": 58
        }],
        57: [function(t, e, r) {
            function i(t) {
                n.call(this, t),
                this.stencilMaskStack = null 
            }
            var n = t("./WebGLManager")
              , o = t("../../../utils");
            i.prototype = Object.create(n.prototype),
            i.prototype.constructor = i,
            e.exports = i,
            i.prototype.setMaskStack = function(t) {
                this.stencilMaskStack = t;
                var e = this.renderer.gl;
                0 === t.stencilStack.length ? e.disable(e.STENCIL_TEST) : e.enable(e.STENCIL_TEST)
            }
            ,
            i.prototype.pushStencil = function(t, e) {
                this.renderer.currentRenderTarget.attachStencilBuffer();
                var r = this.renderer.gl
                  , i = this.stencilMaskStack;
                this.bindGraphics(t, e),
                0 === i.stencilStack.length && (r.enable(r.STENCIL_TEST),
                r.clear(r.STENCIL_BUFFER_BIT),
                i.reverse = !0,
                i.count = 0),
                i.stencilStack.push(e);
                var n = i.count;
                r.colorMask(!1, !1, !1, !1),
                r.stencilFunc(r.ALWAYS, 0, 255),
                r.stencilOp(r.KEEP, r.KEEP, r.INVERT),
                1 === e.mode ? (r.drawElements(r.TRIANGLE_FAN, e.indices.length - 4, r.UNSIGNED_SHORT, 0),
                i.reverse ? (r.stencilFunc(r.EQUAL, 255 - n, 255),
                r.stencilOp(r.KEEP, r.KEEP, r.DECR)) : (r.stencilFunc(r.EQUAL, n, 255),
                r.stencilOp(r.KEEP, r.KEEP, r.INCR)),
                r.drawElements(r.TRIANGLE_FAN, 4, r.UNSIGNED_SHORT, 2 * (e.indices.length - 4)),
                i.reverse ? r.stencilFunc(r.EQUAL, 255 - (n + 1), 255) : r.stencilFunc(r.EQUAL, n + 1, 255),
                i.reverse = !i.reverse) : (i.reverse ? (r.stencilFunc(r.EQUAL, n, 255),
                r.stencilOp(r.KEEP, r.KEEP, r.INCR)) : (r.stencilFunc(r.EQUAL, 255 - n, 255),
                r.stencilOp(r.KEEP, r.KEEP, r.DECR)),
                r.drawElements(r.TRIANGLE_STRIP, e.indices.length, r.UNSIGNED_SHORT, 0),
                i.reverse ? r.stencilFunc(r.EQUAL, n + 1, 255) : r.stencilFunc(r.EQUAL, 255 - (n + 1), 255)),
                r.colorMask(!0, !0, !0, !0),
                r.stencilOp(r.KEEP, r.KEEP, r.KEEP),
                i.count++
            }
            ,
            i.prototype.bindGraphics = function(t, e) {
                var r, i = this.renderer.gl;
                1 === e.mode ? (r = this.renderer.shaderManager.complexPrimitiveShader,
                this.renderer.shaderManager.setShader(r),
                i.uniformMatrix3fv(r.uniforms.translationMatrix._location, !1, t.worldTransform.toArray(!0)),
                i.uniformMatrix3fv(r.uniforms.projectionMatrix._location, !1, this.renderer.currentRenderTarget.projectionMatrix.toArray(!0)),
                i.uniform3fv(r.uniforms.tint._location, o.hex2rgb(t.tint)),
                i.uniform3fv(r.uniforms.color._location, e.color),
                i.uniform1f(r.uniforms.alpha._location, t.worldAlpha),
                i.bindBuffer(i.ARRAY_BUFFER, e.buffer),
                i.vertexAttribPointer(r.attributes.aVertexPosition, 2, i.FLOAT, !1, 8, 0),
                i.bindBuffer(i.ELEMENT_ARRAY_BUFFER, e.indexBuffer)) : (r = this.renderer.shaderManager.primitiveShader,
                this.renderer.shaderManager.setShader(r),
                i.uniformMatrix3fv(r.uniforms.translationMatrix._location, !1, t.worldTransform.toArray(!0)),
                i.uniformMatrix3fv(r.uniforms.projectionMatrix._location, !1, this.renderer.currentRenderTarget.projectionMatrix.toArray(!0)),
                i.uniform3fv(r.uniforms.tint._location, o.hex2rgb(t.tint)),
                i.uniform1f(r.uniforms.alpha._location, t.worldAlpha),
                i.bindBuffer(i.ARRAY_BUFFER, e.buffer),
                i.vertexAttribPointer(r.attributes.aVertexPosition, 2, i.FLOAT, !1, 24, 0),
                i.vertexAttribPointer(r.attributes.aColor, 4, i.FLOAT, !1, 24, 8),
                i.bindBuffer(i.ELEMENT_ARRAY_BUFFER, e.indexBuffer))
            }
            ,
            i.prototype.popStencil = function(t, e) {
                var r = this.renderer.gl
                  , i = this.stencilMaskStack;
                if (i.stencilStack.pop(),
                i.count--,
                0 === i.stencilStack.length)
                    r.disable(r.STENCIL_TEST);
                else {
                    var n = i.count;
                    this.bindGraphics(t, e),
                    r.colorMask(!1, !1, !1, !1),
                    1 === e.mode ? (i.reverse = !i.reverse,
                    i.reverse ? (r.stencilFunc(r.EQUAL, 255 - (n + 1), 255),
                    r.stencilOp(r.KEEP, r.KEEP, r.INCR)) : (r.stencilFunc(r.EQUAL, n + 1, 255),
                    r.stencilOp(r.KEEP, r.KEEP, r.DECR)),
                    r.drawElements(r.TRIANGLE_FAN, 4, r.UNSIGNED_SHORT, 2 * (e.indices.length - 4)),
                    r.stencilFunc(r.ALWAYS, 0, 255),
                    r.stencilOp(r.KEEP, r.KEEP, r.INVERT),
                    r.drawElements(r.TRIANGLE_FAN, e.indices.length - 4, r.UNSIGNED_SHORT, 0),
                    this.renderer.drawCount += 2,
                    i.reverse ? r.stencilFunc(r.EQUAL, n, 255) : r.stencilFunc(r.EQUAL, 255 - n, 255)) : (i.reverse ? (r.stencilFunc(r.EQUAL, n + 1, 255),
                    r.stencilOp(r.KEEP, r.KEEP, r.DECR)) : (r.stencilFunc(r.EQUAL, 255 - (n + 1), 255),
                    r.stencilOp(r.KEEP, r.KEEP, r.INCR)),
                    r.drawElements(r.TRIANGLE_STRIP, e.indices.length, r.UNSIGNED_SHORT, 0),
                    this.renderer.drawCount++,
                    i.reverse ? r.stencilFunc(r.EQUAL, n, 255) : r.stencilFunc(r.EQUAL, 255 - n, 255)),
                    r.colorMask(!0, !0, !0, !0),
                    r.stencilOp(r.KEEP, r.KEEP, r.KEEP)
                }
            }
            ,
            i.prototype.destroy = function() {
                n.prototype.destroy.call(this),
                this.stencilMaskStack.stencilStack = null 
            }
            ,
            i.prototype.pushMask = function(t) {
                this.renderer.setObjectRenderer(this.renderer.plugins.graphics),
                t.dirty && this.renderer.plugins.graphics.updateGraphics(t, this.renderer.gl),
                t._webGL[this.renderer.gl.id].data.length && this.pushStencil(t, t._webGL[this.renderer.gl.id].data[0])
            }
            ,
            i.prototype.popMask = function(t) {
                this.renderer.setObjectRenderer(this.renderer.plugins.graphics),
                this.popStencil(t, t._webGL[this.renderer.gl.id].data[0])
            }
        }
        , {
            "../../../utils": 77,
            "./WebGLManager": 58
        }],
        58: [function(t, e, r) {
            function i(t) {
                this.renderer = t,
                this.renderer.on("context", this.onContextChange, this)
            }
            i.prototype.constructor = i,
            e.exports = i,
            i.prototype.onContextChange = function() {}
            ,
            i.prototype.destroy = function() {
                this.renderer.off("context", this.onContextChange, this),
                this.renderer = null 
            }
        }
        , {}],
        59: [function(t, e, r) {
            function i(t) {
                n.call(this, t, ["attribute vec2 aVertexPosition;", "uniform mat3 translationMatrix;", "uniform mat3 projectionMatrix;", "uniform vec3 tint;", "uniform float alpha;", "uniform vec3 color;", "varying vec4 vColor;", "void main(void){", "   gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);", "   vColor = vec4(color * alpha * tint, alpha);", "}"].join("\n"), ["precision mediump float;", "varying vec4 vColor;", "void main(void){", "   gl_FragColor = vColor;", "}"].join("\n"), {
                    tint: {
                        type: "3f",
                        value: [0, 0, 0]
                    },
                    alpha: {
                        type: "1f",
                        value: 0
                    },
                    color: {
                        type: "3f",
                        value: [0, 0, 0]
                    },
                    translationMatrix: {
                        type: "mat3",
                        value: new Float32Array(9)
                    },
                    projectionMatrix: {
                        type: "mat3",
                        value: new Float32Array(9)
                    }
                }, {
                    aVertexPosition: 0
                })
            }
            var n = t("./Shader");
            i.prototype = Object.create(n.prototype),
            i.prototype.constructor = i,
            e.exports = i
        }
        , {
            "./Shader": 61
        }],
        60: [function(t, e, r) {
            function i(t) {
                n.call(this, t, ["attribute vec2 aVertexPosition;", "attribute vec4 aColor;", "uniform mat3 translationMatrix;", "uniform mat3 projectionMatrix;", "uniform float alpha;", "uniform float flipY;", "uniform vec3 tint;", "varying vec4 vColor;", "void main(void){", "   gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);", "   vColor = aColor * vec4(tint * alpha, alpha);", "}"].join("\n"), ["precision mediump float;", "varying vec4 vColor;", "void main(void){", "   gl_FragColor = vColor;", "}"].join("\n"), {
                    tint: {
                        type: "3f",
                        value: [0, 0, 0]
                    },
                    alpha: {
                        type: "1f",
                        value: 0
                    },
                    translationMatrix: {
                        type: "mat3",
                        value: new Float32Array(9)
                    },
                    projectionMatrix: {
                        type: "mat3",
                        value: new Float32Array(9)
                    }
                }, {
                    aVertexPosition: 0,
                    aColor: 0
                })
            }
            var n = t("./Shader");
            i.prototype = Object.create(n.prototype),
            i.prototype.constructor = i,
            e.exports = i
        }
        , {
            "./Shader": 61
        }],
        61: [function(t, e, r) {
            function i(t, e, r, i, o) {
                if (!e || !r)
                    throw new Error("Pixi.js Error. Shader requires vertexSrc and fragmentSrc");
                this.uid = n.uid(),
                this.gl = t.renderer.gl,
                this.shaderManager = t,
                this.program = null ,
                this.uniforms = i || {},
                this.attributes = o || {},
                this.textureCount = 1,
                this.vertexSrc = e,
                this.fragmentSrc = r,
                this.init()
            }
            var n = t("../../../utils");
            i.prototype.constructor = i,
            e.exports = i,
            i.prototype.init = function() {
                this.compile(),
                this.gl.useProgram(this.program),
                this.cacheUniformLocations(Object.keys(this.uniforms)),
                this.cacheAttributeLocations(Object.keys(this.attributes))
            }
            ,
            i.prototype.cacheUniformLocations = function(t) {
                for (var e = 0; e < t.length; ++e)
                    this.uniforms[t[e]]._location = this.gl.getUniformLocation(this.program, t[e])
            }
            ,
            i.prototype.cacheAttributeLocations = function(t) {
                for (var e = 0; e < t.length; ++e)
                    this.attributes[t[e]] = this.gl.getAttribLocation(this.program, t[e])
            }
            ,
            i.prototype.compile = function() {
                var t = this.gl
                  , e = this._glCompile(t.VERTEX_SHADER, this.vertexSrc)
                  , r = this._glCompile(t.FRAGMENT_SHADER, this.fragmentSrc)
                  , i = t.createProgram();
                return t.attachShader(i, e),
                t.attachShader(i, r),
                t.linkProgram(i),
                t.getProgramParameter(i, t.LINK_STATUS) || (console.error("Pixi.js Error: Could not initialize shader."),
                console.error("gl.VALIDATE_STATUS", t.getProgramParameter(i, t.VALIDATE_STATUS)),
                console.error("gl.getError()", t.getError()),
                "" !== t.getProgramInfoLog(i) && console.warn("Pixi.js Warning: gl.getProgramInfoLog()", t.getProgramInfoLog(i)),
                t.deleteProgram(i),
                i = null ),
                t.deleteShader(e),
                t.deleteShader(r),
                this.program = i
            }
            ,
            i.prototype.syncUniform = function(t) {
                var e, r, i = t._location, o = t.value, s = this.gl;
                switch (t.type) {
                case "b":
                case "bool":
                case "boolean":
                    s.uniform1i(i, o ? 1 : 0);
                    break;
                case "i":
                case "1i":
                    s.uniform1i(i, o);
                    break;
                case "f":
                case "1f":
                    s.uniform1f(i, o);
                    break;
                case "2f":
                    s.uniform2f(i, o[0], o[1]);
                    break;
                case "3f":
                    s.uniform3f(i, o[0], o[1], o[2]);
                    break;
                case "4f":
                    s.uniform4f(i, o[0], o[1], o[2], o[3]);
                    break;
                case "v2":
                    s.uniform2f(i, o.x, o.y);
                    break;
                case "v3":
                    s.uniform3f(i, o.x, o.y, o.z);
                    break;
                case "v4":
                    s.uniform4f(i, o.x, o.y, o.z, o.w);
                    break;
                case "1iv":
                    s.uniform1iv(i, o);
                    break;
                case "2iv":
                    s.uniform2iv(i, o);
                    break;
                case "3iv":
                    s.uniform3iv(i, o);
                    break;
                case "4iv":
                    s.uniform4iv(i, o);
                    break;
                case "1fv":
                    s.uniform1fv(i, o);
                    break;
                case "2fv":
                    s.uniform2fv(i, o);
                    break;
                case "3fv":
                    s.uniform3fv(i, o);
                    break;
                case "4fv":
                    s.uniform4fv(i, o);
                    break;
                case "m2":
                case "mat2":
                case "Matrix2fv":
                    s.uniformMatrix2fv(i, t.transpose, o);
                    break;
                case "m3":
                case "mat3":
                case "Matrix3fv":
                    s.uniformMatrix3fv(i, t.transpose, o);
                    break;
                case "m4":
                case "mat4":
                case "Matrix4fv":
                    s.uniformMatrix4fv(i, t.transpose, o);
                    break;
                case "c":
                    "number" == typeof o && (o = n.hex2rgb(o)),
                    s.uniform3f(i, o[0], o[1], o[2]);
                    break;
                case "iv1":
                    s.uniform1iv(i, o);
                    break;
                case "iv":
                    s.uniform3iv(i, o);
                    break;
                case "fv1":
                    s.uniform1fv(i, o);
                    break;
                case "fv":
                    s.uniform3fv(i, o);
                    break;
                case "v2v":
                    for (t._array || (t._array = new Float32Array(2 * o.length)),
                    e = 0,
                    r = o.length; r > e; ++e)
                        t._array[2 * e] = o[e].x,
                        t._array[2 * e + 1] = o[e].y;
                    s.uniform2fv(i, t._array);
                    break;
                case "v3v":
                    for (t._array || (t._array = new Float32Array(3 * o.length)),
                    e = 0,
                    r = o.length; r > e; ++e)
                        t._array[3 * e] = o[e].x,
                        t._array[3 * e + 1] = o[e].y,
                        t._array[3 * e + 2] = o[e].z;
                    s.uniform3fv(i, t._array);
                    break;
                case "v4v":
                    for (t._array || (t._array = new Float32Array(4 * o.length)),
                    e = 0,
                    r = o.length; r > e; ++e)
                        t._array[4 * e] = o[e].x,
                        t._array[4 * e + 1] = o[e].y,
                        t._array[4 * e + 2] = o[e].z,
                        t._array[4 * e + 3] = o[e].w;
                    s.uniform4fv(i, t._array);
                    break;
                case "t":
                case "sampler2D":
                    if (!t.value || !t.value.baseTexture.hasLoaded)
                        break;
                    s.activeTexture(s["TEXTURE" + this.textureCount]);
                    var a = t.value.baseTexture._glTextures[s.id];
                    a || (this.initSampler2D(t),
                    a = t.value.baseTexture._glTextures[s.id]),
                    s.bindTexture(s.TEXTURE_2D, a),
                    s.uniform1i(t._location, this.textureCount),
                    this.textureCount++;
                    break;
                default:
                    console.warn("Pixi.js Shader Warning: Unknown uniform type: " + t.type)
                }
            }
            ,
            i.prototype.syncUniforms = function() {
                this.textureCount = 1;
                for (var t in this.uniforms)
                    this.syncUniform(this.uniforms[t])
            }
            ,
            i.prototype.initSampler2D = function(t) {
                var e = this.gl
                  , r = t.value.baseTexture;
                if (r.hasLoaded)
                    if (t.textureData) {
                        var i = t.textureData;
                        r._glTextures[e.id] = e.createTexture(),
                        e.bindTexture(e.TEXTURE_2D, r._glTextures[e.id]),
                        e.pixelStorei(e.UNPACK_PREMULTIPLY_ALPHA_WEBGL, r.premultipliedAlpha),
                        e.texImage2D(e.TEXTURE_2D, 0, i.luminance ? e.LUMINANCE : e.RGBA, e.RGBA, e.UNSIGNED_BYTE, r.source),
                        e.texParameteri(e.TEXTURE_2D, e.TEXTURE_MAG_FILTER, i.magFilter ? i.magFilter : e.LINEAR),
                        e.texParameteri(e.TEXTURE_2D, e.TEXTURE_MIN_FILTER, i.wrapS ? i.wrapS : e.CLAMP_TO_EDGE),
                        e.texParameteri(e.TEXTURE_2D, e.TEXTURE_WRAP_T, i.wrapS ? i.wrapS : e.CLAMP_TO_EDGE),
                        e.texParameteri(e.TEXTURE_2D, e.TEXTURE_WRAP_S, i.wrapT ? i.wrapT : e.CLAMP_TO_EDGE)
                    } else
                        this.shaderManager.renderer.updateTexture(r)
            }
            ,
            i.prototype.destroy = function() {
                this.gl.deleteProgram(this.program),
                this.gl = null ,
                this.uniforms = null ,
                this.attributes = null ,
                this.vertexSrc = null ,
                this.fragmentSrc = null 
            }
            ,
            i.prototype._glCompile = function(t, e) {
                var r = this.gl.createShader(t);
                return this.gl.shaderSource(r, e),
                this.gl.compileShader(r),
                this.gl.getShaderParameter(r, this.gl.COMPILE_STATUS) ? r : (console.log(this.gl.getShaderInfoLog(r)),
                null )
            }
        }
        , {
            "../../../utils": 77
        }],
        62: [function(t, e, r) {
            function i(t, e, r, o, s) {
                var a = {
                    uSampler: {
                        type: "sampler2D",
                        value: 0
                    },
                    projectionMatrix: {
                        type: "mat3",
                        value: new Float32Array([1, 0, 0, 0, 1, 0, 0, 0, 1])
                    }
                };
                if (o)
                    for (var h in o)
                        a[h] = o[h];
                var u = {
                    aVertexPosition: 0,
                    aTextureCoord: 0,
                    aColor: 0
                };
                if (s)
                    for (var l in s)
                        u[l] = s[l];
                e = e || i.defaultVertexSrc,
                r = r || i.defaultFragmentSrc,
                n.call(this, t, e, r, a, u)
            }
            var n = t("./Shader");
            i.prototype = Object.create(n.prototype),
            i.prototype.constructor = i,
            e.exports = i,
            i.defaultVertexSrc = ["precision lowp float;", "attribute vec2 aVertexPosition;", "attribute vec2 aTextureCoord;", "attribute vec4 aColor;", "uniform mat3 projectionMatrix;", "varying vec2 vTextureCoord;", "varying vec4 vColor;", "void main(void){", "   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);", "   vTextureCoord = aTextureCoord;", "   vColor = vec4(aColor.rgb * aColor.a, aColor.a);", "}"].join("\n"),
            i.defaultFragmentSrc = ["precision lowp float;", "varying vec2 vTextureCoord;", "varying vec4 vColor;", "uniform sampler2D uSampler;", "void main(void){", "   gl_FragColor = texture2D(uSampler, vTextureCoord) * vColor ;", "}"].join("\n")
        }
        , {
            "./Shader": 61
        }],
        63: [function(t, e, r) {
            function i(t) {
                n.call(this, t)
            }
            var n = t("../managers/WebGLManager");
            i.prototype = Object.create(n.prototype),
            i.prototype.constructor = i,
            e.exports = i,
            i.prototype.start = function() {}
            ,
            i.prototype.stop = function() {
                this.flush()
            }
            ,
            i.prototype.flush = function() {}
            ,
            i.prototype.render = function(t) {}
        }
        , {
            "../managers/WebGLManager": 58
        }],
        64: [function(t, e, r) {
            function i(t) {
                this.gl = t,
                this.vertices = new Float32Array([0, 0, 200, 0, 200, 200, 0, 200]),
                this.uvs = new Float32Array([0, 0, 1, 0, 1, 1, 0, 1]),
                this.colors = new Float32Array([1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1]),
                this.indices = new Uint16Array([0, 1, 2, 0, 3, 2]),
                this.vertexBuffer = t.createBuffer(),
                this.indexBuffer = t.createBuffer(),
                t.bindBuffer(t.ARRAY_BUFFER, this.vertexBuffer),
                t.bufferData(t.ARRAY_BUFFER, 128, t.DYNAMIC_DRAW),
                t.bindBuffer(t.ELEMENT_ARRAY_BUFFER, this.indexBuffer),
                t.bufferData(t.ELEMENT_ARRAY_BUFFER, this.indices, t.STATIC_DRAW),
                this.upload()
            }
            i.prototype.constructor = i,
            i.prototype.map = function(t, e) {
                var r = 0
                  , i = 0;
                this.uvs[0] = r,
                this.uvs[1] = i,
                this.uvs[2] = r + e.width / t.width,
                this.uvs[3] = i,
                this.uvs[4] = r + e.width / t.width,
                this.uvs[5] = i + e.height / t.height,
                this.uvs[6] = r,
                this.uvs[7] = i + e.height / t.height,
                r = e.x,
                i = e.y,
                this.vertices[0] = r,
                this.vertices[1] = i,
                this.vertices[2] = r + e.width,
                this.vertices[3] = i,
                this.vertices[4] = r + e.width,
                this.vertices[5] = i + e.height,
                this.vertices[6] = r,
                this.vertices[7] = i + e.height,
                this.upload()
            }
            ,
            i.prototype.upload = function() {
                var t = this.gl;
                t.bindBuffer(t.ARRAY_BUFFER, this.vertexBuffer),
                t.bufferSubData(t.ARRAY_BUFFER, 0, this.vertices),
                t.bufferSubData(t.ARRAY_BUFFER, 32, this.uvs),
                t.bufferSubData(t.ARRAY_BUFFER, 64, this.colors)
            }
            ,
            i.prototype.destroy = function() {
                var t = this.gl;
                t.deleteBuffer(this.vertexBuffer),
                t.deleteBuffer(this.indexBuffer)
            }
            ,
            e.exports = i
        }
        , {}],
        65: [function(t, e, r) {
            var i = t("../../../math")
              , n = t("../../../utils")
              , o = t("../../../const")
              , s = t("./StencilMaskStack")
              , a = function(t, e, r, a, h, u) {
                if (this.gl = t,
                this.frameBuffer = null ,
                this.texture = null ,
                this.size = new i.Rectangle(0,0,1,1),
                this.resolution = h || o.RESOLUTION,
                this.projectionMatrix = new i.Matrix,
                this.transform = null ,
                this.frame = null ,
                this.stencilBuffer = null ,
                this.stencilMaskStack = new s,
                this.filterStack = [{
                    renderTarget: this,
                    filter: [],
                    bounds: this.size
                }],
                this.scaleMode = a || o.SCALE_MODES.DEFAULT,
                this.root = u,
                !this.root) {
                    this.frameBuffer = t.createFramebuffer(),
                    this.texture = t.createTexture(),
                    t.bindTexture(t.TEXTURE_2D, this.texture),
                    t.texParameteri(t.TEXTURE_2D, t.TEXTURE_MAG_FILTER, a === o.SCALE_MODES.LINEAR ? t.LINEAR : t.NEAREST),
                    t.texParameteri(t.TEXTURE_2D, t.TEXTURE_MIN_FILTER, a === o.SCALE_MODES.LINEAR ? t.LINEAR : t.NEAREST);
                    var l = n.isPowerOfTwo(e, r);
                    l ? (t.texParameteri(t.TEXTURE_2D, t.TEXTURE_WRAP_S, t.REPEAT),
                    t.texParameteri(t.TEXTURE_2D, t.TEXTURE_WRAP_T, t.REPEAT)) : (t.texParameteri(t.TEXTURE_2D, t.TEXTURE_WRAP_S, t.CLAMP_TO_EDGE),
                    t.texParameteri(t.TEXTURE_2D, t.TEXTURE_WRAP_T, t.CLAMP_TO_EDGE)),
                    t.bindFramebuffer(t.FRAMEBUFFER, this.frameBuffer),
                    t.framebufferTexture2D(t.FRAMEBUFFER, t.COLOR_ATTACHMENT0, t.TEXTURE_2D, this.texture, 0)
                }
                this.resize(e, r)
            }
            ;
            a.prototype.constructor = a,
            e.exports = a,
            a.prototype.clear = function(t) {
                var e = this.gl;
                t && e.bindFramebuffer(e.FRAMEBUFFER, this.frameBuffer),
                e.clearColor(0, 0, 0, 0),
                e.clear(e.COLOR_BUFFER_BIT)
            }
            ,
            a.prototype.attachStencilBuffer = function() {
                if (!this.stencilBuffer && !this.root) {
                    var t = this.gl;
                    this.stencilBuffer = t.createRenderbuffer(),
                    t.bindRenderbuffer(t.RENDERBUFFER, this.stencilBuffer),
                    t.framebufferRenderbuffer(t.FRAMEBUFFER, t.DEPTH_STENCIL_ATTACHMENT, t.RENDERBUFFER, this.stencilBuffer),
                    t.renderbufferStorage(t.RENDERBUFFER, t.DEPTH_STENCIL, this.size.width * this.resolution, this.size.height * this.resolution)
                }
            }
            ,
            a.prototype.activate = function() {
                var t = this.gl;
                t.bindFramebuffer(t.FRAMEBUFFER, this.frameBuffer);
                var e = this.frame || this.size;
                this.calculateProjection(e),
                this.transform && this.projectionMatrix.append(this.transform),
                t.viewport(0, 0, e.width * this.resolution, e.height * this.resolution)
            }
            ,
            a.prototype.calculateProjection = function(t) {
                var e = this.projectionMatrix;
                e.identity(),
                this.root ? (e.a = 1 / t.width * 2,
                e.d = -1 / t.height * 2,
                e.tx = -1 - t.x * e.a,
                e.ty = 1 - t.y * e.d) : (e.a = 1 / t.width * 2,
                e.d = 1 / t.height * 2,
                e.tx = -1 - t.x * e.a,
                e.ty = -1 - t.y * e.d)
            }
            ,
            a.prototype.resize = function(t, e) {
                if (t = 0 | t,
                e = 0 | e,
                this.size.width !== t || this.size.height !== e) {
                    if (this.size.width = t,
                    this.size.height = e,
                    !this.root) {
                        var r = this.gl;
                        r.bindTexture(r.TEXTURE_2D, this.texture),
                        r.texImage2D(r.TEXTURE_2D, 0, r.RGBA, t * this.resolution, e * this.resolution, 0, r.RGBA, r.UNSIGNED_BYTE, null ),
                        this.stencilBuffer && (r.bindRenderbuffer(r.RENDERBUFFER, this.stencilBuffer),
                        r.renderbufferStorage(r.RENDERBUFFER, r.DEPTH_STENCIL, t * this.resolution, e * this.resolution))
                    }
                    var i = this.frame || this.size;
                    this.calculateProjection(i)
                }
            }
            ,
            a.prototype.destroy = function() {
                var t = this.gl;
                t.deleteRenderbuffer(this.stencilBuffer),
                t.deleteFramebuffer(this.frameBuffer),
                t.deleteTexture(this.texture),
                this.frameBuffer = null ,
                this.texture = null 
            }
        }
        , {
            "../../../const": 22,
            "../../../math": 33,
            "../../../utils": 77,
            "./StencilMaskStack": 66
        }],
        66: [function(t, e, r) {
            function i() {
                this.stencilStack = [],
                this.reverse = !0,
                this.count = 0
            }
            i.prototype.constructor = i,
            e.exports = i
        }
        , {}],
        67: [function(t, e, r) {
            function i(t) {
                s.call(this),
                this.anchor = new n.Point,
                this._texture = null ,
                this._width = 0,
                this._height = 0,
                this.tint = 16777215,
                this.blendMode = u.BLEND_MODES.NORMAL,
                this.shader = null ,
                this.cachedTint = 16777215,
                this.texture = t || o.EMPTY
            }
            var n = t("../math")
              , o = t("../textures/Texture")
              , s = t("../display/Container")
              , a = t("../renderers/canvas/utils/CanvasTinter")
              , h = t("../utils")
              , u = t("../const")
              , l = new n.Point
              , c = n.GroupD8
              , p = new n.Matrix;
            i.prototype = Object.create(s.prototype),
            i.prototype.constructor = i,
            e.exports = i,
            Object.defineProperties(i.prototype, {
                width: {
                    get: function() {
                        return Math.abs(this.scale.x) * this.texture._frame.width
                    },
                    set: function(t) {
                        var e = h.sign(this.scale.x) || 1;
                        this.scale.x = e * t / this.texture._frame.width,
                        this._width = t
                    }
                },
                height: {
                    get: function() {
                        return Math.abs(this.scale.y) * this.texture._frame.height
                    },
                    set: function(t) {
                        var e = h.sign(this.scale.y) || 1;
                        this.scale.y = e * t / this.texture._frame.height,
                        this._height = t
                    }
                },
                texture: {
                    get: function() {
                        return this._texture
                    },
                    set: function(t) {
                        this._texture !== t && (this._texture = t,
                        this.cachedTint = 16777215,
                        t && (t.baseTexture.hasLoaded ? this._onTextureUpdate() : t.once("update", this._onTextureUpdate, this)))
                    }
                }
            }),
            i.prototype._onTextureUpdate = function() {
                this._width && (this.scale.x = h.sign(this.scale.x) * this._width / this.texture.frame.width),
                this._height && (this.scale.y = h.sign(this.scale.y) * this._height / this.texture.frame.height)
            }
            ,
            i.prototype._renderWebGL = function(t) {
                t.setObjectRenderer(t.plugins.sprite),
                t.plugins.sprite.render(this)
            }
            ,
            i.prototype.getBounds = function(t) {
                if (!this._currentBounds) {
                    var e, r, i, n, o = this._texture._frame.width, s = this._texture._frame.height, a = o * (1 - this.anchor.x), h = o * -this.anchor.x, u = s * (1 - this.anchor.y), l = s * -this.anchor.y, c = t || this.worldTransform, p = c.a, d = c.b, f = c.c, v = c.d, g = c.tx, m = c.ty, y = p * h + f * l + g, x = v * l + d * h + m, b = p * a + f * l + g, _ = v * l + d * a + m, T = p * a + f * u + g, E = v * u + d * a + m, S = p * h + f * u + g, w = v * u + d * h + m;
                    if (e = y,
                    e = e > b ? b : e,
                    e = e > T ? T : e,
                    e = e > S ? S : e,
                    i = x,
                    i = i > _ ? _ : i,
                    i = i > E ? E : i,
                    i = i > w ? w : i,
                    r = y,
                    r = b > r ? b : r,
                    r = T > r ? T : r,
                    r = S > r ? S : r,
                    n = x,
                    n = _ > n ? _ : n,
                    n = E > n ? E : n,
                    n = w > n ? w : n,
                    this.children.length) {
                        var A = this.containerGetBounds();
                        a = A.x,
                        h = A.x + A.width,
                        u = A.y,
                        l = A.y + A.height,
                        e = a > e ? e : a,
                        i = u > i ? i : u,
                        r = r > h ? r : h,
                        n = n > l ? n : l
                    }
                    var C = this._bounds;
                    C.x = e,
                    C.width = r - e,
                    C.y = i,
                    C.height = n - i,
                    this._currentBounds = C
                }
                return this._currentBounds
            }
            ,
            i.prototype.getLocalBounds = function() {
                return this._bounds.x = -this._texture._frame.width * this.anchor.x,
                this._bounds.y = -this._texture._frame.height * this.anchor.y,
                this._bounds.width = this._texture._frame.width,
                this._bounds.height = this._texture._frame.height,
                this._bounds
            }
            ,
            i.prototype.containsPoint = function(t) {
                this.worldTransform.applyInverse(t, l);
                var e, r = this._texture._frame.width, i = this._texture._frame.height, n = -r * this.anchor.x;
                return l.x > n && l.x < n + r && (e = -i * this.anchor.y,
                l.y > e && l.y < e + i) ? !0 : !1
            }
            ,
            i.prototype._renderCanvas = function(t) {
                if (!(this.texture.crop.width <= 0 || this.texture.crop.height <= 0)) {
                    var e = t.blendModes[this.blendMode];
                    if (e !== t.context.globalCompositeOperation && (t.context.globalCompositeOperation = e),
                    this.texture.valid) {
                        var r, i, n = this._texture, o = this.worldTransform, s = n.crop.width, h = n.crop.height;
                        t.context.globalAlpha = this.worldAlpha;
                        var l = n.baseTexture.scaleMode === u.SCALE_MODES.LINEAR;
                        t.smoothProperty && t.context[t.smoothProperty] !== l && (t.context[t.smoothProperty] = l),
                        2 === (3 & n.rotate) && (s = n.crop.height,
                        h = n.crop.width),
                        n.trim ? (r = n.crop.width / 2 + n.trim.x - this.anchor.x * n.trim.width,
                        i = n.crop.height / 2 + n.trim.y - this.anchor.y * n.trim.height) : (r = (.5 - this.anchor.x) * n._frame.width,
                        i = (.5 - this.anchor.y) * n._frame.height),
                        n.rotate && (o.copy(p),
                        o = p,
                        c.matrixAppendRotationInv(o, n.rotate, r, i),
                        r = 0,
                        i = 0),
                        r -= s / 2,
                        i -= h / 2,
                        t.roundPixels ? (t.context.setTransform(o.a, o.b, o.c, o.d, o.tx * t.resolution | 0, o.ty * t.resolution | 0),
                        r = 0 | r,
                        i = 0 | i) : t.context.setTransform(o.a, o.b, o.c, o.d, o.tx * t.resolution, o.ty * t.resolution);
                        var d = n.baseTexture.resolution;
                        16777215 !== this.tint ? (this.cachedTint !== this.tint && (this.cachedTint = this.tint,
                        this.tintedTexture = a.getTintedTexture(this, this.tint)),
                        t.context.drawImage(this.tintedTexture, 0, 0, s * d, h * d, r * t.resolution, i * t.resolution, s * t.resolution, h * t.resolution)) : t.context.drawImage(n.baseTexture.source, n.crop.x * d, n.crop.y * d, s * d, h * d, r * t.resolution, i * t.resolution, s * t.resolution, h * t.resolution)
                    }
                }
            }
            ,
            i.prototype.destroy = function(t, e) {
                s.prototype.destroy.call(this),
                this.anchor = null ,
                t && this._texture.destroy(e),
                this._texture = null ,
                this.shader = null 
            }
            ,
            i.fromFrame = function(t) {
                var e = h.TextureCache[t];
                if (!e)
                    throw new Error('The frameId "' + t + '" does not exist in the texture cache');
                return new i(e)
            }
            ,
            i.fromImage = function(t, e, r) {
                return new i(o.fromImage(t, e, r))
            }
        }
        , {
            "../const": 22,
            "../display/Container": 23,
            "../math": 33,
            "../renderers/canvas/utils/CanvasTinter": 48,
            "../textures/Texture": 72,
            "../utils": 77
        }],
        68: [function(t, e, r) {
            function i(t) {
                n.call(this, t),
                this.vertSize = 5,
                this.vertByteSize = 4 * this.vertSize,
                this.size = s.SPRITE_BATCH_SIZE;
                var e = 4 * this.size * this.vertByteSize
                  , r = 6 * this.size;
                this.vertices = new ArrayBuffer(e),
                this.positions = new Float32Array(this.vertices),
                this.colors = new Uint32Array(this.vertices),
                this.indices = new Uint16Array(r);
                for (var i = 0, o = 0; r > i; i += 6,
                o += 4)
                    this.indices[i + 0] = o + 0,
                    this.indices[i + 1] = o + 1,
                    this.indices[i + 2] = o + 2,
                    this.indices[i + 3] = o + 0,
                    this.indices[i + 4] = o + 2,
                    this.indices[i + 5] = o + 3;
                this.currentBatchSize = 0,
                this.sprites = [],
                this.shader = null 
            }
            var n = t("../../renderers/webgl/utils/ObjectRenderer")
              , o = t("../../renderers/webgl/WebGLRenderer")
              , s = t("../../const");
            i.prototype = Object.create(n.prototype),
            i.prototype.constructor = i,
            e.exports = i,
            o.registerPlugin("sprite", i),
            i.prototype.onContextChange = function() {
                var t = this.renderer.gl;
                this.shader = this.renderer.shaderManager.defaultShader,
                this.vertexBuffer = t.createBuffer(),
                this.indexBuffer = t.createBuffer(),
                t.bindBuffer(t.ELEMENT_ARRAY_BUFFER, this.indexBuffer),
                t.bufferData(t.ELEMENT_ARRAY_BUFFER, this.indices, t.STATIC_DRAW),
                t.bindBuffer(t.ARRAY_BUFFER, this.vertexBuffer),
                t.bufferData(t.ARRAY_BUFFER, this.vertices, t.DYNAMIC_DRAW),
                this.currentBlendMode = 99999
            }
            ,
            i.prototype.render = function(t) {
                var e = t._texture;
                this.currentBatchSize >= this.size && this.flush();
                var r = e._uvs;
                if (r) {
                    var i, n, o, s, a = t.anchor.x, h = t.anchor.y;
                    if (e.trim && void 0 === t.tileScale) {
                        var u = e.trim;
                        n = u.x - a * u.width,
                        i = n + e.crop.width,
                        s = u.y - h * u.height,
                        o = s + e.crop.height
                    } else
                        i = e._frame.width * (1 - a),
                        n = e._frame.width * -a,
                        o = e._frame.height * (1 - h),
                        s = e._frame.height * -h;
                    var l = this.currentBatchSize * this.vertByteSize
                      , c = t.worldTransform
                      , p = c.a
                      , d = c.b
                      , f = c.c
                      , v = c.d
                      , g = c.tx
                      , m = c.ty
                      , y = this.colors
                      , x = this.positions;
                    if (this.renderer.roundPixels) {
                        var b = this.renderer.resolution;
                        x[l] = ((p * n + f * s + g) * b | 0) / b,
                        x[l + 1] = ((v * s + d * n + m) * b | 0) / b,
                        x[l + 5] = ((p * i + f * s + g) * b | 0) / b,
                        x[l + 6] = ((v * s + d * i + m) * b | 0) / b,
                        x[l + 10] = ((p * i + f * o + g) * b | 0) / b,
                        x[l + 11] = ((v * o + d * i + m) * b | 0) / b,
                        x[l + 15] = ((p * n + f * o + g) * b | 0) / b,
                        x[l + 16] = ((v * o + d * n + m) * b | 0) / b
                    } else
                        x[l] = p * n + f * s + g,
                        x[l + 1] = v * s + d * n + m,
                        x[l + 5] = p * i + f * s + g,
                        x[l + 6] = v * s + d * i + m,
                        x[l + 10] = p * i + f * o + g,
                        x[l + 11] = v * o + d * i + m,
                        x[l + 15] = p * n + f * o + g,
                        x[l + 16] = v * o + d * n + m;
                    x[l + 2] = r.x0,
                    x[l + 3] = r.y0,
                    x[l + 7] = r.x1,
                    x[l + 8] = r.y1,
                    x[l + 12] = r.x2,
                    x[l + 13] = r.y2,
                    x[l + 17] = r.x3,
                    x[l + 18] = r.y3;
                    var _ = t.tint;
                    y[l + 4] = y[l + 9] = y[l + 14] = y[l + 19] = (_ >> 16) + (65280 & _) + ((255 & _) << 16) + (255 * t.worldAlpha << 24),
                    this.sprites[this.currentBatchSize++] = t
                }
            }
            ,
            i.prototype.flush = function() {
                if (0 !== this.currentBatchSize) {
                    var t, e = this.renderer.gl;
                    if (this.currentBatchSize > .5 * this.size)
                        e.bufferSubData(e.ARRAY_BUFFER, 0, this.vertices);
                    else {
                        var r = this.positions.subarray(0, this.currentBatchSize * this.vertByteSize);
                        e.bufferSubData(e.ARRAY_BUFFER, 0, r)
                    }
                    for (var i, n, o, s, a = 0, h = 0, u = null , l = this.renderer.blendModeManager.currentBlendMode, c = null , p = !1, d = !1, f = 0, v = this.currentBatchSize; v > f; f++)
                        s = this.sprites[f],
                        i = s._texture.baseTexture,
                        n = s.blendMode,
                        o = s.shader || this.shader,
                        p = l !== n,
                        d = c !== o,
                        (u !== i || p || d) && (this.renderBatch(u, a, h),
                        h = f,
                        a = 0,
                        u = i,
                        p && (l = n,
                        this.renderer.blendModeManager.setBlendMode(l)),
                        d && (c = o,
                        t = c.shaders ? c.shaders[e.id] : c,
                        t || (t = c.getShader(this.renderer)),
                        this.renderer.shaderManager.setShader(t),
                        t.uniforms.projectionMatrix.value = this.renderer.currentRenderTarget.projectionMatrix.toArray(!0),
                        t.syncUniforms(),
                        e.activeTexture(e.TEXTURE0))),
                        a++;
                    this.renderBatch(u, a, h),
                    this.currentBatchSize = 0
                }
            }
            ,
            i.prototype.renderBatch = function(t, e, r) {
                if (0 !== e) {
                    var i = this.renderer.gl;
                    t._glTextures[i.id] ? i.bindTexture(i.TEXTURE_2D, t._glTextures[i.id]) : this.renderer.updateTexture(t),
                    i.drawElements(i.TRIANGLES, 6 * e, i.UNSIGNED_SHORT, 6 * r * 2),
                    this.renderer.drawCount++
                }
            }
            ,
            i.prototype.start = function() {
                var t = this.renderer.gl;
                t.bindBuffer(t.ARRAY_BUFFER, this.vertexBuffer),
                t.bindBuffer(t.ELEMENT_ARRAY_BUFFER, this.indexBuffer);
                var e = this.vertByteSize;
                t.vertexAttribPointer(this.shader.attributes.aVertexPosition, 2, t.FLOAT, !1, e, 0),
                t.vertexAttribPointer(this.shader.attributes.aTextureCoord, 2, t.FLOAT, !1, e, 8),
                t.vertexAttribPointer(this.shader.attributes.aColor, 4, t.UNSIGNED_BYTE, !0, e, 16)
            }
            ,
            i.prototype.destroy = function() {
                this.renderer.gl.deleteBuffer(this.vertexBuffer),
                this.renderer.gl.deleteBuffer(this.indexBuffer),
                n.prototype.destroy.call(this),
                this.shader.destroy(),
                this.renderer = null ,
                this.vertices = null ,
                this.positions = null ,
                this.colors = null ,
                this.indices = null ,
                this.vertexBuffer = null ,
                this.indexBuffer = null ,
                this.sprites = null ,
                this.shader = null 
            }
        }
        , {
            "../../const": 22,
            "../../renderers/webgl/WebGLRenderer": 49,
            "../../renderers/webgl/utils/ObjectRenderer": 63
        }],
        69: [function(t, e, r) {
            function i(t, e, r) {
                this.canvas = document.createElement("canvas"),
                this.context = this.canvas.getContext("2d"),
                this.resolution = r || h.RESOLUTION,
                this._text = null ,
                this._style = null ;
                var i = o.fromCanvas(this.canvas);
                i.trim = new s.Rectangle,
                n.call(this, i),
                this.text = t,
                this.style = e
            }
            var n = t("../sprites/Sprite")
              , o = t("../textures/Texture")
              , s = t("../math")
              , a = t("../utils")
              , h = t("../const");
            i.prototype = Object.create(n.prototype),
            i.prototype.constructor = i,
            e.exports = i,
            i.fontPropertiesCache = {},
            i.fontPropertiesCanvas = document.createElement("canvas"),
            i.fontPropertiesContext = i.fontPropertiesCanvas.getContext("2d"),
            Object.defineProperties(i.prototype, {
                width: {
                    get: function() {
                        return this.dirty && this.updateText(),
                        this.scale.x * this._texture._frame.width
                    },
                    set: function(t) {
                        this.scale.x = t / this._texture._frame.width,
                        this._width = t
                    }
                },
                height: {
                    get: function() {
                        return this.dirty && this.updateText(),
                        this.scale.y * this._texture._frame.height
                    },
                    set: function(t) {
                        this.scale.y = t / this._texture._frame.height,
                        this._height = t
                    }
                },
                style: {
                    get: function() {
                        return this._style
                    },
                    set: function(t) {
                        t = t || {},
                        "number" == typeof t.fill && (t.fill = a.hex2string(t.fill)),
                        "number" == typeof t.stroke && (t.stroke = a.hex2string(t.stroke)),
                        "number" == typeof t.dropShadowColor && (t.dropShadowColor = a.hex2string(t.dropShadowColor)),
                        t.font = t.font || "bold 20pt Arial",
                        t.fill = t.fill || "black",
                        t.align = t.align || "left",
                        t.stroke = t.stroke || "black",
                        t.strokeThickness = t.strokeThickness || 0,
                        t.wordWrap = t.wordWrap || !1,
                        t.wordWrapWidth = t.wordWrapWidth || 100,
                        t.dropShadow = t.dropShadow || !1,
                        t.dropShadowColor = t.dropShadowColor || "#000000",
                        t.dropShadowAngle = void 0 !== t.dropShadowAngle ? t.dropShadowAngle : Math.PI / 6,
                        t.dropShadowDistance = void 0 !== t.dropShadowDistance ? t.dropShadowDistance : 5,
                        t.dropShadowBlur = void 0 !== t.dropShadowBlur ? t.dropShadowBlur : 0,
                        t.padding = t.padding || 0,
                        t.textBaseline = t.textBaseline || "alphabetic",
                        t.lineJoin = t.lineJoin || "miter",
                        t.miterLimit = t.miterLimit || 10,
                        this._style = t,
                        this.dirty = !0
                    }
                },
                text: {
                    get: function() {
                        return this._text
                    },
                    set: function(t) {
                        t = t.toString() || " ",
                        this._text !== t && (this._text = t,
                        this.dirty = !0)
                    }
                }
            }),
            i.prototype.updateText = function() {
                var t = this._style;
                this.context.font = t.font;
                for (var e = t.wordWrap ? this.wordWrap(this._text) : this._text, r = e.split(/(?:\r\n|\r|\n)/), i = new Array(r.length), n = 0, o = this.determineFontProperties(t.font), s = 0; s < r.length; s++) {
                    var a = this.context.measureText(r[s]).width;
                    i[s] = a,
                    n = Math.max(n, a)
                }
                var h = n + t.strokeThickness;
                t.dropShadow && (h += t.dropShadowDistance),
                this.canvas.width = (h + this.context.lineWidth) * this.resolution;
                var u = this.style.lineHeight || o.fontSize + t.strokeThickness
                  , l = u * r.length;
                t.dropShadow && (l += t.dropShadowDistance),
                this.canvas.height = (l + 2 * this._style.padding) * this.resolution,
                this.context.scale(this.resolution, this.resolution),
                navigator.isCocoonJS && this.context.clearRect(0, 0, this.canvas.width, this.canvas.height),
                this.context.font = t.font,
                this.context.strokeStyle = t.stroke,
                this.context.lineWidth = t.strokeThickness,
                this.context.textBaseline = t.textBaseline,
                this.context.lineJoin = t.lineJoin,
                this.context.miterLimit = t.miterLimit;
                var c, p;
                if (t.dropShadow) {
                    t.dropShadowBlur > 0 ? (this.context.shadowColor = t.dropShadowColor,
                    this.context.shadowBlur = t.dropShadowBlur) : this.context.fillStyle = t.dropShadowColor;
                    var d = Math.cos(t.dropShadowAngle) * t.dropShadowDistance
                      , f = Math.sin(t.dropShadowAngle) * t.dropShadowDistance;
                    for (s = 0; s < r.length; s++)
                        c = t.strokeThickness / 2,
                        p = t.strokeThickness / 2 + s * u + o.ascent,
                        "right" === t.align ? c += n - i[s] : "center" === t.align && (c += (n - i[s]) / 2),
                        t.fill && this.context.fillText(r[s], c + d, p + f + this._style.padding)
                }
                for (this.context.fillStyle = t.fill,
                s = 0; s < r.length; s++)
                    c = t.strokeThickness / 2,
                    p = t.strokeThickness / 2 + s * u + o.ascent,
                    "right" === t.align ? c += n - i[s] : "center" === t.align && (c += (n - i[s]) / 2),
                    t.stroke && t.strokeThickness && this.context.strokeText(r[s], c, p + this._style.padding),
                    t.fill && this.context.fillText(r[s], c, p + this._style.padding);
                this.updateTexture()
            }
            ,
            i.prototype.updateTexture = function() {
                var t = this._texture;
                t.baseTexture.hasLoaded = !0,
                t.baseTexture.resolution = this.resolution,
                t.baseTexture.width = this.canvas.width / this.resolution,
                t.baseTexture.height = this.canvas.height / this.resolution,
                t.crop.width = t._frame.width = this.canvas.width / this.resolution,
                t.crop.height = t._frame.height = this.canvas.height / this.resolution,
                t.trim.x = 0,
                t.trim.y = -this._style.padding,
                t.trim.width = t._frame.width,
                t.trim.height = t._frame.height - 2 * this._style.padding,
                this._width = this.canvas.width / this.resolution,
                this._height = this.canvas.height / this.resolution,
                t.baseTexture.emit("update", t.baseTexture),
                this.dirty = !1
            }
            ,
            i.prototype.renderWebGL = function(t) {
                this.dirty && this.updateText(),
                n.prototype.renderWebGL.call(this, t)
            }
            ,
            i.prototype._renderCanvas = function(t) {
                this.dirty && this.updateText(),
                n.prototype._renderCanvas.call(this, t)
            }
            ,
            i.prototype.determineFontProperties = function(t) {
                var e = i.fontPropertiesCache[t];
                if (!e) {
                    e = {};
                    var r = i.fontPropertiesCanvas
                      , n = i.fontPropertiesContext;
                    n.font = t;
                    var o = Math.ceil(n.measureText("|Mq").width)
                      , s = Math.ceil(n.measureText("M").width)
                      , a = 2 * s;
                    s = 1.4 * s | 0,
                    r.width = o,
                    r.height = a,
                    n.fillStyle = "#f00",
                    n.fillRect(0, 0, o, a),
                    n.font = t,
                    n.textBaseline = "alphabetic",
                    n.fillStyle = "#000",
                    n.fillText("|Mq", 0, s);
                    var h, u, l = n.getImageData(0, 0, o, a).data, c = l.length, p = 4 * o, d = 0, f = !1;
                    for (h = 0; s > h; h++) {
                        for (u = 0; p > u; u += 4)
                            if (255 !== l[d + u]) {
                                f = !0;
                                break
                            }
                        if (f)
                            break;
                        d += p
                    }
                    for (e.ascent = s - h,
                    d = c - p,
                    f = !1,
                    h = a; h > s; h--) {
                        for (u = 0; p > u; u += 4)
                            if (255 !== l[d + u]) {
                                f = !0;
                                break
                            }
                        if (f)
                            break;
                        d -= p
                    }
                    e.descent = h - s,
                    e.fontSize = e.ascent + e.descent,
                    i.fontPropertiesCache[t] = e
                }
                return e
            }
            ,
            i.prototype.wordWrap = function(t) {
                for (var e = "", r = t.split("\n"), i = this._style.wordWrapWidth, n = 0; n < r.length; n++) {
                    for (var o = i, s = r[n].split(" "), a = 0; a < s.length; a++) {
                        var h = this.context.measureText(s[a]).width
                          , u = h + this.context.measureText(" ").width;
                        0 === a || u > o ? (a > 0 && (e += "\n"),
                        e += s[a],
                        o = i - h) : (o -= u,
                        e += " " + s[a])
                    }
                    n < r.length - 1 && (e += "\n")
                }
                return e
            }
            ,
            i.prototype.getBounds = function(t) {
                return this.dirty && this.updateText(),
                n.prototype.getBounds.call(this, t)
            }
            ,
            i.prototype.destroy = function(t) {
                this.context = null ,
                this.canvas = null ,
                this._style = null ,
                this._texture.destroy(void 0 === t ? !0 : t)
            }
        }
        , {
            "../const": 22,
            "../math": 33,
            "../sprites/Sprite": 67,
            "../textures/Texture": 72,
            "../utils": 77
        }],
        70: [function(t, e, r) {
            function i(t, e, r) {
                s.call(this),
                this.uid = n.uid(),
                this.resolution = r || 1,
                this.width = 100,
                this.height = 100,
                this.realWidth = 100,
                this.realHeight = 100,
                this.scaleMode = e || o.SCALE_MODES.DEFAULT,
                this.hasLoaded = !1,
                this.isLoading = !1,
                this.source = null ,
                this.premultipliedAlpha = !0,
                this.imageUrl = null ,
                this.isPowerOfTwo = !1,
                this.mipmap = !1,
                this._glTextures = {},
                t && this.loadSource(t)
            }
            var n = t("../utils")
              , o = t("../const")
              , s = t("eventemitter3");
            i.prototype = Object.create(s.prototype),
            i.prototype.constructor = i,
            e.exports = i,
            i.prototype.update = function() {
                this.realWidth = this.source.naturalWidth || this.source.width,
                this.realHeight = this.source.naturalHeight || this.source.height,
                this.width = this.realWidth / this.resolution,
                this.height = this.realHeight / this.resolution,
                this.isPowerOfTwo = n.isPowerOfTwo(this.realWidth, this.realHeight),
                this.emit("update", this)
            }
            ,
            i.prototype.loadSource = function(t) {
                var e = this.isLoading;
                if (this.hasLoaded = !1,
                this.isLoading = !1,
                e && this.source && (this.source.onload = null ,
                this.source.onerror = null ),
                this.source = t,
                (this.source.complete || this.source.getContext) && this.source.width && this.source.height)
                    this._sourceLoaded();
                else if (!t.getContext) {
                    this.isLoading = !0;
                    var r = this;
                    t.onload = function() {
                        t.onload = null ,
                        t.onerror = null ,
                        r.isLoading && (r.isLoading = !1,
                        r._sourceLoaded(),
                        r.emit("loaded", r))
                    }
                    ,
                    t.onerror = function() {
                        t.onload = null ,
                        t.onerror = null ,
                        r.isLoading && (r.isLoading = !1,
                        r.emit("error", r))
                    }
                    ,
                    t.complete && t.src && (this.isLoading = !1,
                    t.onload = null ,
                    t.onerror = null ,
                    t.width && t.height ? (this._sourceLoaded(),
                    e && this.emit("loaded", this)) : e && this.emit("error", this))
                }
            }
            ,
            i.prototype._sourceLoaded = function() {
                this.hasLoaded = !0,
                this.update()
            }
            ,
            i.prototype.destroy = function() {
                this.imageUrl ? (delete n.BaseTextureCache[this.imageUrl],
                delete n.TextureCache[this.imageUrl],
                this.imageUrl = null ,
                navigator.isCocoonJS || (this.source.src = "")) : this.source && this.source._pixiId && delete n.BaseTextureCache[this.source._pixiId],
                this.source = null ,
                this.dispose()
            }
            ,
            i.prototype.dispose = function() {
                this.emit("dispose", this)
            }
            ,
            i.prototype.updateSourceImage = function(t) {
                this.source.src = t,
                this.loadSource(this.source)
            }
            ,
            i.fromImage = function(t, e, r) {
                var o = n.BaseTextureCache[t];
                if (void 0 === e && 0 !== t.indexOf("data:") && (e = !0),
                !o) {
                    var s = new Image;
                    e && (s.crossOrigin = ""),
                    o = new i(s,r),
                    o.imageUrl = t,
                    s.src = t,
                    n.BaseTextureCache[t] = o,
                    o.resolution = n.getResolutionOfUrl(t)
                }
                return o
            }
            ,
            i.fromCanvas = function(t, e) {
                t._pixiId || (t._pixiId = "canvas_" + n.uid());
                var r = n.BaseTextureCache[t._pixiId];
                return r || (r = new i(t,e),
                n.BaseTextureCache[t._pixiId] = r),
                r
            }
        }
        , {
            "../const": 22,
            "../utils": 77,
            eventemitter3: 10
        }],
        71: [function(t, e, r) {
            function i(t, e, r, i, c) {
                if (!t)
                    throw new Error("Unable to create RenderTexture, you must pass a renderer into the constructor.");
                e = e || 100,
                r = r || 100,
                c = c || l.RESOLUTION;
                var p = new n;
                if (p.width = e,
                p.height = r,
                p.resolution = c,
                p.scaleMode = i || l.SCALE_MODES.DEFAULT,
                p.hasLoaded = !0,
                o.call(this, p, new u.Rectangle(0,0,e,r)),
                this.width = e,
                this.height = r,
                this.resolution = c,
                this.render = null ,
                this.renderer = t,
                this.renderer.type === l.RENDERER_TYPE.WEBGL) {
                    var d = this.renderer.gl;
                    this.textureBuffer = new s(d,this.width,this.height,p.scaleMode,this.resolution),
                    this.baseTexture._glTextures[d.id] = this.textureBuffer.texture,
                    this.filterManager = new a(this.renderer),
                    this.filterManager.onContextChange(),
                    this.filterManager.resize(e, r),
                    this.render = this.renderWebGL,
                    this.renderer.currentRenderer.start(),
                    this.renderer.currentRenderTarget.activate()
                } else
                    this.render = this.renderCanvas,
                    this.textureBuffer = new h(this.width * this.resolution,this.height * this.resolution),
                    this.baseTexture.source = this.textureBuffer.canvas;
                this.valid = !0,
                this._updateUvs()
            }
            var n = t("./BaseTexture")
              , o = t("./Texture")
              , s = t("../renderers/webgl/utils/RenderTarget")
              , a = t("../renderers/webgl/managers/FilterManager")
              , h = t("../renderers/canvas/utils/CanvasBuffer")
              , u = t("../math")
              , l = t("../const")
              , c = new u.Matrix;
            i.prototype = Object.create(o.prototype),
            i.prototype.constructor = i,
            e.exports = i,
            i.prototype.resize = function(t, e, r) {
                (t !== this.width || e !== this.height) && (this.valid = t > 0 && e > 0,
                this.width = this._frame.width = this.crop.width = t,
                this.height = this._frame.height = this.crop.height = e,
                r && (this.baseTexture.width = this.width,
                this.baseTexture.height = this.height),
                this.valid && (this.textureBuffer.resize(this.width, this.height),
                this.filterManager && this.filterManager.resize(this.width, this.height)))
            }
            ,
            i.prototype.clear = function() {
                this.valid && (this.renderer.type === l.RENDERER_TYPE.WEBGL && this.renderer.gl.bindFramebuffer(this.renderer.gl.FRAMEBUFFER, this.textureBuffer.frameBuffer),
                this.textureBuffer.clear())
            }
            ,
            i.prototype.renderWebGL = function(t, e, r, i) {
                if (this.valid) {
                    if (i = void 0 !== i ? i : !0,
                    this.textureBuffer.transform = e,
                    this.textureBuffer.activate(),
                    t.worldAlpha = 1,
                    i) {
                        t.worldTransform.identity(),
                        t.currentBounds = null ;
                        var n, o, s = t.children;
                        for (n = 0,
                        o = s.length; o > n; ++n)
                            s[n].updateTransform()
                    }
                    var a = this.renderer.filterManager;
                    this.renderer.filterManager = this.filterManager,
                    this.renderer.renderDisplayObject(t, this.textureBuffer, r),
                    this.renderer.filterManager = a
                }
            }
            ,
            i.prototype.renderCanvas = function(t, e, r, i) {
                if (this.valid) {
                    i = !!i;
                    var n = c;
                    n.identity(),
                    e && n.append(e);
                    var o = t.worldTransform;
                    t.worldTransform = n,
                    t.worldAlpha = 1;
                    var s, a, h = t.children;
                    for (s = 0,
                    a = h.length; a > s; ++s)
                        h[s].updateTransform();
                    r && this.textureBuffer.clear();
                    var u = this.textureBuffer.context
                      , l = this.renderer.resolution;
                    this.renderer.resolution = this.resolution,
                    this.renderer.renderDisplayObject(t, u),
                    this.renderer.resolution = l,
                    t.worldTransform === n && (t.worldTransform = o)
                }
            }
            ,
            i.prototype.destroy = function() {
                o.prototype.destroy.call(this, !0),
                this.textureBuffer.destroy(),
                this.filterManager && this.filterManager.destroy(),
                this.renderer = null 
            }
            ,
            i.prototype.getImage = function() {
                var t = new Image;
                return t.src = this.getBase64(),
                t
            }
            ,
            i.prototype.getBase64 = function() {
                return this.getCanvas().toDataURL()
            }
            ,
            i.prototype.getCanvas = function() {
                if (this.renderer.type === l.RENDERER_TYPE.WEBGL) {
                    var t = this.renderer.gl
                      , e = this.textureBuffer.size.width
                      , r = this.textureBuffer.size.height
                      , i = new Uint8Array(4 * e * r);
                    t.bindFramebuffer(t.FRAMEBUFFER, this.textureBuffer.frameBuffer),
                    t.readPixels(0, 0, e, r, t.RGBA, t.UNSIGNED_BYTE, i),
                    t.bindFramebuffer(t.FRAMEBUFFER, null );
                    var n = new h(e,r)
                      , o = n.context.getImageData(0, 0, e, r);
                    return o.data.set(i),
                    n.context.putImageData(o, 0, 0),
                    n.canvas
                }
                return this.textureBuffer.canvas
            }
            ,
            i.prototype.getPixels = function() {
                var t, e;
                if (this.renderer.type === l.RENDERER_TYPE.WEBGL) {
                    var r = this.renderer.gl;
                    t = this.textureBuffer.size.width,
                    e = this.textureBuffer.size.height;
                    var i = new Uint8Array(4 * t * e);
                    return r.bindFramebuffer(r.FRAMEBUFFER, this.textureBuffer.frameBuffer),
                    r.readPixels(0, 0, t, e, r.RGBA, r.UNSIGNED_BYTE, i),
                    r.bindFramebuffer(r.FRAMEBUFFER, null ),
                    i
                }
                return t = this.textureBuffer.canvas.width,
                e = this.textureBuffer.canvas.height,
                this.textureBuffer.canvas.getContext("2d").getImageData(0, 0, t, e).data
            }
            ,
            i.prototype.getPixel = function(t, e) {
                if (this.renderer.type === l.RENDERER_TYPE.WEBGL) {
                    var r = this.renderer.gl
                      , i = new Uint8Array(4);
                    return r.bindFramebuffer(r.FRAMEBUFFER, this.textureBuffer.frameBuffer),
                    r.readPixels(t, e, 1, 1, r.RGBA, r.UNSIGNED_BYTE, i),
                    r.bindFramebuffer(r.FRAMEBUFFER, null ),
                    i
                }
                return this.textureBuffer.canvas.getContext("2d").getImageData(t, e, 1, 1).data
            }
        }
        , {
            "../const": 22,
            "../math": 33,
            "../renderers/canvas/utils/CanvasBuffer": 45,
            "../renderers/webgl/managers/FilterManager": 54,
            "../renderers/webgl/utils/RenderTarget": 65,
            "./BaseTexture": 70,
            "./Texture": 72
        }],
        72: [function(t, e, r) {
            function i(t, e, r, n, o) {
                if (a.call(this),
                this.noFrame = !1,
                e || (this.noFrame = !0,
                e = new h.Rectangle(0,0,1,1)),
                t instanceof i && (t = t.baseTexture),
                this.baseTexture = t,
                this._frame = e,
                this.trim = n,
                this.valid = !1,
                this.requiresUpdate = !1,
                this._uvs = null ,
                this.width = 0,
                this.height = 0,
                this.crop = r || e,
                this._rotate = +(o || 0),
                o === !0)
                    this._rotate = 2;
                else if (this._rotate % 2 !== 0)
                    throw "attempt to use diamond-shaped UVs. If you are sure, set rotation manually";
                t.hasLoaded ? (this.noFrame && (e = new h.Rectangle(0,0,t.width,t.height),
                t.on("update", this.onBaseTextureUpdated, this)),
                this.frame = e) : t.once("loaded", this.onBaseTextureLoaded, this)
            }
            var n = t("./BaseTexture")
              , o = t("./VideoBaseTexture")
              , s = t("./TextureUvs")
              , a = t("eventemitter3")
              , h = t("../math")
              , u = t("../utils");
            i.prototype = Object.create(a.prototype),
            i.prototype.constructor = i,
            e.exports = i,
            Object.defineProperties(i.prototype, {
                frame: {
                    get: function() {
                        return this._frame
                    },
                    set: function(t) {
                        if (this._frame = t,
                        this.noFrame = !1,
                        this.width = t.width,
                        this.height = t.height,
                        !this.trim && !this.rotate && (t.x + t.width > this.baseTexture.width || t.y + t.height > this.baseTexture.height))
                            throw new Error("Texture Error: frame does not fit inside the base Texture dimensions " + this);
                        this.valid = t && t.width && t.height && this.baseTexture.hasLoaded,
                        this.trim ? (this.width = this.trim.width,
                        this.height = this.trim.height,
                        this._frame.width = this.trim.width,
                        this._frame.height = this.trim.height) : this.crop = t,
                        this.valid && this._updateUvs()
                    }
                },
                rotate: {
                    get: function() {
                        return this._rotate
                    },
                    set: function(t) {
                        this._rotate = t,
                        this.valid && this._updateUvs()
                    }
                }
            }),
            i.prototype.update = function() {
                this.baseTexture.update()
            }
            ,
            i.prototype.onBaseTextureLoaded = function(t) {
                this.noFrame ? this.frame = new h.Rectangle(0,0,t.width,t.height) : this.frame = this._frame,
                this.emit("update", this)
            }
            ,
            i.prototype.onBaseTextureUpdated = function(t) {
                this._frame.width = t.width,
                this._frame.height = t.height,
                this.emit("update", this)
            }
            ,
            i.prototype.destroy = function(t) {
                this.baseTexture && (t && this.baseTexture.destroy(),
                this.baseTexture.off("update", this.onBaseTextureUpdated, this),
                this.baseTexture.off("loaded", this.onBaseTextureLoaded, this),
                this.baseTexture = null ),
                this._frame = null ,
                this._uvs = null ,
                this.trim = null ,
                this.crop = null ,
                this.valid = !1,
                this.off("dispose", this.dispose, this),
                this.off("update", this.update, this)
            }
            ,
            i.prototype.clone = function() {
                return new i(this.baseTexture,this.frame,this.crop,this.trim,this.rotate)
            }
            ,
            i.prototype._updateUvs = function() {
                this._uvs || (this._uvs = new s),
                this._uvs.set(this.crop, this.baseTexture, this.rotate)
            }
            ,
            i.fromImage = function(t, e, r) {
                var o = u.TextureCache[t];
                return o || (o = new i(n.fromImage(t, e, r)),
                u.TextureCache[t] = o),
                o
            }
            ,
            i.fromFrame = function(t) {
                var e = u.TextureCache[t];
                if (!e)
                    throw new Error('The frameId "' + t + '" does not exist in the texture cache');
                return e
            }
            ,
            i.fromCanvas = function(t, e) {
                return new i(n.fromCanvas(t, e))
            }
            ,
            i.fromVideo = function(t, e) {
                return "string" == typeof t ? i.fromVideoUrl(t, e) : new i(o.fromVideo(t, e))
            }
            ,
            i.fromVideoUrl = function(t, e) {
                return new i(o.fromUrl(t, e))
            }
            ,
            i.addTextureToCache = function(t, e) {
                u.TextureCache[e] = t
            }
            ,
            i.removeTextureFromCache = function(t) {
                var e = u.TextureCache[t];
                return delete u.TextureCache[t],
                delete u.BaseTextureCache[t],
                e
            }
            ,
            i.EMPTY = new i(new n)
        }
        , {
            "../math": 33,
            "../utils": 77,
            "./BaseTexture": 70,
            "./TextureUvs": 73,
            "./VideoBaseTexture": 74,
            eventemitter3: 10
        }],
        73: [function(t, e, r) {
            function i() {
                this.x0 = 0,
                this.y0 = 0,
                this.x1 = 1,
                this.y1 = 0,
                this.x2 = 1,
                this.y2 = 1,
                this.x3 = 0,
                this.y3 = 1
            }
            e.exports = i;
            var n = t("../math/GroupD8");
            i.prototype.set = function(t, e, r) {
                var i = e.width
                  , o = e.height;
                if (r) {
                    var s = n.isSwapWidthHeight(r)
                      , a = (s ? t.height : t.width) / 2 / i
                      , h = (s ? t.width : t.height) / 2 / o
                      , u = t.x / i + a
                      , l = t.y / o + h;
                    r = n.add(r, n.NW),
                    this.x0 = u + a * n.uX(r),
                    this.y0 = l + h * n.uY(r),
                    r = n.add(r, 2),
                    this.x1 = u + a * n.uX(r),
                    this.y1 = l + h * n.uY(r),
                    r = n.add(r, 2),
                    this.x2 = u + a * n.uX(r),
                    this.y2 = l + h * n.uY(r),
                    r = n.add(r, 2),
                    this.x3 = u + a * n.uX(r),
                    this.y3 = l + h * n.uY(r)
                } else
                    this.x0 = t.x / i,
                    this.y0 = t.y / o,
                    this.x1 = (t.x + t.width) / i,
                    this.y1 = t.y / o,
                    this.x2 = (t.x + t.width) / i,
                    this.y2 = (t.y + t.height) / o,
                    this.x3 = t.x / i,
                    this.y3 = (t.y + t.height) / o
            }
        }
        , {
            "../math/GroupD8": 30
        }],
        74: [function(t, e, r) {
            function i(t, e) {
                if (!t)
                    throw new Error("No video source element specified.");
                (t.readyState === t.HAVE_ENOUGH_DATA || t.readyState === t.HAVE_FUTURE_DATA) && t.width && t.height && (t.complete = !0),
                o.call(this, t, e),
                this.autoUpdate = !1,
                this._onUpdate = this._onUpdate.bind(this),
                this._onCanPlay = this._onCanPlay.bind(this),
                t.complete || (t.addEventListener("canplay", this._onCanPlay),
                t.addEventListener("canplaythrough", this._onCanPlay),
                t.addEventListener("play", this._onPlayStart.bind(this)),
                t.addEventListener("pause", this._onPlayStop.bind(this))),
                this.__loaded = !1
            }
            function n(t, e) {
                e || (e = "video/" + t.substr(t.lastIndexOf(".") + 1));
                var r = document.createElement("source");
                return r.src = t,
                r.type = e,
                r
            }
            var o = t("./BaseTexture")
              , s = t("../utils");
            i.prototype = Object.create(o.prototype),
            i.prototype.constructor = i,
            e.exports = i,
            i.prototype._onUpdate = function() {
                this.autoUpdate && (window.requestAnimationFrame(this._onUpdate),
                this.update())
            }
            ,
            i.prototype._onPlayStart = function() {
                this.autoUpdate || (window.requestAnimationFrame(this._onUpdate),
                this.autoUpdate = !0)
            }
            ,
            i.prototype._onPlayStop = function() {
                this.autoUpdate = !1
            }
            ,
            i.prototype._onCanPlay = function() {
                this.hasLoaded = !0,
                this.source && (this.source.removeEventListener("canplay", this._onCanPlay),
                this.source.removeEventListener("canplaythrough", this._onCanPlay),
                this.width = this.source.videoWidth,
                this.height = this.source.videoHeight,
                this.source.play(),
                this.__loaded || (this.__loaded = !0,
                this.emit("loaded", this)))
            }
            ,
            i.prototype.destroy = function() {
                this.source && this.source._pixiId && (delete s.BaseTextureCache[this.source._pixiId],
                delete this.source._pixiId),
                o.prototype.destroy.call(this)
            }
            ,
            i.fromVideo = function(t, e) {
                t._pixiId || (t._pixiId = "video_" + s.uid());
                var r = s.BaseTextureCache[t._pixiId];
                return r || (r = new i(t,e),
                s.BaseTextureCache[t._pixiId] = r),
                r
            }
            ,
            i.fromUrl = function(t, e) {
                var r = document.createElement("video");
                if (Array.isArray(t))
                    for (var o = 0; o < t.length; ++o)
                        r.appendChild(n(t[o].src || t[o], t[o].mime));
                else
                    r.appendChild(n(t.src || t, t.mime));
                return r.load(),
                r.play(),
                i.fromVideo(r, e)
            }
            ,
            i.fromUrls = i.fromUrl
        }
        , {
            "../utils": 77,
            "./BaseTexture": 70
        }],
        75: [function(t, e, r) {
            function i() {
                var t = this;
                this._tick = function(e) {
                    t._requestId = null ,
                    t.started && (t.update(e),
                    t.started && null  === t._requestId && t._emitter.listeners(s, !0) && (t._requestId = requestAnimationFrame(t._tick)))
                }
                ,
                this._emitter = new o,
                this._requestId = null ,
                this._maxElapsedMS = 100,
                this.autoStart = !1,
                this.deltaTime = 1,
                this.elapsedMS = 1 / n.TARGET_FPMS,
                this.lastTime = 0,
                this.speed = 1,
                this.started = !1
            }
            var n = t("../const")
              , o = t("eventemitter3")
              , s = "tick";
            Object.defineProperties(i.prototype, {
                FPS: {
                    get: function() {
                        return 1e3 / this.elapsedMS
                    }
                },
                minFPS: {
                    get: function() {
                        return 1e3 / this._maxElapsedMS
                    },
                    set: function(t) {
                        var e = Math.min(Math.max(0, t) / 1e3, n.TARGET_FPMS);
                        this._maxElapsedMS = 1 / e
                    }
                }
            }),
            i.prototype._requestIfNeeded = function() {
                null  === this._requestId && this._emitter.listeners(s, !0) && (this.lastTime = performance.now(),
                this._requestId = requestAnimationFrame(this._tick))
            }
            ,
            i.prototype._cancelIfNeeded = function() {
                null  !== this._requestId && (cancelAnimationFrame(this._requestId),
                this._requestId = null )
            }
            ,
            i.prototype._startIfPossible = function() {
                this.started ? this._requestIfNeeded() : this.autoStart && this.start()
            }
            ,
            i.prototype.add = function(t, e) {
                return this._emitter.on(s, t, e),
                this._startIfPossible(),
                this
            }
            ,
            i.prototype.addOnce = function(t, e) {
                return this._emitter.once(s, t, e),
                this._startIfPossible(),
                this
            }
            ,
            i.prototype.remove = function(t, e) {
                return this._emitter.off(s, t, e),
                this._emitter.listeners(s, !0) || this._cancelIfNeeded(),
                this
            }
            ,
            i.prototype.start = function() {
                this.started || (this.started = !0,
                this._requestIfNeeded())
            }
            ,
            i.prototype.stop = function() {
                this.started && (this.started = !1,
                this._cancelIfNeeded())
            }
            ,
            i.prototype.update = function(t) {
                var e;
                t = t || performance.now(),
                e = this.elapsedMS = t - this.lastTime,
                e > this._maxElapsedMS && (e = this._maxElapsedMS),
                this.deltaTime = e * n.TARGET_FPMS * this.speed,
                this._emitter.emit(s, this.deltaTime),
                this.lastTime = t
            }
            ,
            e.exports = i
        }
        , {
            "../const": 22,
            eventemitter3: 10
        }],
        76: [function(t, e, r) {
            var i = t("./Ticker")
              , n = new i;
            n.autoStart = !0,
            e.exports = {
                shared: n,
                Ticker: i
            }
        }
        , {
            "./Ticker": 75
        }],
        77: [function(t, e, r) {
            var i = t("../const")
              , n = e.exports = {
                _uid: 0,
                _saidHello: !1,
                EventEmitter: t("eventemitter3"),
                pluginTarget: t("./pluginTarget"),
                async: t("async"),
                uid: function() {
                    return ++n._uid
                },
                hex2rgb: function(t, e) {
                    return e = e || [],
                    e[0] = (t >> 16 & 255) / 255,
                    e[1] = (t >> 8 & 255) / 255,
                    e[2] = (255 & t) / 255,
                    e
                },
                hex2string: function(t) {
                    return t = t.toString(16),
                    t = "000000".substr(0, 6 - t.length) + t,
                    "#" + t
                },
                rgb2hex: function(t) {
                    return (255 * t[0] << 16) + (255 * t[1] << 8) + 255 * t[2]
                },
                canUseNewCanvasBlendModes: function() {
                    if ("undefined" == typeof document)
                        return !1;
                    var t = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAABAQMAAADD8p2OAAAAA1BMVEX/"
                      , e = "AAAACklEQVQI12NgAAAAAgAB4iG8MwAAAABJRU5ErkJggg=="
                      , r = new Image;
                    r.src = t + "AP804Oa6" + e;
                    var i = new Image;
                    i.src = t + "/wCKxvRF" + e;
                    var n = document.createElement("canvas");
                    n.width = 6,
                    n.height = 1;
                    var o = n.getContext("2d");
                    o.globalCompositeOperation = "multiply",
                    o.drawImage(r, 0, 0),
                    o.drawImage(i, 2, 0);
                    var s = o.getImageData(2, 0, 1, 1).data;
                    return 255 === s[0] && 0 === s[1] && 0 === s[2]
                },
                getNextPowerOfTwo: function(t) {
                    if (t > 0 && 0 === (t & t - 1))
                        return t;
                    for (var e = 1; t > e; )
                        e <<= 1;
                    return e
                },
                isPowerOfTwo: function(t, e) {
                    return t > 0 && 0 === (t & t - 1) && e > 0 && 0 === (e & e - 1)
                },
                getResolutionOfUrl: function(t) {
                    var e = i.RETINA_PREFIX.exec(t);
                    return e ? parseFloat(e[1]) : 1
                },
                sayHello: function(t) {
                    if (!n._saidHello) {
                        if (navigator.userAgent.toLowerCase().indexOf("chrome") > -1) {
                            var e = ["\n %c %c %c Pixi.js " + i.VERSION + " -  " + t + "   %c  %c  http://www.pixijs.com/  %c %c %c%c \n\n", "background: #ff66a5; padding:5px 0;", "background: #ff66a5; padding:5px 0;", "color: #ff66a5; background: #030307; padding:5px 0;", "background: #ff66a5; padding:5px 0;", "background: #ffc3dc; padding:5px 0;", "background: #ff66a5; padding:5px 0;", "color: #ff2424; background: #fff; padding:5px 0;", "color: #ff2424; background: #fff; padding:5px 0;", "color: #ff2424; background: #fff; padding:5px 0;"];
                            window.console.log.apply(console, e)
                        } else
                            window.console && window.console.log("Pixi.js " + i.VERSION + " - " + t + " - http://www.pixijs.com/");
                        n._saidHello = !0
                    }
                },
                isWebGLSupported: function() {
                    var t = {
                        stencil: !0
                    };
                    try {
                        if (!window.WebGLRenderingContext)
                            return !1;
                        var e = document.createElement("canvas")
                          , r = e.getContext("webgl", t) || e.getContext("experimental-webgl", t);
                        return !(!r || !r.getContextAttributes().stencil)
                    } catch (i) {
                        return !1
                    }
                },
                sign: function(t) {
                    return t ? 0 > t ? -1 : 1 : 0
                },
                removeItems: function(t, e, r) {
                    var i = t.length;
                    if (!(e >= i || 0 === r)) {
                        r = e + r > i ? i - e : r;
                        for (var n = e, o = i - r; o > n; ++n)
                            t[n] = t[n + r];
                        t.length = o
                    }
                },
                TextureCache: {},
                BaseTextureCache: {}
            }
        }
        , {
            "../const": 22,
            "./pluginTarget": 78,
            async: 1,
            eventemitter3: 10
        }],
        78: [function(t, e, r) {
            function i(t) {
                t.__plugins = {},
                t.registerPlugin = function(e, r) {
                    t.__plugins[e] = r
                }
                ,
                t.prototype.initPlugins = function() {
                    this.plugins = this.plugins || {};
                    for (var e in t.__plugins)
                        this.plugins[e] = new t.__plugins[e](this)
                }
                ,
                t.prototype.destroyPlugins = function() {
                    for (var t in this.plugins)
                        this.plugins[t].destroy(),
                        this.plugins[t] = null ;
                    this.plugins = null 
                }
            }
            e.exports = {
                mixin: function(t) {
                    i(t)
                }
            }
        }
        , {}],
        79: [function(t, e, r) {
            var i = t("./core")
              , n = t("./mesh")
              , o = t("./extras")
              , s = t("./filters");
            i.SpriteBatch = function() {
                throw new ReferenceError("SpriteBatch does not exist any more, please use the new ParticleContainer instead.")
            }
            ,
            i.AssetLoader = function() {
                throw new ReferenceError("The loader system was overhauled in pixi v3, please see the new PIXI.loaders.Loader class.")
            }
            ,
            Object.defineProperties(i, {
                Stage: {
                    get: function() {
                        return console.warn("You do not need to use a PIXI Stage any more, you can simply render any container."),
                        i.Container
                    }
                },
                DisplayObjectContainer: {
                    get: function() {
                        return console.warn("DisplayObjectContainer has been shortened to Container, please use Container from now on."),
                        i.Container
                    }
                },
                Strip: {
                    get: function() {
                        return console.warn("The Strip class has been renamed to Mesh and moved to mesh.Mesh, please use mesh.Mesh from now on."),
                        n.Mesh
                    }
                },
                Rope: {
                    get: function() {
                        return console.warn("The Rope class has been moved to mesh.Rope, please use mesh.Rope from now on."),
                        n.Rope
                    }
                },
                MovieClip: {
                    get: function() {
                        return console.warn("The MovieClip class has been moved to extras.MovieClip, please use extras.MovieClip from now on."),
                        o.MovieClip
                    }
                },
                TilingSprite: {
                    get: function() {
                        return console.warn("The TilingSprite class has been moved to extras.TilingSprite, please use extras.TilingSprite from now on."),
                        o.TilingSprite
                    }
                },
                BitmapText: {
                    get: function() {
                        return console.warn("The BitmapText class has been moved to extras.BitmapText, please use extras.BitmapText from now on."),
                        o.BitmapText
                    }
                },
                blendModes: {
                    get: function() {
                        return console.warn("The blendModes has been moved to BLEND_MODES, please use BLEND_MODES from now on."),
                        i.BLEND_MODES
                    }
                },
                scaleModes: {
                    get: function() {
                        return console.warn("The scaleModes has been moved to SCALE_MODES, please use SCALE_MODES from now on."),
                        i.SCALE_MODES
                    }
                },
                BaseTextureCache: {
                    get: function() {
                        return console.warn("The BaseTextureCache class has been moved to utils.BaseTextureCache, please use utils.BaseTextureCache from now on."),
                        i.utils.BaseTextureCache
                    }
                },
                TextureCache: {
                    get: function() {
                        return console.warn("The TextureCache class has been moved to utils.TextureCache, please use utils.TextureCache from now on."),
                        i.utils.TextureCache
                    }
                },
                math: {
                    get: function() {
                        return console.warn("The math namespace is deprecated, please access members already accessible on PIXI."),
                        i
                    }
                }
            }),
            i.Sprite.prototype.setTexture = function(t) {
                this.texture = t,
                console.warn("setTexture is now deprecated, please use the texture property, e.g : sprite.texture = texture;")
            }
            ,
            o.BitmapText.prototype.setText = function(t) {
                this.text = t,
                console.warn("setText is now deprecated, please use the text property, e.g : myBitmapText.text = 'my text';")
            }
            ,
            i.Text.prototype.setText = function(t) {
                this.text = t,
                console.warn("setText is now deprecated, please use the text property, e.g : myText.text = 'my text';")
            }
            ,
            i.Text.prototype.setStyle = function(t) {
                this.style = t,
                console.warn("setStyle is now deprecated, please use the style property, e.g : myText.style = style;")
            }
            ,
            i.Texture.prototype.setFrame = function(t) {
                this.frame = t,
                console.warn("setFrame is now deprecated, please use the frame property, e.g : myTexture.frame = frame;")
            }
            ,
            Object.defineProperties(s, {
                AbstractFilter: {
                    get: function() {
                        return console.warn("filters.AbstractFilter is an undocumented alias, please use AbstractFilter from now on."),
                        i.AbstractFilter
                    }
                },
                FXAAFilter: {
                    get: function() {
                        return console.warn("filters.FXAAFilter is an undocumented alias, please use FXAAFilter from now on."),
                        i.FXAAFilter
                    }
                },
                SpriteMaskFilter: {
                    get: function() {
                        return console.warn("filters.SpriteMaskFilter is an undocumented alias, please use SpriteMaskFilter from now on."),
                        i.SpriteMaskFilter
                    }
                }
            }),
            i.utils.uuid = function() {
                return console.warn("utils.uuid() is deprecated, please use utils.uid() from now on."),
                i.utils.uid()
            }
        }
        , {
            "./core": 29,
            "./extras": 86,
            "./filters": 103,
            "./mesh": 128
        }],
        80: [function(t, e, r) {
            function i(t, e) {
                n.Container.call(this),
                e = e || {},
                this.textWidth = 0,
                this.textHeight = 0,
                this._glyphs = [],
                this._font = {
                    tint: void 0 !== e.tint ? e.tint : 16777215,
                    align: e.align || "left",
                    name: null ,
                    size: 0
                },
                this.font = e.font,
                this._text = t,
                this.maxWidth = 0,
                this.maxLineHeight = 0,
                this.dirty = !1,
                this.updateText()
            }
            var n = t("../core");
            i.prototype = Object.create(n.Container.prototype),
            i.prototype.constructor = i,
            e.exports = i,
            Object.defineProperties(i.prototype, {
                tint: {
                    get: function() {
                        return this._font.tint
                    },
                    set: function(t) {
                        this._font.tint = "number" == typeof t && t >= 0 ? t : 16777215,
                        this.dirty = !0
                    }
                },
                align: {
                    get: function() {
                        return this._font.align
                    },
                    set: function(t) {
                        this._font.align = t || "left",
                        this.dirty = !0
                    }
                },
                font: {
                    get: function() {
                        return this._font
                    },
                    set: function(t) {
                        t && ("string" == typeof t ? (t = t.split(" "),
                        this._font.name = 1 === t.length ? t[0] : t.slice(1).join(" "),
                        this._font.size = t.length >= 2 ? parseInt(t[0], 10) : i.fonts[this._font.name].size) : (this._font.name = t.name,
                        this._font.size = "number" == typeof t.size ? t.size : parseInt(t.size, 10)),
                        this.dirty = !0)
                    }
                },
                text: {
                    get: function() {
                        return this._text
                    },
                    set: function(t) {
                        t = t.toString() || " ",
                        this._text !== t && (this._text = t,
                        this.dirty = !0)
                    }
                }
            }),
            i.prototype.updateText = function() {
                for (var t = i.fonts[this._font.name], e = new n.Point, r = null , o = [], s = 0, a = 0, h = [], u = 0, l = this._font.size / t.size, c = -1, p = 0, d = 0; d < this.text.length; d++) {
                    var f = this.text.charCodeAt(d);
                    if (c = /(\s)/.test(this.text.charAt(d)) ? d : c,
                    /(?:\r\n|\r|\n)/.test(this.text.charAt(d)))
                        h.push(s),
                        a = Math.max(a, s),
                        u++,
                        e.x = 0,
                        e.y += t.lineHeight,
                        r = null ;
                    else if (-1 !== c && this.maxWidth > 0 && e.x * l > this.maxWidth)
                        n.utils.removeItems(o, c, d - c),
                        d = c,
                        c = -1,
                        h.push(s),
                        a = Math.max(a, s),
                        u++,
                        e.x = 0,
                        e.y += t.lineHeight,
                        r = null ;
                    else {
                        var v = t.chars[f];
                        v && (r && v.kerning[r] && (e.x += v.kerning[r]),
                        o.push({
                            texture: v.texture,
                            line: u,
                            charCode: f,
                            position: new n.Point(e.x + v.xOffset,e.y + v.yOffset)
                        }),
                        s = e.x + (v.texture.width + v.xOffset),
                        e.x += v.xAdvance,
                        p = Math.max(p, v.yOffset + v.texture.height),
                        r = f)
                    }
                }
                h.push(s),
                a = Math.max(a, s);
                var g = [];
                for (d = 0; u >= d; d++) {
                    var m = 0;
                    "right" === this._font.align ? m = a - h[d] : "center" === this._font.align && (m = (a - h[d]) / 2),
                    g.push(m)
                }
                var y = o.length
                  , x = this.tint;
                for (d = 0; y > d; d++) {
                    var b = this._glyphs[d];
                    b ? b.texture = o[d].texture : (b = new n.Sprite(o[d].texture),
                    this._glyphs.push(b)),
                    b.position.x = (o[d].position.x + g[o[d].line]) * l,
                    b.position.y = o[d].position.y * l,
                    b.scale.x = b.scale.y = l,
                    b.tint = x,
                    b.parent || this.addChild(b)
                }
                for (d = y; d < this._glyphs.length; ++d)
                    this.removeChild(this._glyphs[d]);
                this.textWidth = a * l,
                this.textHeight = (e.y + t.lineHeight) * l,
                this.maxLineHeight = p * l
            }
            ,
            i.prototype.updateTransform = function() {
                this.validate(),
                this.containerUpdateTransform()
            }
            ,
            i.prototype.getLocalBounds = function() {
                return this.validate(),
                n.Container.prototype.getLocalBounds.call(this)
            }
            ,
            i.prototype.validate = function() {
                this.dirty && (this.updateText(),
                this.dirty = !1)
            }
            ,
            i.fonts = {}
        }
        , {
            "../core": 29
        }],
        81: [function(t, e, r) {
            function i(t) {
                n.Sprite.call(this, t[0] instanceof n.Texture ? t[0] : t[0].texture),
                this._textures = null ,
                this._durations = null ,
                this.textures = t,
                this.animationSpeed = 1,
                this.loop = !0,
                this.onComplete = null ,
                this._currentTime = 0,
                this.playing = !1
            }
            var n = t("../core");
            i.prototype = Object.create(n.Sprite.prototype),
            i.prototype.constructor = i,
            e.exports = i,
            Object.defineProperties(i.prototype, {
                totalFrames: {
                    get: function() {
                        return this._textures.length
                    }
                },
                textures: {
                    get: function() {
                        return this._textures
                    },
                    set: function(t) {
                        if (t[0] instanceof n.Texture)
                            this._textures = t,
                            this._durations = null ;
                        else {
                            this._textures = [],
                            this._durations = [];
                            for (var e = 0; e < t.length; e++)
                                this._textures.push(t[e].texture),
                                this._durations.push(t[e].time)
                        }
                    }
                },
                currentFrame: {
                    get: function() {
                        var t = Math.floor(this._currentTime) % this._textures.length;
                        return 0 > t && (t += this._textures.length),
                        t
                    }
                }
            }),
            i.prototype.stop = function() {
                this.playing && (this.playing = !1,
                n.ticker.shared.remove(this.update, this))
            }
            ,
            i.prototype.play = function() {
                this.playing || (this.playing = !0,
                n.ticker.shared.add(this.update, this))
            }
            ,
            i.prototype.gotoAndStop = function(t) {
                this.stop(),
                this._currentTime = t,
                this._texture = this._textures[this.currentFrame]
            }
            ,
            i.prototype.gotoAndPlay = function(t) {
                this._currentTime = t,
                this.play()
            }
            ,
            i.prototype.update = function(t) {
                var e = this.animationSpeed * t;
                if (null  !== this._durations) {
                    var r = this._currentTime % 1 * this._durations[this.currentFrame];
                    for (r += e / 60 * 1e3; 0 > r; )
                        this._currentTime--,
                        r += this._durations[this.currentFrame];
                    var i = Math.sign(this.animationSpeed * t);
                    for (this._currentTime = Math.floor(this._currentTime); r >= this._durations[this.currentFrame]; )
                        r -= this._durations[this.currentFrame] * i,
                        this._currentTime += i;
                    this._currentTime += r / this._durations[this.currentFrame]
                } else
                    this._currentTime += e;
                this._currentTime < 0 && !this.loop ? (this.gotoAndStop(0),
                this.onComplete && this.onComplete()) : this._currentTime >= this._textures.length && !this.loop ? (this.gotoAndStop(this._textures.length - 1),
                this.onComplete && this.onComplete()) : this._texture = this._textures[this.currentFrame]
            }
            ,
            i.prototype.destroy = function() {
                this.stop(),
                n.Sprite.prototype.destroy.call(this)
            }
            ,
            i.fromFrames = function(t) {
                for (var e = [], r = 0; r < t.length; ++r)
                    e.push(new n.Texture.fromFrame(t[r]));
                return new i(e)
            }
            ,
            i.fromImages = function(t) {
                for (var e = [], r = 0; r < t.length; ++r)
                    e.push(new n.Texture.fromImage(t[r]));
                return new i(e)
            }
        }
        , {
            "../core": 29
        }],
        82: [function(t, e, r) {
            function i(t, e, r) {
                n.Sprite.call(this, t),
                this.tileScale = new n.Point(1,1),
                this.tilePosition = new n.Point(0,0),
                this._width = e || 100,
                this._height = r || 100,
                this._uvs = new n.TextureUvs,
                this._canvasPattern = null ,
                this.shader = new n.AbstractFilter(["precision lowp float;", "attribute vec2 aVertexPosition;", "attribute vec2 aTextureCoord;", "attribute vec4 aColor;", "uniform mat3 projectionMatrix;", "uniform vec4 uFrame;", "uniform vec4 uTransform;", "varying vec2 vTextureCoord;", "varying vec4 vColor;", "void main(void){", "   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);", "   vec2 coord = aTextureCoord;", "   coord -= uTransform.xy;", "   coord /= uTransform.zw;", "   vTextureCoord = coord;", "   vColor = vec4(aColor.rgb * aColor.a, aColor.a);", "}"].join("\n"),["precision lowp float;", "varying vec2 vTextureCoord;", "varying vec4 vColor;", "uniform sampler2D uSampler;", "uniform vec4 uFrame;", "uniform vec2 uPixelSize;", "void main(void){", "   vec2 coord = mod(vTextureCoord, uFrame.zw);", "   coord = clamp(coord, uPixelSize, uFrame.zw - uPixelSize);", "   coord += uFrame.xy;", "   gl_FragColor =  texture2D(uSampler, coord) * vColor ;", "}"].join("\n"),{
                    uFrame: {
                        type: "4fv",
                        value: [0, 0, 1, 1]
                    },
                    uTransform: {
                        type: "4fv",
                        value: [0, 0, 1, 1]
                    },
                    uPixelSize: {
                        type: "2fv",
                        value: [1, 1]
                    }
                })
            }
            var n = t("../core")
              , o = new n.Point
              , s = t("../core/renderers/canvas/utils/CanvasTinter");
            i.prototype = Object.create(n.Sprite.prototype),
            i.prototype.constructor = i,
            e.exports = i,
            Object.defineProperties(i.prototype, {
                width: {
                    get: function() {
                        return this._width
                    },
                    set: function(t) {
                        this._width = t
                    }
                },
                height: {
                    get: function() {
                        return this._height
                    },
                    set: function(t) {
                        this._height = t
                    }
                }
            }),
            i.prototype._onTextureUpdate = function() {}
            ,
            i.prototype._renderWebGL = function(t) {
                var e = this._texture;
                if (e && e._uvs) {
                    var r = e._uvs
                      , i = e._frame.width
                      , n = e._frame.height
                      , o = e.baseTexture.width
                      , s = e.baseTexture.height;
                    e._uvs = this._uvs,
                    e._frame.width = this.width,
                    e._frame.height = this.height,
                    this.shader.uniforms.uPixelSize.value[0] = 1 / o,
                    this.shader.uniforms.uPixelSize.value[1] = 1 / s,
                    this.shader.uniforms.uFrame.value[0] = r.x0,
                    this.shader.uniforms.uFrame.value[1] = r.y0,
                    this.shader.uniforms.uFrame.value[2] = r.x1 - r.x0,
                    this.shader.uniforms.uFrame.value[3] = r.y2 - r.y0,
                    this.shader.uniforms.uTransform.value[0] = this.tilePosition.x % (i * this.tileScale.x) / this._width,
                    this.shader.uniforms.uTransform.value[1] = this.tilePosition.y % (n * this.tileScale.y) / this._height,
                    this.shader.uniforms.uTransform.value[2] = o / this._width * this.tileScale.x,
                    this.shader.uniforms.uTransform.value[3] = s / this._height * this.tileScale.y,
                    t.setObjectRenderer(t.plugins.sprite),
                    t.plugins.sprite.render(this),
                    e._uvs = r,
                    e._frame.width = i,
                    e._frame.height = n
                }
            }
            ,
            i.prototype._renderCanvas = function(t) {
                var e = this._texture;
                if (e.baseTexture.hasLoaded) {
                    var r = t.context
                      , i = this.worldTransform
                      , o = t.resolution
                      , a = e.baseTexture
                      , h = this.tilePosition.x / this.tileScale.x % e._frame.width
                      , u = this.tilePosition.y / this.tileScale.y % e._frame.height;
                    if (!this._canvasPattern) {
                        var l = new n.CanvasBuffer(e._frame.width,e._frame.height);
                        16777215 !== this.tint ? (this.cachedTint !== this.tint && (this.cachedTint = this.tint,
                        this.tintedTexture = s.getTintedTexture(this, this.tint)),
                        l.context.drawImage(this.tintedTexture, 0, 0)) : l.context.drawImage(a.source, -e._frame.x, -e._frame.y),
                        this._canvasPattern = l.context.createPattern(l.canvas, "repeat")
                    }
                    r.globalAlpha = this.worldAlpha,
                    r.setTransform(i.a * o, i.b * o, i.c * o, i.d * o, i.tx * o, i.ty * o),
                    r.scale(this.tileScale.x, this.tileScale.y),
                    r.translate(h + this.anchor.x * -this._width, u + this.anchor.y * -this._height);
                    var c = t.blendModes[this.blendMode];
                    c !== t.context.globalCompositeOperation && (r.globalCompositeOperation = c),
                    r.fillStyle = this._canvasPattern,
                    r.fillRect(-h, -u, this._width / this.tileScale.x, this._height / this.tileScale.y)
                }
            }
            ,
            i.prototype.getBounds = function() {
                var t, e, r, i, n = this._width, o = this._height, s = n * (1 - this.anchor.x), a = n * -this.anchor.x, h = o * (1 - this.anchor.y), u = o * -this.anchor.y, l = this.worldTransform, c = l.a, p = l.b, d = l.c, f = l.d, v = l.tx, g = l.ty, m = c * a + d * u + v, y = f * u + p * a + g, x = c * s + d * u + v, b = f * u + p * s + g, _ = c * s + d * h + v, T = f * h + p * s + g, E = c * a + d * h + v, S = f * h + p * a + g;
                t = m,
                t = t > x ? x : t,
                t = t > _ ? _ : t,
                t = t > E ? E : t,
                r = y,
                r = r > b ? b : r,
                r = r > T ? T : r,
                r = r > S ? S : r,
                e = m,
                e = x > e ? x : e,
                e = _ > e ? _ : e,
                e = E > e ? E : e,
                i = y,
                i = b > i ? b : i,
                i = T > i ? T : i,
                i = S > i ? S : i;
                var w = this._bounds;
                return w.x = t,
                w.width = e - t,
                w.y = r,
                w.height = i - r,
                this._currentBounds = w,
                w
            }
            ,
            i.prototype.containsPoint = function(t) {
                this.worldTransform.applyInverse(t, o);
                var e, r = this._width, i = this._height, n = -r * this.anchor.x;
                return o.x > n && o.x < n + r && (e = -i * this.anchor.y,
                o.y > e && o.y < e + i) ? !0 : !1
            }
            ,
            i.prototype.destroy = function() {
                n.Sprite.prototype.destroy.call(this),
                this.tileScale = null ,
                this._tileScaleOffset = null ,
                this.tilePosition = null ,
                this._uvs = null 
            }
            ,
            i.fromFrame = function(t, e, r) {
                var o = n.utils.TextureCache[t];
                if (!o)
                    throw new Error('The frameId "' + t + '" does not exist in the texture cache ' + this);
                return new i(o,e,r)
            }
            ,
            i.fromImage = function(t, e, r, o, s) {
                return new i(n.Texture.fromImage(t, o, s),e,r)
            }
        }
        , {
            "../core": 29,
            "../core/renderers/canvas/utils/CanvasTinter": 48
        }],
        83: [function(t, e, r) {
            var i = t("../core")
              , n = i.DisplayObject
              , o = new i.Matrix;
            n.prototype._cacheAsBitmap = !1,
            n.prototype._originalRenderWebGL = null ,
            n.prototype._originalRenderCanvas = null ,
            n.prototype._originalUpdateTransform = null ,
            n.prototype._originalHitTest = null ,
            n.prototype._originalDestroy = null ,
            n.prototype._cachedSprite = null ,
            Object.defineProperties(n.prototype, {
                cacheAsBitmap: {
                    get: function() {
                        return this._cacheAsBitmap
                    },
                    set: function(t) {
                        this._cacheAsBitmap !== t && (this._cacheAsBitmap = t,
                        t ? (this._originalRenderWebGL = this.renderWebGL,
                        this._originalRenderCanvas = this.renderCanvas,
                        this._originalUpdateTransform = this.updateTransform,
                        this._originalGetBounds = this.getBounds,
                        this._originalDestroy = this.destroy,
                        this._originalContainsPoint = this.containsPoint,
                        this.renderWebGL = this._renderCachedWebGL,
                        this.renderCanvas = this._renderCachedCanvas,
                        this.destroy = this._cacheAsBitmapDestroy) : (this._cachedSprite && this._destroyCachedDisplayObject(),
                        this.renderWebGL = this._originalRenderWebGL,
                        this.renderCanvas = this._originalRenderCanvas,
                        this.getBounds = this._originalGetBounds,
                        this.destroy = this._originalDestroy,
                        this.updateTransform = this._originalUpdateTransform,
                        this.containsPoint = this._originalContainsPoint))
                    }
                }
            }),
            n.prototype._renderCachedWebGL = function(t) {
                !this.visible || this.worldAlpha <= 0 || !this.renderable || (this._initCachedDisplayObject(t),
                this._cachedSprite.worldAlpha = this.worldAlpha,
                t.setObjectRenderer(t.plugins.sprite),
                t.plugins.sprite.render(this._cachedSprite))
            }
            ,
            n.prototype._initCachedDisplayObject = function(t) {
                if (!this._cachedSprite) {
                    t.currentRenderer.flush();
                    var e = this.getLocalBounds().clone();
                    if (this._filters) {
                        var r = this._filters[0].padding;
                        e.x -= r,
                        e.y -= r,
                        e.width += 2 * r,
                        e.height += 2 * r
                    }
                    var n = t.currentRenderTarget
                      , s = t.filterManager.filterStack
                      , a = new i.RenderTexture(t,0 | e.width,0 | e.height)
                      , h = o;
                    h.tx = -e.x,
                    h.ty = -e.y,
                    this.renderWebGL = this._originalRenderWebGL,
                    a.render(this, h, !0, !0),
                    t.setRenderTarget(n),
                    t.filterManager.filterStack = s,
                    this.renderWebGL = this._renderCachedWebGL,
                    this.updateTransform = this.displayObjectUpdateTransform,
                    this.getBounds = this._getCachedBounds,
                    this._cachedSprite = new i.Sprite(a),
                    this._cachedSprite.worldTransform = this.worldTransform,
                    this._cachedSprite.anchor.x = -(e.x / e.width),
                    this._cachedSprite.anchor.y = -(e.y / e.height),
                    this.updateTransform(),
                    this.containsPoint = this._cachedSprite.containsPoint.bind(this._cachedSprite)
                }
            }
            ,
            n.prototype._renderCachedCanvas = function(t) {
                !this.visible || this.worldAlpha <= 0 || !this.renderable || (this._initCachedDisplayObjectCanvas(t),
                this._cachedSprite.worldAlpha = this.worldAlpha,
                this._cachedSprite.renderCanvas(t))
            }
            ,
            n.prototype._initCachedDisplayObjectCanvas = function(t) {
                if (!this._cachedSprite) {
                    var e = this.getLocalBounds()
                      , r = t.context
                      , n = new i.RenderTexture(t,0 | e.width,0 | e.height)
                      , s = o;
                    s.tx = -e.x,
                    s.ty = -e.y,
                    this.renderCanvas = this._originalRenderCanvas,
                    n.render(this, s, !0),
                    t.context = r,
                    this.renderCanvas = this._renderCachedCanvas,
                    this.updateTransform = this.displayObjectUpdateTransform,
                    this.getBounds = this._getCachedBounds,
                    this._cachedSprite = new i.Sprite(n),
                    this._cachedSprite.worldTransform = this.worldTransform,
                    this._cachedSprite.anchor.x = -(e.x / e.width),
                    this._cachedSprite.anchor.y = -(e.y / e.height),
                    this.updateTransform(),
                    this.containsPoint = this._cachedSprite.containsPoint.bind(this._cachedSprite)
                }
            }
            ,
            n.prototype._getCachedBounds = function() {
                return this._cachedSprite._currentBounds = null ,
                this._cachedSprite.getBounds()
            }
            ,
            n.prototype._destroyCachedDisplayObject = function() {
                this._cachedSprite._texture.destroy(),
                this._cachedSprite = null 
            }
            ,
            n.prototype._cacheAsBitmapDestroy = function() {
                this.cacheAsBitmap = !1,
                this._originalDestroy()
            }
        }
        , {
            "../core": 29
        }],
        84: [function(t, e, r) {
            var i = t("../core");
            i.DisplayObject.prototype.name = null ,
            i.Container.prototype.getChildByName = function(t) {
                for (var e = 0; e < this.children.length; e++)
                    if (this.children[e].name === t)
                        return this.children[e];
                return null 
            }
        }
        , {
            "../core": 29
        }],
        85: [function(t, e, r) {
            var i = t("../core");
            i.DisplayObject.prototype.getGlobalPosition = function(t) {
                return t = t || new i.Point,
                this.parent ? (this.displayObjectUpdateTransform(),
                t.x = this.worldTransform.tx,
                t.y = this.worldTransform.ty) : (t.x = this.position.x,
                t.y = this.position.y),
                t
            }
        }
        , {
            "../core": 29
        }],
        86: [function(t, e, r) {
            t("./cacheAsBitmap"),
            t("./getChildByName"),
            t("./getGlobalPosition"),
            e.exports = {
                MovieClip: t("./MovieClip"),
                TilingSprite: t("./TilingSprite"),
                BitmapText: t("./BitmapText")
            }
        }
        , {
            "./BitmapText": 80,
            "./MovieClip": 81,
            "./TilingSprite": 82,
            "./cacheAsBitmap": 83,
            "./getChildByName": 84,
            "./getGlobalPosition": 85
        }],
        87: [function(t, e, r) {
            function i() {
                n.AbstractFilter.call(this, null , "precision mediump float;\n\nuniform vec4 dimensions;\nuniform float pixelSize;\nuniform sampler2D uSampler;\n\nfloat character(float n, vec2 p)\n{\n    p = floor(p*vec2(4.0, -4.0) + 2.5);\n    if (clamp(p.x, 0.0, 4.0) == p.x && clamp(p.y, 0.0, 4.0) == p.y)\n    {\n        if (int(mod(n/exp2(p.x + 5.0*p.y), 2.0)) == 1) return 1.0;\n    }\n    return 0.0;\n}\n\nvoid main()\n{\n    vec2 uv = gl_FragCoord.xy;\n\n    vec3 col = texture2D(uSampler, floor( uv / pixelSize ) * pixelSize / dimensions.xy).rgb;\n\n    float gray = (col.r + col.g + col.b) / 3.0;\n\n    float n =  65536.0;             // .\n    if (gray > 0.2) n = 65600.0;    // :\n    if (gray > 0.3) n = 332772.0;   // *\n    if (gray > 0.4) n = 15255086.0; // o\n    if (gray > 0.5) n = 23385164.0; // &\n    if (gray > 0.6) n = 15252014.0; // 8\n    if (gray > 0.7) n = 13199452.0; // @\n    if (gray > 0.8) n = 11512810.0; // #\n\n    vec2 p = mod( uv / ( pixelSize * 0.5 ), 2.0) - vec2(1.0);\n    col = col * character(n, p);\n\n    gl_FragColor = vec4(col, 1.0);\n}\n", {
                    dimensions: {
                        type: "4fv",
                        value: new Float32Array([0, 0, 0, 0])
                    },
                    pixelSize: {
                        type: "1f",
                        value: 8
                    }
                })
            }
            var n = t("../../core");
            i.prototype = Object.create(n.AbstractFilter.prototype),
            i.prototype.constructor = i,
            e.exports = i,
            Object.defineProperties(i.prototype, {
                size: {
                    get: function() {
                        return this.uniforms.pixelSize.value
                    },
                    set: function(t) {
                        this.uniforms.pixelSize.value = t
                    }
                }
            })
        }
        , {
            "../../core": 29
        }],
        88: [function(t, e, r) {
            function i() {
                n.AbstractFilter.call(this),
                this.blurXFilter = new o,
                this.blurYFilter = new s,
                this.defaultFilter = new n.AbstractFilter
            }
            var n = t("../../core")
              , o = t("../blur/BlurXFilter")
              , s = t("../blur/BlurYFilter");
            i.prototype = Object.create(n.AbstractFilter.prototype),
            i.prototype.constructor = i,
            e.exports = i,
            i.prototype.applyFilter = function(t, e, r) {
                var i = t.filterManager.getRenderTarget(!0);
                this.defaultFilter.applyFilter(t, e, r),
                this.blurXFilter.applyFilter(t, e, i),
                t.blendModeManager.setBlendMode(n.BLEND_MODES.SCREEN),
                this.blurYFilter.applyFilter(t, i, r),
                t.blendModeManager.setBlendMode(n.BLEND_MODES.NORMAL),
                t.filterManager.returnRenderTarget(i)
            }
            ,
            Object.defineProperties(i.prototype, {
                blur: {
                    get: function() {
                        return this.blurXFilter.blur
                    },
                    set: function(t) {
                        this.blurXFilter.blur = this.blurYFilter.blur = t
                    }
                },
                blurX: {
                    get: function() {
                        return this.blurXFilter.blur
                    },
                    set: function(t) {
                        this.blurXFilter.blur = t
                    }
                },
                blurY: {
                    get: function() {
                        return this.blurYFilter.blur
                    },
                    set: function(t) {
                        this.blurYFilter.blur = t
                    }
                }
            })
        }
        , {
            "../../core": 29,
            "../blur/BlurXFilter": 91,
            "../blur/BlurYFilter": 92
        }],
        89: [function(t, e, r) {
            function i(t, e) {
                n.AbstractFilter.call(this, "attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec4 aColor;\n\nuniform float strength;\nuniform float dirX;\nuniform float dirY;\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\nvarying vec2 vBlurTexCoords[3];\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3((aVertexPosition), 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n\n    vBlurTexCoords[0] = aTextureCoord + vec2( (0.004 * strength) * dirX, (0.004 * strength) * dirY );\n    vBlurTexCoords[1] = aTextureCoord + vec2( (0.008 * strength) * dirX, (0.008 * strength) * dirY );\n    vBlurTexCoords[2] = aTextureCoord + vec2( (0.012 * strength) * dirX, (0.012 * strength) * dirY );\n\n    vColor = vec4(aColor.rgb * aColor.a, aColor.a);\n}\n", "precision lowp float;\n\nvarying vec2 vTextureCoord;\nvarying vec2 vBlurTexCoords[3];\nvarying vec4 vColor;\n\nuniform sampler2D uSampler;\n\nvoid main(void)\n{\n    gl_FragColor = vec4(0.0);\n\n    gl_FragColor += texture2D(uSampler, vTextureCoord     ) * 0.3989422804014327;\n    gl_FragColor += texture2D(uSampler, vBlurTexCoords[ 0]) * 0.2419707245191454;\n    gl_FragColor += texture2D(uSampler, vBlurTexCoords[ 1]) * 0.05399096651318985;\n    gl_FragColor += texture2D(uSampler, vBlurTexCoords[ 2]) * 0.004431848411938341;\n}\n", {
                    strength: {
                        type: "1f",
                        value: 1
                    },
                    dirX: {
                        type: "1f",
                        value: t || 0
                    },
                    dirY: {
                        type: "1f",
                        value: e || 0
                    }
                }),
                this.defaultFilter = new n.AbstractFilter,
                this.passes = 1,
                this.dirX = t || 0,
                this.dirY = e || 0,
                this.strength = 4
            }
            var n = t("../../core");
            i.prototype = Object.create(n.AbstractFilter.prototype),
            i.prototype.constructor = i,
            e.exports = i,
            i.prototype.applyFilter = function(t, e, r, i) {
                var n = this.getShader(t);
                if (this.uniforms.strength.value = this.strength / 4 / this.passes * (e.frame.width / e.size.width),
                1 === this.passes)
                    t.filterManager.applyFilter(n, e, r, i);
                else {
                    var o = t.filterManager.getRenderTarget(!0);
                    t.filterManager.applyFilter(n, e, o, i);
                    for (var s = 0; s < this.passes - 2; s++)
                        t.filterManager.applyFilter(n, o, o, i);
                    t.filterManager.applyFilter(n, o, r, i),
                    t.filterManager.returnRenderTarget(o)
                }
            }
            ,
            Object.defineProperties(i.prototype, {
                blur: {
                    get: function() {
                        return this.strength
                    },
                    set: function(t) {
                        this.padding = .5 * t,
                        this.strength = t
                    }
                },
                dirX: {
                    get: function() {
                        return this.dirX
                    },
                    set: function(t) {
                        this.uniforms.dirX.value = t
                    }
                },
                dirY: {
                    get: function() {
                        return this.dirY
                    },
                    set: function(t) {
                        this.uniforms.dirY.value = t
                    }
                }
            })
        }
        , {
            "../../core": 29
        }],
        90: [function(t, e, r) {
            function i() {
                n.AbstractFilter.call(this),
                this.blurXFilter = new o,
                this.blurYFilter = new s
            }
            var n = t("../../core")
              , o = t("./BlurXFilter")
              , s = t("./BlurYFilter");
            i.prototype = Object.create(n.AbstractFilter.prototype),
            i.prototype.constructor = i,
            e.exports = i,
            i.prototype.applyFilter = function(t, e, r) {
                var i = t.filterManager.getRenderTarget(!0);
                this.blurXFilter.applyFilter(t, e, i),
                this.blurYFilter.applyFilter(t, i, r),
                t.filterManager.returnRenderTarget(i)
            }
            ,
            Object.defineProperties(i.prototype, {
                blur: {
                    get: function() {
                        return this.blurXFilter.blur
                    },
                    set: function(t) {
                        this.padding = .5 * Math.abs(t),
                        this.blurXFilter.blur = this.blurYFilter.blur = t
                    }
                },
                passes: {
                    get: function() {
                        return this.blurXFilter.passes
                    },
                    set: function(t) {
                        this.blurXFilter.passes = this.blurYFilter.passes = t
                    }
                },
                blurX: {
                    get: function() {
                        return this.blurXFilter.blur
                    },
                    set: function(t) {
                        this.blurXFilter.blur = t
                    }
                },
                blurY: {
                    get: function() {
                        return this.blurYFilter.blur
                    },
                    set: function(t) {
                        this.blurYFilter.blur = t
                    }
                }
            })
        }
        , {
            "../../core": 29,
            "./BlurXFilter": 91,
            "./BlurYFilter": 92
        }],
        91: [function(t, e, r) {
            function i() {
                n.AbstractFilter.call(this, "attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec4 aColor;\n\nuniform float strength;\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\nvarying vec2 vBlurTexCoords[6];\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3((aVertexPosition), 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n\n    vBlurTexCoords[ 0] = aTextureCoord + vec2(-0.012 * strength, 0.0);\n    vBlurTexCoords[ 1] = aTextureCoord + vec2(-0.008 * strength, 0.0);\n    vBlurTexCoords[ 2] = aTextureCoord + vec2(-0.004 * strength, 0.0);\n    vBlurTexCoords[ 3] = aTextureCoord + vec2( 0.004 * strength, 0.0);\n    vBlurTexCoords[ 4] = aTextureCoord + vec2( 0.008 * strength, 0.0);\n    vBlurTexCoords[ 5] = aTextureCoord + vec2( 0.012 * strength, 0.0);\n\n    vColor = vec4(aColor.rgb * aColor.a, aColor.a);\n}\n", "precision lowp float;\n\nvarying vec2 vTextureCoord;\nvarying vec2 vBlurTexCoords[6];\nvarying vec4 vColor;\n\nuniform sampler2D uSampler;\n\nvoid main(void)\n{\n    gl_FragColor = vec4(0.0);\n\n    gl_FragColor += texture2D(uSampler, vBlurTexCoords[ 0])*0.004431848411938341;\n    gl_FragColor += texture2D(uSampler, vBlurTexCoords[ 1])*0.05399096651318985;\n    gl_FragColor += texture2D(uSampler, vBlurTexCoords[ 2])*0.2419707245191454;\n    gl_FragColor += texture2D(uSampler, vTextureCoord     )*0.3989422804014327;\n    gl_FragColor += texture2D(uSampler, vBlurTexCoords[ 3])*0.2419707245191454;\n    gl_FragColor += texture2D(uSampler, vBlurTexCoords[ 4])*0.05399096651318985;\n    gl_FragColor += texture2D(uSampler, vBlurTexCoords[ 5])*0.004431848411938341;\n}\n", {
                    strength: {
                        type: "1f",
                        value: 1
                    }
                }),
                this.passes = 1,
                this.strength = 4
            }
            var n = t("../../core");
            i.prototype = Object.create(n.AbstractFilter.prototype),
            i.prototype.constructor = i,
            e.exports = i,
            i.prototype.applyFilter = function(t, e, r, i) {
                var n = this.getShader(t);
                if (this.uniforms.strength.value = this.strength / 4 / this.passes * (e.frame.width / e.size.width),
                1 === this.passes)
                    t.filterManager.applyFilter(n, e, r, i);
                else {
                    for (var o = t.filterManager.getRenderTarget(!0), s = e, a = o, h = 0; h < this.passes - 1; h++) {
                        t.filterManager.applyFilter(n, s, a, !0);
                        var u = a;
                        a = s,
                        s = u
                    }
                    t.filterManager.applyFilter(n, s, r, i),
                    t.filterManager.returnRenderTarget(o)
                }
            }
            ,
            Object.defineProperties(i.prototype, {
                blur: {
                    get: function() {
                        return this.strength
                    },
                    set: function(t) {
                        this.padding = .5 * Math.abs(t),
                        this.strength = t
                    }
                }
            })
        }
        , {
            "../../core": 29
        }],
        92: [function(t, e, r) {
            function i() {
                n.AbstractFilter.call(this, "attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec4 aColor;\n\nuniform float strength;\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\nvarying vec2 vBlurTexCoords[6];\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3((aVertexPosition), 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n\n    vBlurTexCoords[ 0] = aTextureCoord + vec2(0.0, -0.012 * strength);\n    vBlurTexCoords[ 1] = aTextureCoord + vec2(0.0, -0.008 * strength);\n    vBlurTexCoords[ 2] = aTextureCoord + vec2(0.0, -0.004 * strength);\n    vBlurTexCoords[ 3] = aTextureCoord + vec2(0.0,  0.004 * strength);\n    vBlurTexCoords[ 4] = aTextureCoord + vec2(0.0,  0.008 * strength);\n    vBlurTexCoords[ 5] = aTextureCoord + vec2(0.0,  0.012 * strength);\n\n   vColor = vec4(aColor.rgb * aColor.a, aColor.a);\n}\n", "precision lowp float;\n\nvarying vec2 vTextureCoord;\nvarying vec2 vBlurTexCoords[6];\nvarying vec4 vColor;\n\nuniform sampler2D uSampler;\n\nvoid main(void)\n{\n    gl_FragColor = vec4(0.0);\n\n    gl_FragColor += texture2D(uSampler, vBlurTexCoords[ 0])*0.004431848411938341;\n    gl_FragColor += texture2D(uSampler, vBlurTexCoords[ 1])*0.05399096651318985;\n    gl_FragColor += texture2D(uSampler, vBlurTexCoords[ 2])*0.2419707245191454;\n    gl_FragColor += texture2D(uSampler, vTextureCoord     )*0.3989422804014327;\n    gl_FragColor += texture2D(uSampler, vBlurTexCoords[ 3])*0.2419707245191454;\n    gl_FragColor += texture2D(uSampler, vBlurTexCoords[ 4])*0.05399096651318985;\n    gl_FragColor += texture2D(uSampler, vBlurTexCoords[ 5])*0.004431848411938341;\n}\n", {
                    strength: {
                        type: "1f",
                        value: 1
                    }
                }),
                this.passes = 1,
                this.strength = 4
            }
            var n = t("../../core");
            i.prototype = Object.create(n.AbstractFilter.prototype),
            i.prototype.constructor = i,
            e.exports = i,
            i.prototype.applyFilter = function(t, e, r, i) {
                var n = this.getShader(t);
                if (this.uniforms.strength.value = Math.abs(this.strength) / 4 / this.passes * (e.frame.height / e.size.height),
                1 === this.passes)
                    t.filterManager.applyFilter(n, e, r, i);
                else {
                    for (var o = t.filterManager.getRenderTarget(!0), s = e, a = o, h = 0; h < this.passes - 1; h++) {
                        t.filterManager.applyFilter(n, s, a, !0);
                        var u = a;
                        a = s,
                        s = u
                    }
                    t.filterManager.applyFilter(n, s, r, i),
                    t.filterManager.returnRenderTarget(o)
                }
            }
            ,
            Object.defineProperties(i.prototype, {
                blur: {
                    get: function() {
                        return this.strength
                    },
                    set: function(t) {
                        this.padding = .5 * Math.abs(t),
                        this.strength = t
                    }
                }
            })
        }
        , {
            "../../core": 29
        }],
        93: [function(t, e, r) {
            function i() {
                n.AbstractFilter.call(this, null , "precision mediump float;\n\nvarying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform vec2 delta;\n\nfloat random(vec3 scale, float seed)\n{\n    return fract(sin(dot(gl_FragCoord.xyz + seed, scale)) * 43758.5453 + seed);\n}\n\nvoid main(void)\n{\n    vec4 color = vec4(0.0);\n    float total = 0.0;\n\n    float offset = random(vec3(12.9898, 78.233, 151.7182), 0.0);\n\n    for (float t = -30.0; t <= 30.0; t++)\n    {\n        float percent = (t + offset - 0.5) / 30.0;\n        float weight = 1.0 - abs(percent);\n        vec4 sample = texture2D(uSampler, vTextureCoord + delta * percent);\n        sample.rgb *= sample.a;\n        color += sample * weight;\n        total += weight;\n    }\n\n    gl_FragColor = color / total;\n    gl_FragColor.rgb /= gl_FragColor.a + 0.00001;\n}\n", {
                    delta: {
                        type: "v2",
                        value: {
                            x: .1,
                            y: 0
                        }
                    }
                })
            }
            var n = t("../../core");
            i.prototype = Object.create(n.AbstractFilter.prototype),
            i.prototype.constructor = i,
            e.exports = i
        }
        , {
            "../../core": 29
        }],
        94: [function(t, e, r) {
            function i() {
                n.AbstractFilter.call(this, null , "precision mediump float;\n\nvarying vec2 vTextureCoord;\nuniform sampler2D uSampler;\nuniform float m[25];\n\nvoid main(void)\n{\n\n    vec4 c = texture2D(uSampler, vTextureCoord);\n\n    gl_FragColor.r = (m[0] * c.r);\n        gl_FragColor.r += (m[1] * c.g);\n        gl_FragColor.r += (m[2] * c.b);\n        gl_FragColor.r += (m[3] * c.a);\n        gl_FragColor.r += m[4];\n\n    gl_FragColor.g = (m[5] * c.r);\n        gl_FragColor.g += (m[6] * c.g);\n        gl_FragColor.g += (m[7] * c.b);\n        gl_FragColor.g += (m[8] * c.a);\n        gl_FragColor.g += m[9];\n\n     gl_FragColor.b = (m[10] * c.r);\n        gl_FragColor.b += (m[11] * c.g);\n        gl_FragColor.b += (m[12] * c.b);\n        gl_FragColor.b += (m[13] * c.a);\n        gl_FragColor.b += m[14];\n\n     gl_FragColor.a = (m[15] * c.r);\n        gl_FragColor.a += (m[16] * c.g);\n        gl_FragColor.a += (m[17] * c.b);\n        gl_FragColor.a += (m[18] * c.a);\n        gl_FragColor.a += m[19];\n\n}\n", {
                    m: {
                        type: "1fv",
                        value: [1, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 1, 0]
                    }
                })
            }
            var n = t("../../core");
            i.prototype = Object.create(n.AbstractFilter.prototype),
            i.prototype.constructor = i,
            e.exports = i,
            i.prototype._loadMatrix = function(t, e) {
                e = !!e;
                var r = t;
                e && (this._multiply(r, this.uniforms.m.value, t),
                r = this._colorMatrix(r)),
                this.uniforms.m.value = r
            }
            ,
            i.prototype._multiply = function(t, e, r) {
                return t[0] = e[0] * r[0] + e[1] * r[5] + e[2] * r[10] + e[3] * r[15],
                t[1] = e[0] * r[1] + e[1] * r[6] + e[2] * r[11] + e[3] * r[16],
                t[2] = e[0] * r[2] + e[1] * r[7] + e[2] * r[12] + e[3] * r[17],
                t[3] = e[0] * r[3] + e[1] * r[8] + e[2] * r[13] + e[3] * r[18],
                t[4] = e[0] * r[4] + e[1] * r[9] + e[2] * r[14] + e[3] * r[19],
                t[5] = e[5] * r[0] + e[6] * r[5] + e[7] * r[10] + e[8] * r[15],
                t[6] = e[5] * r[1] + e[6] * r[6] + e[7] * r[11] + e[8] * r[16],
                t[7] = e[5] * r[2] + e[6] * r[7] + e[7] * r[12] + e[8] * r[17],
                t[8] = e[5] * r[3] + e[6] * r[8] + e[7] * r[13] + e[8] * r[18],
                t[9] = e[5] * r[4] + e[6] * r[9] + e[7] * r[14] + e[8] * r[19],
                t[10] = e[10] * r[0] + e[11] * r[5] + e[12] * r[10] + e[13] * r[15],
                t[11] = e[10] * r[1] + e[11] * r[6] + e[12] * r[11] + e[13] * r[16],
                t[12] = e[10] * r[2] + e[11] * r[7] + e[12] * r[12] + e[13] * r[17],
                t[13] = e[10] * r[3] + e[11] * r[8] + e[12] * r[13] + e[13] * r[18],
                t[14] = e[10] * r[4] + e[11] * r[9] + e[12] * r[14] + e[13] * r[19],
                t[15] = e[15] * r[0] + e[16] * r[5] + e[17] * r[10] + e[18] * r[15],
                t[16] = e[15] * r[1] + e[16] * r[6] + e[17] * r[11] + e[18] * r[16],
                t[17] = e[15] * r[2] + e[16] * r[7] + e[17] * r[12] + e[18] * r[17],
                t[18] = e[15] * r[3] + e[16] * r[8] + e[17] * r[13] + e[18] * r[18],
                t[19] = e[15] * r[4] + e[16] * r[9] + e[17] * r[14] + e[18] * r[19],
                t
            }
            ,
            i.prototype._colorMatrix = function(t) {
                var e = new Float32Array(t);
                return e[4] /= 255,
                e[9] /= 255,
                e[14] /= 255,
                e[19] /= 255,
                e
            }
            ,
            i.prototype.brightness = function(t, e) {
                var r = [t, 0, 0, 0, 0, 0, t, 0, 0, 0, 0, 0, t, 0, 0, 0, 0, 0, 1, 0];
                this._loadMatrix(r, e)
            }
            ,
            i.prototype.greyscale = function(t, e) {
                var r = [t, t, t, 0, 0, t, t, t, 0, 0, t, t, t, 0, 0, 0, 0, 0, 1, 0];
                this._loadMatrix(r, e)
            }
            ,
            i.prototype.grayscale = i.prototype.greyscale,
            i.prototype.blackAndWhite = function(t) {
                var e = [.3, .6, .1, 0, 0, .3, .6, .1, 0, 0, .3, .6, .1, 0, 0, 0, 0, 0, 1, 0];
                this._loadMatrix(e, t)
            }
            ,
            i.prototype.hue = function(t, e) {
                t = (t || 0) / 180 * Math.PI;
                var r = Math.cos(t)
                  , i = Math.sin(t)
                  , n = .213
                  , o = .715
                  , s = .072
                  , a = [n + r * (1 - n) + i * -n, o + r * -o + i * -o, s + r * -s + i * (1 - s), 0, 0, n + r * -n + .143 * i, o + r * (1 - o) + .14 * i, s + r * -s + i * -.283, 0, 0, n + r * -n + i * -(1 - n), o + r * -o + i * o, s + r * (1 - s) + i * s, 0, 0, 0, 0, 0, 1, 0];
                this._loadMatrix(a, e)
            }
            ,
            i.prototype.contrast = function(t, e) {
                var r = (t || 0) + 1
                  , i = -128 * (r - 1)
                  , n = [r, 0, 0, 0, i, 0, r, 0, 0, i, 0, 0, r, 0, i, 0, 0, 0, 1, 0];
                this._loadMatrix(n, e)
            }
            ,
            i.prototype.saturate = function(t, e) {
                var r = 2 * (t || 0) / 3 + 1
                  , i = (r - 1) * -.5
                  , n = [r, i, i, 0, 0, i, r, i, 0, 0, i, i, r, 0, 0, 0, 0, 0, 1, 0];
                this._loadMatrix(n, e)
            }
            ,
            i.prototype.desaturate = function(t) {
                this.saturate(-1)
            }
            ,
            i.prototype.negative = function(t) {
                var e = [0, 1, 1, 0, 0, 1, 0, 1, 0, 0, 1, 1, 0, 0, 0, 0, 0, 0, 1, 0];
                this._loadMatrix(e, t)
            }
            ,
            i.prototype.sepia = function(t) {
                var e = [.393, .7689999, .18899999, 0, 0, .349, .6859999, .16799999, 0, 0, .272, .5339999, .13099999, 0, 0, 0, 0, 0, 1, 0];
                this._loadMatrix(e, t)
            }
            ,
            i.prototype.technicolor = function(t) {
                var e = [1.9125277891456083, -.8545344976951645, -.09155508482755585, 0, 11.793603434377337, -.3087833385928097, 1.7658908555458428, -.10601743074722245, 0, -70.35205161461398, -.231103377548616, -.7501899197440212, 1.847597816108189, 0, 30.950940869491138, 0, 0, 0, 1, 0];
                this._loadMatrix(e, t)
            }
            ,
            i.prototype.polaroid = function(t) {
                var e = [1.438, -.062, -.062, 0, 0, -.122, 1.378, -.122, 0, 0, -.016, -.016, 1.483, 0, 0, 0, 0, 0, 1, 0];
                this._loadMatrix(e, t)
            }
            ,
            i.prototype.toBGR = function(t) {
                var e = [0, 0, 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 1, 0];
                this._loadMatrix(e, t)
            }
            ,
            i.prototype.kodachrome = function(t) {
                var e = [1.1285582396593525, -.3967382283601348, -.03992559172921793, 0, 63.72958762196502, -.16404339962244616, 1.0835251566291304, -.05498805115633132, 0, 24.732407896706203, -.16786010706155763, -.5603416277695248, 1.6014850761964943, 0, 35.62982807460946, 0, 0, 0, 1, 0];
                this._loadMatrix(e, t)
            }
            ,
            i.prototype.browni = function(t) {
                var e = [.5997023498159715, .34553243048391263, -.2708298674538042, 0, 47.43192855600873, -.037703249837783157, .8609577587992641, .15059552388459913, 0, -36.96841498319127, .24113635128153335, -.07441037908422492, .44972182064877153, 0, -7.562075277591283, 0, 0, 0, 1, 0];
                this._loadMatrix(e, t)
            }
            ,
            i.prototype.vintage = function(t) {
                var e = [.6279345635605994, .3202183420819367, -.03965408211312453, 0, 9.651285835294123, .02578397704808868, .6441188644374771, .03259127616149294, 0, 7.462829176470591, .0466055556782719, -.0851232987247891, .5241648018700465, 0, 5.159190588235296, 0, 0, 0, 1, 0];
                this._loadMatrix(e, t)
            }
            ,
            i.prototype.colorTone = function(t, e, r, i, n) {
                t = t || .2,
                e = e || .15,
                r = r || 16770432,
                i = i || 3375104;
                var o = (r >> 16 & 255) / 255
                  , s = (r >> 8 & 255) / 255
                  , a = (255 & r) / 255
                  , h = (i >> 16 & 255) / 255
                  , u = (i >> 8 & 255) / 255
                  , l = (255 & i) / 255
                  , c = [.3, .59, .11, 0, 0, o, s, a, t, 0, h, u, l, e, 0, o - h, s - u, a - l, 0, 0];
                this._loadMatrix(c, n)
            }
            ,
            i.prototype.night = function(t, e) {
                t = t || .1;
                var r = [-2 * t, -t, 0, 0, 0, -t, 0, t, 0, 0, 0, t, 2 * t, 0, 0, 0, 0, 0, 1, 0];
                this._loadMatrix(r, e)
            }
            ,
            i.prototype.predator = function(t, e) {
                var r = [11.224130630493164 * t, -4.794486999511719 * t, -2.8746118545532227 * t, 0 * t, .40342438220977783 * t, -3.6330697536468506 * t, 9.193157196044922 * t, -2.951810836791992 * t, 0 * t, -1.316135048866272 * t, -3.2184197902679443 * t, -4.2375030517578125 * t, 7.476448059082031 * t, 0 * t, .8044459223747253 * t, 0, 0, 0, 1, 0];
                this._loadMatrix(r, e)
            }
            ,
            i.prototype.lsd = function(t) {
                var e = [2, -.4, .5, 0, 0, -.5, 2, -.4, 0, 0, -.4, -.5, 3, 0, 0, 0, 0, 0, 1, 0];
                this._loadMatrix(e, t)
            }
            ,
            i.prototype.reset = function() {
                var t = [1, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 1, 0];
                this._loadMatrix(t, !1)
            }
            ,
            Object.defineProperties(i.prototype, {
                matrix: {
                    get: function() {
                        return this.uniforms.m.value
                    },
                    set: function(t) {
                        this.uniforms.m.value = t
                    }
                }
            })
        }
        , {
            "../../core": 29
        }],
        95: [function(t, e, r) {
            function i() {
                n.AbstractFilter.call(this, null , "precision mediump float;\n\nvarying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform float step;\n\nvoid main(void)\n{\n    vec4 color = texture2D(uSampler, vTextureCoord);\n\n    color = floor(color * step) / step;\n\n    gl_FragColor = color;\n}\n", {
                    step: {
                        type: "1f",
                        value: 5
                    }
                })
            }
            var n = t("../../core");
            i.prototype = Object.create(n.AbstractFilter.prototype),
            i.prototype.constructor = i,
            e.exports = i,
            Object.defineProperties(i.prototype, {
                step: {
                    get: function() {
                        return this.uniforms.step.value
                    },
                    set: function(t) {
                        this.uniforms.step.value = t
                    }
                }
            })
        }
        , {
            "../../core": 29
        }],
        96: [function(t, e, r) {
            function i(t, e, r) {
                n.AbstractFilter.call(this, null , "precision mediump float;\n\nvarying mediump vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform vec2 texelSize;\nuniform float matrix[9];\n\nvoid main(void)\n{\n   vec4 c11 = texture2D(uSampler, vTextureCoord - texelSize); // top left\n   vec4 c12 = texture2D(uSampler, vec2(vTextureCoord.x, vTextureCoord.y - texelSize.y)); // top center\n   vec4 c13 = texture2D(uSampler, vec2(vTextureCoord.x + texelSize.x, vTextureCoord.y - texelSize.y)); // top right\n\n   vec4 c21 = texture2D(uSampler, vec2(vTextureCoord.x - texelSize.x, vTextureCoord.y)); // mid left\n   vec4 c22 = texture2D(uSampler, vTextureCoord); // mid center\n   vec4 c23 = texture2D(uSampler, vec2(vTextureCoord.x + texelSize.x, vTextureCoord.y)); // mid right\n\n   vec4 c31 = texture2D(uSampler, vec2(vTextureCoord.x - texelSize.x, vTextureCoord.y + texelSize.y)); // bottom left\n   vec4 c32 = texture2D(uSampler, vec2(vTextureCoord.x, vTextureCoord.y + texelSize.y)); // bottom center\n   vec4 c33 = texture2D(uSampler, vTextureCoord + texelSize); // bottom right\n\n   gl_FragColor =\n       c11 * matrix[0] + c12 * matrix[1] + c13 * matrix[2] +\n       c21 * matrix[3] + c22 * matrix[4] + c23 * matrix[5] +\n       c31 * matrix[6] + c32 * matrix[7] + c33 * matrix[8];\n\n   gl_FragColor.a = c22.a;\n}\n", {
                    matrix: {
                        type: "1fv",
                        value: new Float32Array(t)
                    },
                    texelSize: {
                        type: "v2",
                        value: {
                            x: 1 / e,
                            y: 1 / r
                        }
                    }
                })
            }
            var n = t("../../core");
            i.prototype = Object.create(n.AbstractFilter.prototype),
            i.prototype.constructor = i,
            e.exports = i,
            Object.defineProperties(i.prototype, {
                matrix: {
                    get: function() {
                        return this.uniforms.matrix.value
                    },
                    set: function(t) {
                        this.uniforms.matrix.value = new Float32Array(t)
                    }
                },
                width: {
                    get: function() {
                        return 1 / this.uniforms.texelSize.value.x
                    },
                    set: function(t) {
                        this.uniforms.texelSize.value.x = 1 / t
                    }
                },
                height: {
                    get: function() {
                        return 1 / this.uniforms.texelSize.value.y
                    },
                    set: function(t) {
                        this.uniforms.texelSize.value.y = 1 / t
                    }
                }
            })
        }
        , {
            "../../core": 29
        }],
        97: [function(t, e, r) {
            function i() {
                n.AbstractFilter.call(this, null , "precision mediump float;\n\nvarying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\n\nvoid main(void)\n{\n    float lum = length(texture2D(uSampler, vTextureCoord.xy).rgb);\n\n    gl_FragColor = vec4(1.0, 1.0, 1.0, 1.0);\n\n    if (lum < 1.00)\n    {\n        if (mod(gl_FragCoord.x + gl_FragCoord.y, 10.0) == 0.0)\n        {\n            gl_FragColor = vec4(0.0, 0.0, 0.0, 1.0);\n        }\n    }\n\n    if (lum < 0.75)\n    {\n        if (mod(gl_FragCoord.x - gl_FragCoord.y, 10.0) == 0.0)\n        {\n            gl_FragColor = vec4(0.0, 0.0, 0.0, 1.0);\n        }\n    }\n\n    if (lum < 0.50)\n    {\n        if (mod(gl_FragCoord.x + gl_FragCoord.y - 5.0, 10.0) == 0.0)\n        {\n            gl_FragColor = vec4(0.0, 0.0, 0.0, 1.0);\n        }\n    }\n\n    if (lum < 0.3)\n    {\n        if (mod(gl_FragCoord.x - gl_FragCoord.y - 5.0, 10.0) == 0.0)\n        {\n            gl_FragColor = vec4(0.0, 0.0, 0.0, 1.0);\n        }\n    }\n}\n")
            }
            var n = t("../../core");
            i.prototype = Object.create(n.AbstractFilter.prototype),
            i.prototype.constructor = i,
            e.exports = i
        }
        , {
            "../../core": 29
        }],
        98: [function(t, e, r) {
            function i(t, e) {
                var r = new n.Matrix;
                t.renderable = !1,
                n.AbstractFilter.call(this, "attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec4 aColor;\n\nuniform mat3 projectionMatrix;\nuniform mat3 otherMatrix;\n\nvarying vec2 vMapCoord;\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nvoid main(void)\n{\n   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n   vTextureCoord = aTextureCoord;\n   vMapCoord = ( otherMatrix * vec3( aTextureCoord, 1.0)  ).xy;\n   vColor = vec4(aColor.rgb * aColor.a, aColor.a);\n}\n", "precision mediump float;\n\nvarying vec2 vMapCoord;\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nuniform vec2 scale;\n\nuniform sampler2D uSampler;\nuniform sampler2D mapSampler;\n\nvoid main(void)\n{\n   vec4 map =  texture2D(mapSampler, vMapCoord);\n\n   map -= 0.5;\n   map.xy *= scale;\n\n   gl_FragColor = texture2D(uSampler, vec2(vTextureCoord.x + map.x, vTextureCoord.y + map.y));\n}\n", {
                    mapSampler: {
                        type: "sampler2D",
                        value: t.texture
                    },
                    otherMatrix: {
                        type: "mat3",
                        value: r.toArray(!0)
                    },
                    scale: {
                        type: "v2",
                        value: {
                            x: 1,
                            y: 1
                        }
                    }
                }),
                this.maskSprite = t,
                this.maskMatrix = r,
                (null  === e || void 0 === e) && (e = 20),
                this.scale = new n.Point(e,e)
            }
            var n = t("../../core");
            i.prototype = Object.create(n.AbstractFilter.prototype),
            i.prototype.constructor = i,
            e.exports = i,
            i.prototype.applyFilter = function(t, e, r) {
                var i = t.filterManager;
                i.calculateMappedMatrix(e.frame, this.maskSprite, this.maskMatrix),
                this.uniforms.otherMatrix.value = this.maskMatrix.toArray(!0),
                this.uniforms.scale.value.x = this.scale.x * (1 / e.frame.width),
                this.uniforms.scale.value.y = this.scale.y * (1 / e.frame.height);
                var n = this.getShader(t);
                i.applyFilter(n, e, r)
            }
            ,
            Object.defineProperties(i.prototype, {
                map: {
                    get: function() {
                        return this.uniforms.mapSampler.value
                    },
                    set: function(t) {
                        this.uniforms.mapSampler.value = t
                    }
                }
            })
        }
        , {
            "../../core": 29
        }],
        99: [function(t, e, r) {
            function i() {
                n.AbstractFilter.call(this, null , "precision mediump float;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nuniform vec4 dimensions;\nuniform sampler2D uSampler;\n\nuniform float angle;\nuniform float scale;\n\nfloat pattern()\n{\n   float s = sin(angle), c = cos(angle);\n   vec2 tex = vTextureCoord * dimensions.xy;\n   vec2 point = vec2(\n       c * tex.x - s * tex.y,\n       s * tex.x + c * tex.y\n   ) * scale;\n   return (sin(point.x) * sin(point.y)) * 4.0;\n}\n\nvoid main()\n{\n   vec4 color = texture2D(uSampler, vTextureCoord);\n   float average = (color.r + color.g + color.b) / 3.0;\n   gl_FragColor = vec4(vec3(average * 10.0 - 5.0 + pattern()), color.a);\n}\n", {
                    scale: {
                        type: "1f",
                        value: 1
                    },
                    angle: {
                        type: "1f",
                        value: 5
                    },
                    dimensions: {
                        type: "4fv",
                        value: [0, 0, 0, 0]
                    }
                })
            }
            var n = t("../../core");
            i.prototype = Object.create(n.AbstractFilter.prototype),
            i.prototype.constructor = i,
            e.exports = i,
            Object.defineProperties(i.prototype, {
                scale: {
                    get: function() {
                        return this.uniforms.scale.value
                    },
                    set: function(t) {
                        this.uniforms.scale.value = t
                    }
                },
                angle: {
                    get: function() {
                        return this.uniforms.angle.value
                    },
                    set: function(t) {
                        this.uniforms.angle.value = t
                    }
                }
            })
        }
        , {
            "../../core": 29
        }],
        100: [function(t, e, r) {
            function i() {
                n.AbstractFilter.call(this, "attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec4 aColor;\n\nuniform float strength;\nuniform vec2 offset;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\nvarying vec2 vBlurTexCoords[6];\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3((aVertexPosition+offset), 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n\n    vBlurTexCoords[ 0] = aTextureCoord + vec2(0.0, -0.012 * strength);\n    vBlurTexCoords[ 1] = aTextureCoord + vec2(0.0, -0.008 * strength);\n    vBlurTexCoords[ 2] = aTextureCoord + vec2(0.0, -0.004 * strength);\n    vBlurTexCoords[ 3] = aTextureCoord + vec2(0.0,  0.004 * strength);\n    vBlurTexCoords[ 4] = aTextureCoord + vec2(0.0,  0.008 * strength);\n    vBlurTexCoords[ 5] = aTextureCoord + vec2(0.0,  0.012 * strength);\n\n   vColor = vec4(aColor.rgb * aColor.a, aColor.a);\n}\n", "precision lowp float;\n\nvarying vec2 vTextureCoord;\nvarying vec2 vBlurTexCoords[6];\nvarying vec4 vColor;\n\nuniform vec3 color;\nuniform float alpha;\n\nuniform sampler2D uSampler;\n\nvoid main(void)\n{\n    vec4 sum = vec4(0.0);\n\n    sum += texture2D(uSampler, vBlurTexCoords[ 0])*0.004431848411938341;\n    sum += texture2D(uSampler, vBlurTexCoords[ 1])*0.05399096651318985;\n    sum += texture2D(uSampler, vBlurTexCoords[ 2])*0.2419707245191454;\n    sum += texture2D(uSampler, vTextureCoord     )*0.3989422804014327;\n    sum += texture2D(uSampler, vBlurTexCoords[ 3])*0.2419707245191454;\n    sum += texture2D(uSampler, vBlurTexCoords[ 4])*0.05399096651318985;\n    sum += texture2D(uSampler, vBlurTexCoords[ 5])*0.004431848411938341;\n\n    gl_FragColor = vec4( color.rgb * sum.a * alpha, sum.a * alpha );\n}\n", {
                    blur: {
                        type: "1f",
                        value: 1 / 512
                    },
                    color: {
                        type: "c",
                        value: [0, 0, 0]
                    },
                    alpha: {
                        type: "1f",
                        value: .7
                    },
                    offset: {
                        type: "2f",
                        value: [5, 5]
                    },
                    strength: {
                        type: "1f",
                        value: 1
                    }
                }),
                this.passes = 1,
                this.strength = 4
            }
            var n = t("../../core");
            i.prototype = Object.create(n.AbstractFilter.prototype),
            i.prototype.constructor = i,
            e.exports = i,
            i.prototype.applyFilter = function(t, e, r, i) {
                var n = this.getShader(t);
                if (this.uniforms.strength.value = this.strength / 4 / this.passes * (e.frame.height / e.size.height),
                1 === this.passes)
                    t.filterManager.applyFilter(n, e, r, i);
                else {
                    for (var o = t.filterManager.getRenderTarget(!0), s = e, a = o, h = 0; h < this.passes - 1; h++) {
                        t.filterManager.applyFilter(n, s, a, i);
                        var u = a;
                        a = s,
                        s = u
                    }
                    t.filterManager.applyFilter(n, s, r, i),
                    t.filterManager.returnRenderTarget(o)
                }
            }
            ,
            Object.defineProperties(i.prototype, {
                blur: {
                    get: function() {
                        return this.strength
                    },
                    set: function(t) {
                        this.padding = .5 * t,
                        this.strength = t
                    }
                }
            })
        }
        , {
            "../../core": 29
        }],
        101: [function(t, e, r) {
            function i() {
                n.AbstractFilter.call(this),
                this.blurXFilter = new o,
                this.blurYTintFilter = new s,
                this.defaultFilter = new n.AbstractFilter,
                this.padding = 30,
                this._dirtyPosition = !0,
                this._angle = 45 * Math.PI / 180,
                this._distance = 10,
                this.alpha = .75,
                this.hideObject = !1,
                this.blendMode = n.BLEND_MODES.MULTIPLY
            }
            var n = t("../../core")
              , o = t("../blur/BlurXFilter")
              , s = t("./BlurYTintFilter");
            i.prototype = Object.create(n.AbstractFilter.prototype),
            i.prototype.constructor = i,
            e.exports = i,
            i.prototype.applyFilter = function(t, e, r) {
                var i = t.filterManager.getRenderTarget(!0);
                this._dirtyPosition && (this._dirtyPosition = !1,
                this.blurYTintFilter.uniforms.offset.value[0] = Math.sin(this._angle) * this._distance,
                this.blurYTintFilter.uniforms.offset.value[1] = Math.cos(this._angle) * this._distance),
                this.blurXFilter.applyFilter(t, e, i),
                t.blendModeManager.setBlendMode(this.blendMode),
                this.blurYTintFilter.applyFilter(t, i, r),
                t.blendModeManager.setBlendMode(n.BLEND_MODES.NORMAL),
                this.hideObject || this.defaultFilter.applyFilter(t, e, r),
                t.filterManager.returnRenderTarget(i)
            }
            ,
            Object.defineProperties(i.prototype, {
                blur: {
                    get: function() {
                        return this.blurXFilter.blur
                    },
                    set: function(t) {
                        this.blurXFilter.blur = this.blurYTintFilter.blur = t
                    }
                },
                blurX: {
                    get: function() {
                        return this.blurXFilter.blur
                    },
                    set: function(t) {
                        this.blurXFilter.blur = t
                    }
                },
                blurY: {
                    get: function() {
                        return this.blurYTintFilter.blur
                    },
                    set: function(t) {
                        this.blurYTintFilter.blur = t
                    }
                },
                color: {
                    get: function() {
                        return n.utils.rgb2hex(this.blurYTintFilter.uniforms.color.value)
                    },
                    set: function(t) {
                        this.blurYTintFilter.uniforms.color.value = n.utils.hex2rgb(t)
                    }
                },
                alpha: {
                    get: function() {
                        return this.blurYTintFilter.uniforms.alpha.value
                    },
                    set: function(t) {
                        this.blurYTintFilter.uniforms.alpha.value = t
                    }
                },
                distance: {
                    get: function() {
                        return this._distance
                    },
                    set: function(t) {
                        this._dirtyPosition = !0,
                        this._distance = t
                    }
                },
                angle: {
                    get: function() {
                        return this._angle
                    },
                    set: function(t) {
                        this._dirtyPosition = !0,
                        this._angle = t
                    }
                }
            })
        }
        , {
            "../../core": 29,
            "../blur/BlurXFilter": 91,
            "./BlurYTintFilter": 100
        }],
        102: [function(t, e, r) {
            function i() {
                n.AbstractFilter.call(this, null , "precision mediump float;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nuniform sampler2D uSampler;\nuniform float gray;\n\nvoid main(void)\n{\n   gl_FragColor = texture2D(uSampler, vTextureCoord);\n   gl_FragColor.rgb = mix(gl_FragColor.rgb, vec3(0.2126*gl_FragColor.r + 0.7152*gl_FragColor.g + 0.0722*gl_FragColor.b), gray);\n}\n", {
                    gray: {
                        type: "1f",
                        value: 1
                    }
                })
            }
            var n = t("../../core");
            i.prototype = Object.create(n.AbstractFilter.prototype),
            i.prototype.constructor = i,
            e.exports = i,
            Object.defineProperties(i.prototype, {
                gray: {
                    get: function() {
                        return this.uniforms.gray.value
                    },
                    set: function(t) {
                        this.uniforms.gray.value = t
                    }
                }
            })
        }
        , {
            "../../core": 29
        }],
        103: [function(t, e, r) {
            e.exports = {
                AsciiFilter: t("./ascii/AsciiFilter"),
                BloomFilter: t("./bloom/BloomFilter"),
                BlurFilter: t("./blur/BlurFilter"),
                BlurXFilter: t("./blur/BlurXFilter"),
                BlurYFilter: t("./blur/BlurYFilter"),
                BlurDirFilter: t("./blur/BlurDirFilter"),
                ColorMatrixFilter: t("./color/ColorMatrixFilter"),
                ColorStepFilter: t("./color/ColorStepFilter"),
                ConvolutionFilter: t("./convolution/ConvolutionFilter"),
                CrossHatchFilter: t("./crosshatch/CrossHatchFilter"),
                DisplacementFilter: t("./displacement/DisplacementFilter"),
                DotScreenFilter: t("./dot/DotScreenFilter"),
                GrayFilter: t("./gray/GrayFilter"),
                DropShadowFilter: t("./dropshadow/DropShadowFilter"),
                InvertFilter: t("./invert/InvertFilter"),
                NoiseFilter: t("./noise/NoiseFilter"),
                PixelateFilter: t("./pixelate/PixelateFilter"),
                RGBSplitFilter: t("./rgb/RGBSplitFilter"),
                ShockwaveFilter: t("./shockwave/ShockwaveFilter"),
                SepiaFilter: t("./sepia/SepiaFilter"),
                SmartBlurFilter: t("./blur/SmartBlurFilter"),
                TiltShiftFilter: t("./tiltshift/TiltShiftFilter"),
                TiltShiftXFilter: t("./tiltshift/TiltShiftXFilter"),
                TiltShiftYFilter: t("./tiltshift/TiltShiftYFilter"),
                TwistFilter: t("./twist/TwistFilter")
            }
        }
        , {
            "./ascii/AsciiFilter": 87,
            "./bloom/BloomFilter": 88,
            "./blur/BlurDirFilter": 89,
            "./blur/BlurFilter": 90,
            "./blur/BlurXFilter": 91,
            "./blur/BlurYFilter": 92,
            "./blur/SmartBlurFilter": 93,
            "./color/ColorMatrixFilter": 94,
            "./color/ColorStepFilter": 95,
            "./convolution/ConvolutionFilter": 96,
            "./crosshatch/CrossHatchFilter": 97,
            "./displacement/DisplacementFilter": 98,
            "./dot/DotScreenFilter": 99,
            "./dropshadow/DropShadowFilter": 101,
            "./gray/GrayFilter": 102,
            "./invert/InvertFilter": 104,
            "./noise/NoiseFilter": 105,
            "./pixelate/PixelateFilter": 106,
            "./rgb/RGBSplitFilter": 107,
            "./sepia/SepiaFilter": 108,
            "./shockwave/ShockwaveFilter": 109,
            "./tiltshift/TiltShiftFilter": 111,
            "./tiltshift/TiltShiftXFilter": 112,
            "./tiltshift/TiltShiftYFilter": 113,
            "./twist/TwistFilter": 114
        }],
        104: [function(t, e, r) {
            function i() {
                n.AbstractFilter.call(this, null , "precision mediump float;\n\nvarying vec2 vTextureCoord;\n\nuniform float invert;\nuniform sampler2D uSampler;\n\nvoid main(void)\n{\n    gl_FragColor = texture2D(uSampler, vTextureCoord);\n\n    gl_FragColor.rgb = mix( (vec3(1)-gl_FragColor.rgb) * gl_FragColor.a, gl_FragColor.rgb, 1.0 - invert);\n}\n", {
                    invert: {
                        type: "1f",
                        value: 1
                    }
                })
            }
            var n = t("../../core");
            i.prototype = Object.create(n.AbstractFilter.prototype),
            i.prototype.constructor = i,
            e.exports = i,
            Object.defineProperties(i.prototype, {
                invert: {
                    get: function() {
                        return this.uniforms.invert.value
                    },
                    set: function(t) {
                        this.uniforms.invert.value = t
                    }
                }
            })
        }
        , {
            "../../core": 29
        }],
        105: [function(t, e, r) {
            function i() {
                n.AbstractFilter.call(this, null , "precision highp float;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nuniform float noise;\nuniform sampler2D uSampler;\n\nfloat rand(vec2 co)\n{\n    return fract(sin(dot(co.xy, vec2(12.9898, 78.233))) * 43758.5453);\n}\n\nvoid main()\n{\n    vec4 color = texture2D(uSampler, vTextureCoord);\n\n    float diff = (rand(vTextureCoord) - 0.5) * noise;\n\n    color.r += diff;\n    color.g += diff;\n    color.b += diff;\n\n    gl_FragColor = color;\n}\n", {
                    noise: {
                        type: "1f",
                        value: .5
                    }
                })
            }
            var n = t("../../core");
            i.prototype = Object.create(n.AbstractFilter.prototype),
            i.prototype.constructor = i,
            e.exports = i,
            Object.defineProperties(i.prototype, {
                noise: {
                    get: function() {
                        return this.uniforms.noise.value
                    },
                    set: function(t) {
                        this.uniforms.noise.value = t
                    }
                }
            })
        }
        , {
            "../../core": 29
        }],
        106: [function(t, e, r) {
            function i() {
                n.AbstractFilter.call(this, null , "precision mediump float;\n\nvarying vec2 vTextureCoord;\n\nuniform vec4 dimensions;\nuniform vec2 pixelSize;\nuniform sampler2D uSampler;\n\nvoid main(void)\n{\n    vec2 coord = vTextureCoord;\n\n    vec2 size = dimensions.xy / pixelSize;\n\n    vec2 color = floor( ( vTextureCoord * size ) ) / size + pixelSize/dimensions.xy * 0.5;\n\n    gl_FragColor = texture2D(uSampler, color);\n}\n", {
                    dimensions: {
                        type: "4fv",
                        value: new Float32Array([0, 0, 0, 0])
                    },
                    pixelSize: {
                        type: "v2",
                        value: {
                            x: 10,
                            y: 10
                        }
                    }
                })
            }
            var n = t("../../core");
            i.prototype = Object.create(n.AbstractFilter.prototype),
            i.prototype.constructor = i,
            e.exports = i,
            Object.defineProperties(i.prototype, {
                size: {
                    get: function() {
                        return this.uniforms.pixelSize.value
                    },
                    set: function(t) {
                        this.uniforms.pixelSize.value = t
                    }
                }
            })
        }
        , {
            "../../core": 29
        }],
        107: [function(t, e, r) {
            function i() {
                n.AbstractFilter.call(this, null , "precision mediump float;\n\nvarying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform vec4 dimensions;\nuniform vec2 red;\nuniform vec2 green;\nuniform vec2 blue;\n\nvoid main(void)\n{\n   gl_FragColor.r = texture2D(uSampler, vTextureCoord + red/dimensions.xy).r;\n   gl_FragColor.g = texture2D(uSampler, vTextureCoord + green/dimensions.xy).g;\n   gl_FragColor.b = texture2D(uSampler, vTextureCoord + blue/dimensions.xy).b;\n   gl_FragColor.a = texture2D(uSampler, vTextureCoord).a;\n}\n", {
                    red: {
                        type: "v2",
                        value: {
                            x: 20,
                            y: 20
                        }
                    },
                    green: {
                        type: "v2",
                        value: {
                            x: -20,
                            y: 20
                        }
                    },
                    blue: {
                        type: "v2",
                        value: {
                            x: 20,
                            y: -20
                        }
                    },
                    dimensions: {
                        type: "4fv",
                        value: [0, 0, 0, 0]
                    }
                })
            }
            var n = t("../../core");
            i.prototype = Object.create(n.AbstractFilter.prototype),
            i.prototype.constructor = i,
            e.exports = i,
            Object.defineProperties(i.prototype, {
                red: {
                    get: function() {
                        return this.uniforms.red.value
                    },
                    set: function(t) {
                        this.uniforms.red.value = t
                    }
                },
                green: {
                    get: function() {
                        return this.uniforms.green.value
                    },
                    set: function(t) {
                        this.uniforms.green.value = t
                    }
                },
                blue: {
                    get: function() {
                        return this.uniforms.blue.value
                    },
                    set: function(t) {
                        this.uniforms.blue.value = t
                    }
                }
            })
        }
        , {
            "../../core": 29
        }],
        108: [function(t, e, r) {
            function i() {
                n.AbstractFilter.call(this, null , "precision mediump float;\n\nvarying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform float sepia;\n\nconst mat3 sepiaMatrix = mat3(0.3588, 0.7044, 0.1368, 0.2990, 0.5870, 0.1140, 0.2392, 0.4696, 0.0912);\n\nvoid main(void)\n{\n   gl_FragColor = texture2D(uSampler, vTextureCoord);\n   gl_FragColor.rgb = mix( gl_FragColor.rgb, gl_FragColor.rgb * sepiaMatrix, sepia);\n}\n", {
                    sepia: {
                        type: "1f",
                        value: 1
                    }
                })
            }
            var n = t("../../core");
            i.prototype = Object.create(n.AbstractFilter.prototype),
            i.prototype.constructor = i,
            e.exports = i,
            Object.defineProperties(i.prototype, {
                sepia: {
                    get: function() {
                        return this.uniforms.sepia.value
                    },
                    set: function(t) {
                        this.uniforms.sepia.value = t
                    }
                }
            })
        }
        , {
            "../../core": 29
        }],
        109: [function(t, e, r) {
            function i() {
                n.AbstractFilter.call(this, null , "precision lowp float;\n\nvarying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\n\nuniform vec2 center;\nuniform vec3 params; // 10.0, 0.8, 0.1\nuniform float time;\n\nvoid main()\n{\n    vec2 uv = vTextureCoord;\n    vec2 texCoord = uv;\n\n    float dist = distance(uv, center);\n\n    if ( (dist <= (time + params.z)) && (dist >= (time - params.z)) )\n    {\n        float diff = (dist - time);\n        float powDiff = 1.0 - pow(abs(diff*params.x), params.y);\n\n        float diffTime = diff  * powDiff;\n        vec2 diffUV = normalize(uv - center);\n        texCoord = uv + (diffUV * diffTime);\n    }\n\n    gl_FragColor = texture2D(uSampler, texCoord);\n}\n", {
                    center: {
                        type: "v2",
                        value: {
                            x: .5,
                            y: .5
                        }
                    },
                    params: {
                        type: "v3",
                        value: {
                            x: 10,
                            y: .8,
                            z: .1
                        }
                    },
                    time: {
                        type: "1f",
                        value: 0
                    }
                })
            }
            var n = t("../../core");
            i.prototype = Object.create(n.AbstractFilter.prototype),
            i.prototype.constructor = i,
            e.exports = i,
            Object.defineProperties(i.prototype, {
                center: {
                    get: function() {
                        return this.uniforms.center.value
                    },
                    set: function(t) {
                        this.uniforms.center.value = t
                    }
                },
                params: {
                    get: function() {
                        return this.uniforms.params.value
                    },
                    set: function(t) {
                        this.uniforms.params.value = t
                    }
                },
                time: {
                    get: function() {
                        return this.uniforms.time.value
                    },
                    set: function(t) {
                        this.uniforms.time.value = t
                    }
                }
            })
        }
        , {
            "../../core": 29
        }],
        110: [function(t, e, r) {
            function i() {
                n.AbstractFilter.call(this, null , "precision mediump float;\n\nvarying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform float blur;\nuniform float gradientBlur;\nuniform vec2 start;\nuniform vec2 end;\nuniform vec2 delta;\nuniform vec2 texSize;\n\nfloat random(vec3 scale, float seed)\n{\n    return fract(sin(dot(gl_FragCoord.xyz + seed, scale)) * 43758.5453 + seed);\n}\n\nvoid main(void)\n{\n    vec4 color = vec4(0.0);\n    float total = 0.0;\n\n    float offset = random(vec3(12.9898, 78.233, 151.7182), 0.0);\n    vec2 normal = normalize(vec2(start.y - end.y, end.x - start.x));\n    float radius = smoothstep(0.0, 1.0, abs(dot(vTextureCoord * texSize - start, normal)) / gradientBlur) * blur;\n\n    for (float t = -30.0; t <= 30.0; t++)\n    {\n        float percent = (t + offset - 0.5) / 30.0;\n        float weight = 1.0 - abs(percent);\n        vec4 sample = texture2D(uSampler, vTextureCoord + delta / texSize * percent * radius);\n        sample.rgb *= sample.a;\n        color += sample * weight;\n        total += weight;\n    }\n\n    gl_FragColor = color / total;\n    gl_FragColor.rgb /= gl_FragColor.a + 0.00001;\n}\n", {
                    blur: {
                        type: "1f",
                        value: 100
                    },
                    gradientBlur: {
                        type: "1f",
                        value: 600
                    },
                    start: {
                        type: "v2",
                        value: {
                            x: 0,
                            y: window.innerHeight / 2
                        }
                    },
                    end: {
                        type: "v2",
                        value: {
                            x: 600,
                            y: window.innerHeight / 2
                        }
                    },
                    delta: {
                        type: "v2",
                        value: {
                            x: 30,
                            y: 30
                        }
                    },
                    texSize: {
                        type: "v2",
                        value: {
                            x: window.innerWidth,
                            y: window.innerHeight
                        }
                    }
                }),
                this.updateDelta()
            }
            var n = t("../../core");
            i.prototype = Object.create(n.AbstractFilter.prototype),
            i.prototype.constructor = i,
            e.exports = i,
            i.prototype.updateDelta = function() {
                this.uniforms.delta.value.x = 0,
                this.uniforms.delta.value.y = 0
            }
            ,
            Object.defineProperties(i.prototype, {
                blur: {
                    get: function() {
                        return this.uniforms.blur.value
                    },
                    set: function(t) {
                        this.uniforms.blur.value = t
                    }
                },
                gradientBlur: {
                    get: function() {
                        return this.uniforms.gradientBlur.value
                    },
                    set: function(t) {
                        this.uniforms.gradientBlur.value = t
                    }
                },
                start: {
                    get: function() {
                        return this.uniforms.start.value
                    },
                    set: function(t) {
                        this.uniforms.start.value = t,
                        this.updateDelta()
                    }
                },
                end: {
                    get: function() {
                        return this.uniforms.end.value
                    },
                    set: function(t) {
                        this.uniforms.end.value = t,
                        this.updateDelta()
                    }
                }
            })
        }
        , {
            "../../core": 29
        }],
        111: [function(t, e, r) {
            function i() {
                n.AbstractFilter.call(this),
                this.tiltShiftXFilter = new o,
                this.tiltShiftYFilter = new s
            }
            var n = t("../../core")
              , o = t("./TiltShiftXFilter")
              , s = t("./TiltShiftYFilter");
            i.prototype = Object.create(n.AbstractFilter.prototype),
            i.prototype.constructor = i,
            e.exports = i,
            i.prototype.applyFilter = function(t, e, r) {
                var i = t.filterManager.getRenderTarget(!0);
                this.tiltShiftXFilter.applyFilter(t, e, i),
                this.tiltShiftYFilter.applyFilter(t, i, r),
                t.filterManager.returnRenderTarget(i)
            }
            ,
            Object.defineProperties(i.prototype, {
                blur: {
                    get: function() {
                        return this.tiltShiftXFilter.blur
                    },
                    set: function(t) {
                        this.tiltShiftXFilter.blur = this.tiltShiftYFilter.blur = t
                    }
                },
                gradientBlur: {
                    get: function() {
                        return this.tiltShiftXFilter.gradientBlur
                    },
                    set: function(t) {
                        this.tiltShiftXFilter.gradientBlur = this.tiltShiftYFilter.gradientBlur = t
                    }
                },
                start: {
                    get: function() {
                        return this.tiltShiftXFilter.start
                    },
                    set: function(t) {
                        this.tiltShiftXFilter.start = this.tiltShiftYFilter.start = t
                    }
                },
                end: {
                    get: function() {
                        return this.tiltShiftXFilter.end
                    },
                    set: function(t) {
                        this.tiltShiftXFilter.end = this.tiltShiftYFilter.end = t
                    }
                }
            })
        }
        , {
            "../../core": 29,
            "./TiltShiftXFilter": 112,
            "./TiltShiftYFilter": 113
        }],
        112: [function(t, e, r) {
            function i() {
                n.call(this)
            }
            var n = t("./TiltShiftAxisFilter");
            i.prototype = Object.create(n.prototype),
            i.prototype.constructor = i,
            e.exports = i,
            i.prototype.updateDelta = function() {
                var t = this.uniforms.end.value.x - this.uniforms.start.value.x
                  , e = this.uniforms.end.value.y - this.uniforms.start.value.y
                  , r = Math.sqrt(t * t + e * e);
                this.uniforms.delta.value.x = t / r,
                this.uniforms.delta.value.y = e / r
            }
        }
        , {
            "./TiltShiftAxisFilter": 110
        }],
        113: [function(t, e, r) {
            function i() {
                n.call(this)
            }
            var n = t("./TiltShiftAxisFilter");
            i.prototype = Object.create(n.prototype),
            i.prototype.constructor = i,
            e.exports = i,
            i.prototype.updateDelta = function() {
                var t = this.uniforms.end.value.x - this.uniforms.start.value.x
                  , e = this.uniforms.end.value.y - this.uniforms.start.value.y
                  , r = Math.sqrt(t * t + e * e);
                this.uniforms.delta.value.x = -e / r,
                this.uniforms.delta.value.y = t / r
            }
        }
        , {
            "./TiltShiftAxisFilter": 110
        }],
        114: [function(t, e, r) {
            function i() {
                n.AbstractFilter.call(this, null , "precision mediump float;\n\nvarying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform float radius;\nuniform float angle;\nuniform vec2 offset;\n\nvoid main(void)\n{\n   vec2 coord = vTextureCoord - offset;\n   float dist = length(coord);\n\n   if (dist < radius)\n   {\n       float ratio = (radius - dist) / radius;\n       float angleMod = ratio * ratio * angle;\n       float s = sin(angleMod);\n       float c = cos(angleMod);\n       coord = vec2(coord.x * c - coord.y * s, coord.x * s + coord.y * c);\n   }\n\n   gl_FragColor = texture2D(uSampler, coord+offset);\n}\n", {
                    radius: {
                        type: "1f",
                        value: .5
                    },
                    angle: {
                        type: "1f",
                        value: 5
                    },
                    offset: {
                        type: "v2",
                        value: {
                            x: .5,
                            y: .5
                        }
                    }
                })
            }
            var n = t("../../core");
            i.prototype = Object.create(n.AbstractFilter.prototype),
            i.prototype.constructor = i,
            e.exports = i,
            Object.defineProperties(i.prototype, {
                offset: {
                    get: function() {
                        return this.uniforms.offset.value
                    },
                    set: function(t) {
                        this.uniforms.offset.value = t
                    }
                },
                radius: {
                    get: function() {
                        return this.uniforms.radius.value
                    },
                    set: function(t) {
                        this.uniforms.radius.value = t
                    }
                },
                angle: {
                    get: function() {
                        return this.uniforms.angle.value
                    },
                    set: function(t) {
                        this.uniforms.angle.value = t
                    }
                }
            })
        }
        , {
            "../../core": 29
        }],
        115: [function(t, e, r) {
            (function(r) {
                t("./polyfill");
                var i = e.exports = t("./core");
                i.extras = t("./extras"),
                i.filters = t("./filters"),
                i.interaction = t("./interaction"),
                i.loaders = t("./loaders"),
                i.mesh = t("./mesh"),
                i.accessibility = t("./accessibility"),
                i.loader = new i.loaders.Loader,
                Object.assign(i, t("./deprecation")),
                r.PIXI = i
            }
            ).call(this, "undefined" != typeof global ? global : "undefined" != typeof self ? self : "undefined" != typeof window ? window : {})
        }
        , {
            "./accessibility": 21,
            "./core": 29,
            "./deprecation": 79,
            "./extras": 86,
            "./filters": 103,
            "./interaction": 118,
            "./loaders": 121,
            "./mesh": 128,
            "./polyfill": 133
        }],
        116: [function(t, e, r) {
            function i() {
                this.global = new n.Point,
                this.target = null ,
                this.originalEvent = null 
            }
            var n = t("../core");
            i.prototype.constructor = i,
            e.exports = i,
            i.prototype.getLocalPosition = function(t, e, r) {
                return t.worldTransform.applyInverse(r || this.global, e)
            }
        }
        , {
            "../core": 29
        }],
        117: [function(t, e, r) {
            function i(t, e) {
                e = e || {},
                this.renderer = t,
                this.autoPreventDefault = void 0 !== e.autoPreventDefault ? e.autoPreventDefault : !0,
                this.interactionFrequency = e.interactionFrequency || 10,
                this.mouse = new o,
                this.eventData = {
                    stopped: !1,
                    target: null ,
                    type: null ,
                    data: this.mouse,
                    stopPropagation: function() {
                        this.stopped = !0
                    }
                },
                this.interactiveDataPool = [],
                this.interactionDOMElement = null ,
                this.moveWhenInside = !1,
                this.eventsAdded = !1,
                this.onMouseUp = this.onMouseUp.bind(this),
                this.processMouseUp = this.processMouseUp.bind(this),
                this.onMouseDown = this.onMouseDown.bind(this),
                this.processMouseDown = this.processMouseDown.bind(this),
                this.onMouseMove = this.onMouseMove.bind(this),
                this.processMouseMove = this.processMouseMove.bind(this),
                this.onMouseOut = this.onMouseOut.bind(this),
                this.processMouseOverOut = this.processMouseOverOut.bind(this),
                this.onTouchStart = this.onTouchStart.bind(this),
                this.processTouchStart = this.processTouchStart.bind(this),
                this.onTouchEnd = this.onTouchEnd.bind(this),
                this.processTouchEnd = this.processTouchEnd.bind(this),
                this.onTouchMove = this.onTouchMove.bind(this),
                this.processTouchMove = this.processTouchMove.bind(this),
                this.last = 0,
                this.currentCursorStyle = "inherit",
                this._tempPoint = new n.Point,
                this.resolution = 1,
                this.setTargetElement(this.renderer.view, this.renderer.resolution)
            }
            var n = t("../core")
              , o = t("./InteractionData");
            Object.assign(n.DisplayObject.prototype, t("./interactiveTarget")),
            i.prototype.constructor = i,
            e.exports = i,
            i.prototype.setTargetElement = function(t, e) {
                this.removeEvents(),
                this.interactionDOMElement = t,
                this.resolution = e || 1,
                this.addEvents()
            }
            ,
            i.prototype.addEvents = function() {
                this.interactionDOMElement && (n.ticker.shared.add(this.update, this),
                window.navigator.msPointerEnabled && (this.interactionDOMElement.style["-ms-content-zooming"] = "none",
                this.interactionDOMElement.style["-ms-touch-action"] = "none"),
                window.document.addEventListener("mousemove", this.onMouseMove, !0),
                this.interactionDOMElement.addEventListener("mousedown", this.onMouseDown, !0),
                this.interactionDOMElement.addEventListener("mouseout", this.onMouseOut, !0),
                this.interactionDOMElement.addEventListener("touchstart", this.onTouchStart, !0),
                this.interactionDOMElement.addEventListener("touchend", this.onTouchEnd, !0),
                this.interactionDOMElement.addEventListener("touchmove", this.onTouchMove, !0),
                window.addEventListener("mouseup", this.onMouseUp, !0),
                this.eventsAdded = !0)
            }
            ,
            i.prototype.removeEvents = function() {
                this.interactionDOMElement && (n.ticker.shared.remove(this.update),
                window.navigator.msPointerEnabled && (this.interactionDOMElement.style["-ms-content-zooming"] = "",
                this.interactionDOMElement.style["-ms-touch-action"] = ""),
                window.document.removeEventListener("mousemove", this.onMouseMove, !0),
                this.interactionDOMElement.removeEventListener("mousedown", this.onMouseDown, !0),
                this.interactionDOMElement.removeEventListener("mouseout", this.onMouseOut, !0),
                this.interactionDOMElement.removeEventListener("touchstart", this.onTouchStart, !0),
                this.interactionDOMElement.removeEventListener("touchend", this.onTouchEnd, !0),
                this.interactionDOMElement.removeEventListener("touchmove", this.onTouchMove, !0),
                this.interactionDOMElement = null ,
                window.removeEventListener("mouseup", this.onMouseUp, !0),
                this.eventsAdded = !1)
            }
            ,
            i.prototype.update = function(t) {
                if (this._deltaTime += t,
                !(this._deltaTime < this.interactionFrequency) && (this._deltaTime = 0,
                this.interactionDOMElement)) {
                    if (this.didMove)
                        return void (this.didMove = !1);
                    this.cursor = "inherit",
                    this.processInteractive(this.mouse.global, this.renderer._lastObjectRendered, this.processMouseOverOut, !0),
                    this.currentCursorStyle !== this.cursor && (this.currentCursorStyle = this.cursor,
                    this.interactionDOMElement.style.cursor = this.cursor)
                }
            }
            ,
            i.prototype.dispatchEvent = function(t, e, r) {
                r.stopped || (r.target = t,
                r.type = e,
                t.emit(e, r),
                t[e] && t[e](r))
            }
            ,
            i.prototype.mapPositionToPoint = function(t, e, r) {
                var i = this.interactionDOMElement.getBoundingClientRect();
                t.x = (e - i.left) * (this.interactionDOMElement.width / i.width) / this.resolution,
                t.y = (r - i.top) * (this.interactionDOMElement.height / i.height) / this.resolution
            }
            ,
            i.prototype.processInteractive = function(t, e, r, i, n) {
                if (!e || !e.visible)
                    return !1;
                var o = !1
                  , s = n = e.interactive || n;
                if (e.hitArea && (s = !1),
                e.interactiveChildren)
                    for (var a = e.children, h = a.length - 1; h >= 0; h--) {
                        var u = a[h];
                        if (this.processInteractive(t, u, r, i, s)) {
                            if (!u.parent)
                                continue;o = !0,
                            s = !1,
                            u.interactive && (i = !1)
                        }
                    }
                return n && (i && !o && (e.hitArea ? (e.worldTransform.applyInverse(t, this._tempPoint),
                o = e.hitArea.contains(this._tempPoint.x, this._tempPoint.y)) : e.containsPoint && (o = e.containsPoint(t))),
                e.interactive && r(e, o)),
                o
            }
            ,
            i.prototype.onMouseDown = function(t) {
                this.mouse.originalEvent = t,
                this.eventData.data = this.mouse,
                this.eventData.stopped = !1,
                this.mapPositionToPoint(this.mouse.global, t.clientX, t.clientY),
                this.autoPreventDefault && this.mouse.originalEvent.preventDefault(),
                this.processInteractive(this.mouse.global, this.renderer._lastObjectRendered, this.processMouseDown, !0)
            }
            ,
            i.prototype.processMouseDown = function(t, e) {
                var r = this.mouse.originalEvent
                  , i = 2 === r.button || 3 === r.which;
                e && (t[i ? "_isRightDown" : "_isLeftDown"] = !0,
                this.dispatchEvent(t, i ? "rightdown" : "mousedown", this.eventData))
            }
            ,
            i.prototype.onMouseUp = function(t) {
                this.mouse.originalEvent = t,
                this.eventData.data = this.mouse,
                this.eventData.stopped = !1,
                this.mapPositionToPoint(this.mouse.global, t.clientX, t.clientY),
                this.processInteractive(this.mouse.global, this.renderer._lastObjectRendered, this.processMouseUp, !0)
            }
            ,
            i.prototype.processMouseUp = function(t, e) {
                var r = this.mouse.originalEvent
                  , i = 2 === r.button || 3 === r.which
                  , n = i ? "_isRightDown" : "_isLeftDown";
                e ? (this.dispatchEvent(t, i ? "rightup" : "mouseup", this.eventData),
                t[n] && (t[n] = !1,
                this.dispatchEvent(t, i ? "rightclick" : "click", this.eventData))) : t[n] && (t[n] = !1,
                this.dispatchEvent(t, i ? "rightupoutside" : "mouseupoutside", this.eventData))
            }
            ,
            i.prototype.onMouseMove = function(t) {
                this.mouse.originalEvent = t,
                this.eventData.data = this.mouse,
                this.eventData.stopped = !1,
                this.mapPositionToPoint(this.mouse.global, t.clientX, t.clientY),
                this.didMove = !0,
                this.cursor = "inherit",
                this.processInteractive(this.mouse.global, this.renderer._lastObjectRendered, this.processMouseMove, !0),
                this.currentCursorStyle !== this.cursor && (this.currentCursorStyle = this.cursor,
                this.interactionDOMElement.style.cursor = this.cursor)
            }
            ,
            i.prototype.processMouseMove = function(t, e) {
                this.processMouseOverOut(t, e),
                (!this.moveWhenInside || e) && this.dispatchEvent(t, "mousemove", this.eventData)
            }
            ,
            i.prototype.onMouseOut = function(t) {
                this.mouse.originalEvent = t,
                this.eventData.stopped = !1,
                this.mapPositionToPoint(this.mouse.global, t.clientX, t.clientY),
                this.interactionDOMElement.style.cursor = "inherit",
                this.mapPositionToPoint(this.mouse.global, t.clientX, t.clientY),
                this.processInteractive(this.mouse.global, this.renderer._lastObjectRendered, this.processMouseOverOut, !1)
            }
            ,
            i.prototype.processMouseOverOut = function(t, e) {
                e ? (t._over || (t._over = !0,
                this.dispatchEvent(t, "mouseover", this.eventData)),
                t.buttonMode && (this.cursor = t.defaultCursor)) : t._over && (t._over = !1,
                this.dispatchEvent(t, "mouseout", this.eventData))
            }
            ,
            i.prototype.onTouchStart = function(t) {
                this.autoPreventDefault && t.preventDefault();
                for (var e = t.changedTouches, r = e.length, i = 0; r > i; i++) {
                    var n = e[i]
                      , o = this.getTouchData(n);
                    o.originalEvent = t,
                    this.eventData.data = o,
                    this.eventData.stopped = !1,
                    this.processInteractive(o.global, this.renderer._lastObjectRendered, this.processTouchStart, !0),
                    this.returnTouchData(o)
                }
            }
            ,
            i.prototype.processTouchStart = function(t, e) {
                e && (t._touchDown = !0,
                this.dispatchEvent(t, "touchstart", this.eventData))
            }
            ,
            i.prototype.onTouchEnd = function(t) {
                this.autoPreventDefault && t.preventDefault();
                for (var e = t.changedTouches, r = e.length, i = 0; r > i; i++) {
                    var n = e[i]
                      , o = this.getTouchData(n);
                    o.originalEvent = t,
                    this.eventData.data = o,
                    this.eventData.stopped = !1,
                    this.processInteractive(o.global, this.renderer._lastObjectRendered, this.processTouchEnd, !0),
                    this.returnTouchData(o)
                }
            }
            ,
            i.prototype.processTouchEnd = function(t, e) {
                e ? (this.dispatchEvent(t, "touchend", this.eventData),
                t._touchDown && (t._touchDown = !1,
                this.dispatchEvent(t, "tap", this.eventData))) : t._touchDown && (t._touchDown = !1,
                this.dispatchEvent(t, "touchendoutside", this.eventData))
            }
            ,
            i.prototype.onTouchMove = function(t) {
                this.autoPreventDefault && t.preventDefault();
                for (var e = t.changedTouches, r = e.length, i = 0; r > i; i++) {
                    var n = e[i]
                      , o = this.getTouchData(n);
                    o.originalEvent = t,
                    this.eventData.data = o,
                    this.eventData.stopped = !1,
                    this.processInteractive(o.global, this.renderer._lastObjectRendered, this.processTouchMove, this.moveWhenInside),
                    this.returnTouchData(o)
                }
            }
            ,
            i.prototype.processTouchMove = function(t, e) {
                (!this.moveWhenInside || e) && this.dispatchEvent(t, "touchmove", this.eventData)
            }
            ,
            i.prototype.getTouchData = function(t) {
                var e = this.interactiveDataPool.pop();
                return e || (e = new o),
                e.identifier = t.identifier,
                this.mapPositionToPoint(e.global, t.clientX, t.clientY),
                navigator.isCocoonJS && (e.global.x = e.global.x / this.resolution,
                e.global.y = e.global.y / this.resolution),
                t.globalX = e.global.x,
                t.globalY = e.global.y,
                e
            }
            ,
            i.prototype.returnTouchData = function(t) {
                this.interactiveDataPool.push(t)
            }
            ,
            i.prototype.destroy = function() {
                this.removeEvents(),
                this.renderer = null ,
                this.mouse = null ,
                this.eventData = null ,
                this.interactiveDataPool = null ,
                this.interactionDOMElement = null ,
                this.onMouseUp = null ,
                this.processMouseUp = null ,
                this.onMouseDown = null ,
                this.processMouseDown = null ,
                this.onMouseMove = null ,
                this.processMouseMove = null ,
                this.onMouseOut = null ,
                this.processMouseOverOut = null ,
                this.onTouchStart = null ,
                this.processTouchStart = null ,
                this.onTouchEnd = null ,
                this.processTouchEnd = null ,
                this.onTouchMove = null ,
                this.processTouchMove = null ,
                this._tempPoint = null 
            }
            ,
            n.WebGLRenderer.registerPlugin("interaction", i),
            n.CanvasRenderer.registerPlugin("interaction", i)
        }
        , {
            "../core": 29,
            "./InteractionData": 116,
            "./interactiveTarget": 119
        }],
        118: [function(t, e, r) {
            e.exports = {
                InteractionData: t("./InteractionData"),
                InteractionManager: t("./InteractionManager"),
                interactiveTarget: t("./interactiveTarget")
            }
        }
        , {
            "./InteractionData": 116,
            "./InteractionManager": 117,
            "./interactiveTarget": 119
        }],
        119: [function(t, e, r) {
            var i = {
                interactive: !1,
                buttonMode: !1,
                interactiveChildren: !0,
                defaultCursor: "pointer",
                _over: !1,
                _touchDown: !1
            };
            e.exports = i
        }
        , {}],
        120: [function(t, e, r) {
            function i(t, e) {
                var r = {}
                  , i = t.data.getElementsByTagName("info")[0]
                  , n = t.data.getElementsByTagName("common")[0];
                r.font = i.getAttribute("face"),
                r.size = parseInt(i.getAttribute("size"), 10),
                r.lineHeight = parseInt(n.getAttribute("lineHeight"), 10),
                r.chars = {};
                for (var a = t.data.getElementsByTagName("char"), h = 0; h < a.length; h++) {
                    var u = parseInt(a[h].getAttribute("id"), 10)
                      , l = new o.Rectangle(parseInt(a[h].getAttribute("x"), 10) + e.frame.x,parseInt(a[h].getAttribute("y"), 10) + e.frame.y,parseInt(a[h].getAttribute("width"), 10),parseInt(a[h].getAttribute("height"), 10));
                    r.chars[u] = {
                        xOffset: parseInt(a[h].getAttribute("xoffset"), 10),
                        yOffset: parseInt(a[h].getAttribute("yoffset"), 10),
                        xAdvance: parseInt(a[h].getAttribute("xadvance"), 10),
                        kerning: {},
                        texture: new o.Texture(e.baseTexture,l)
                    }
                }
                var c = t.data.getElementsByTagName("kerning");
                for (h = 0; h < c.length; h++) {
                    var p = parseInt(c[h].getAttribute("first"), 10)
                      , d = parseInt(c[h].getAttribute("second"), 10)
                      , f = parseInt(c[h].getAttribute("amount"), 10);
                    r.chars[d] && (r.chars[d].kerning[p] = f)
                }
                t.bitmapFont = r,
                s.BitmapText.fonts[r.font] = r
            }
            var n = t("resource-loader").Resource
              , o = t("../core")
              , s = t("../extras")
              , a = t("path");
            e.exports = function() {
                return function(t, e) {
                    if (!t.data || !t.isXml)
                        return e();
                    if (0 === t.data.getElementsByTagName("page").length || 0 === t.data.getElementsByTagName("info").length || null  === t.data.getElementsByTagName("info")[0].getAttribute("face"))
                        return e();
                    var r = a.dirname(t.url);
                    "." === r && (r = ""),
                    this.baseUrl && r && ("/" === this.baseUrl.charAt(this.baseUrl.length - 1) && (r += "/"),
                    r = r.replace(this.baseUrl, "")),
                    r && "/" !== r.charAt(r.length - 1) && (r += "/");
                    var s = r + t.data.getElementsByTagName("page")[0].getAttribute("file");
                    if (o.utils.TextureCache[s])
                        i(t, o.utils.TextureCache[s]),
                        e();
                    else {
                        var h = {
                            crossOrigin: t.crossOrigin,
                            loadType: n.LOAD_TYPE.IMAGE,
                            metadata: t.metadata.imageMetadata
                        };
                        this.add(t.name + "_image", s, h, function(r) {
                            i(t, r.texture),
                            e()
                        })
                    }
                }
            }
        }
        , {
            "../core": 29,
            "../extras": 86,
            path: 2,
            "resource-loader": 16
        }],
        121: [function(t, e, r) {
            e.exports = {
                Loader: t("./loader"),
                bitmapFontParser: t("./bitmapFontParser"),
                spritesheetParser: t("./spritesheetParser"),
                textureParser: t("./textureParser"),
                Resource: t("resource-loader").Resource
            }
        }
        , {
            "./bitmapFontParser": 120,
            "./loader": 122,
            "./spritesheetParser": 123,
            "./textureParser": 124,
            "resource-loader": 16
        }],
        122: [function(t, e, r) {
            function i(t, e) {
                n.call(this, t, e);
                for (var r = 0; r < i._pixiMiddleware.length; ++r)
                    this.use(i._pixiMiddleware[r]())
            }
            var n = t("resource-loader")
              , o = t("./textureParser")
              , s = t("./spritesheetParser")
              , a = t("./bitmapFontParser");
            i.prototype = Object.create(n.prototype),
            i.prototype.constructor = i,
            e.exports = i,
            i._pixiMiddleware = [n.middleware.parsing.blob, o, s, a],
            i.addPixiMiddleware = function(t) {
                i._pixiMiddleware.push(t)
            }
            ;
            var h = n.Resource;
            h.setExtensionXhrType("fnt", h.XHR_RESPONSE_TYPE.DOCUMENT)
        }
        , {
            "./bitmapFontParser": 120,
            "./spritesheetParser": 123,
            "./textureParser": 124,
            "resource-loader": 16
        }],
        123: [function(t, e, r) {
            var i = t("resource-loader").Resource
              , n = t("path")
              , o = t("../core");
            e.exports = function() {
                return function(t, e) {
                    if (!t.data || !t.isJson || !t.data.frames)
                        return e();
                    var r = {
                        crossOrigin: t.crossOrigin,
                        loadType: i.LOAD_TYPE.IMAGE,
                        metadata: t.metadata.imageMetadata
                    }
                      , s = n.dirname(t.url.replace(this.baseUrl, ""))
                      , a = o.utils.getResolutionOfUrl(t.url);
                    this.add(t.name + "_image", s + "/" + t.data.meta.image, r, function(r) {
                        t.textures = {};
                        var i = t.data.frames;
                        for (var n in i) {
                            var s = i[n].frame;
                            if (s) {
                                var h = null 
                                  , u = null ;
                                if (h = i[n].rotated ? new o.Rectangle(s.x,s.y,s.h,s.w) : new o.Rectangle(s.x,s.y,s.w,s.h),
                                i[n].trimmed && (u = new o.Rectangle(i[n].spriteSourceSize.x / a,i[n].spriteSourceSize.y / a,i[n].sourceSize.w / a,i[n].sourceSize.h / a)),
                                i[n].rotated) {
                                    var l = h.width;
                                    h.width = h.height,
                                    h.height = l
                                }
                                h.x /= a,
                                h.y /= a,
                                h.width /= a,
                                h.height /= a,
                                t.textures[n] = new o.Texture(r.texture.baseTexture,h,h.clone(),u,i[n].rotated ? 2 : 0),
                                o.utils.TextureCache[n] = t.textures[n]
                            }
                        }
                        e()
                    })
                }
            }
        }
        , {
            "../core": 29,
            path: 2,
            "resource-loader": 16
        }],
        124: [function(t, e, r) {
            var i = t("../core");
            e.exports = function() {
                return function(t, e) {
                    if (t.data && t.isImage) {
                        var r = new i.BaseTexture(t.data,null ,i.utils.getResolutionOfUrl(t.url));
                        r.imageUrl = t.url,
                        t.texture = new i.Texture(r),
                        i.utils.BaseTextureCache[t.url] = r,
                        i.utils.TextureCache[t.url] = t.texture
                    }
                    e()
                }
            }
        }
        , {
            "../core": 29
        }],
        125: [function(t, e, r) {
            function i(t, e, r, o, s) {
                n.Container.call(this),
                this._texture = null ,
                this.uvs = r || new Float32Array([0, 0, 1, 0, 1, 1, 0, 1]),
                this.vertices = e || new Float32Array([0, 0, 100, 0, 100, 100, 0, 100]),
                this.indices = o || new Uint16Array([0, 1, 3, 2]),
                this.dirty = !0,
                this.blendMode = n.BLEND_MODES.NORMAL,
                this.canvasPadding = 0,
                this.drawMode = s || i.DRAW_MODES.TRIANGLE_MESH,
                this.texture = t,
                this.shader = null 
            }
            var n = t("../core")
              , o = new n.Point
              , s = new n.Polygon;
            i.prototype = Object.create(n.Container.prototype),
            i.prototype.constructor = i,
            e.exports = i,
            Object.defineProperties(i.prototype, {
                texture: {
                    get: function() {
                        return this._texture
                    },
                    set: function(t) {
                        this._texture !== t && (this._texture = t,
                        t && (t.baseTexture.hasLoaded ? this._onTextureUpdate() : t.once("update", this._onTextureUpdate, this)))
                    }
                }
            }),
            i.prototype._renderWebGL = function(t) {
                t.setObjectRenderer(t.plugins.mesh),
                t.plugins.mesh.render(this)
            }
            ,
            i.prototype._renderCanvas = function(t) {
                var e = t.context
                  , r = this.worldTransform;
                t.roundPixels ? e.setTransform(r.a, r.b, r.c, r.d, 0 | r.tx, 0 | r.ty) : e.setTransform(r.a, r.b, r.c, r.d, r.tx, r.ty),
                this.drawMode === i.DRAW_MODES.TRIANGLE_MESH ? this._renderCanvasTriangleMesh(e) : this._renderCanvasTriangles(e)
            }
            ,
            i.prototype._renderCanvasTriangleMesh = function(t) {
                for (var e = this.vertices, r = this.uvs, i = e.length / 2, n = 0; i - 2 > n; n++) {
                    var o = 2 * n;
                    this._renderCanvasDrawTriangle(t, e, r, o, o + 2, o + 4)
                }
            }
            ,
            i.prototype._renderCanvasTriangles = function(t) {
                for (var e = this.vertices, r = this.uvs, i = this.indices, n = i.length, o = 0; n > o; o += 3) {
                    var s = 2 * i[o]
                      , a = 2 * i[o + 1]
                      , h = 2 * i[o + 2];
                    this._renderCanvasDrawTriangle(t, e, r, s, a, h)
                }
            }
            ,
            i.prototype._renderCanvasDrawTriangle = function(t, e, r, i, n, o) {
                var s = this._texture.baseTexture.source
                  , a = this._texture.baseTexture.width
                  , h = this._texture.baseTexture.height
                  , u = e[i]
                  , l = e[n]
                  , c = e[o]
                  , p = e[i + 1]
                  , d = e[n + 1]
                  , f = e[o + 1]
                  , v = r[i] * a
                  , g = r[n] * a
                  , m = r[o] * a
                  , y = r[i + 1] * h
                  , x = r[n + 1] * h
                  , b = r[o + 1] * h;
                if (this.canvasPadding > 0) {
                    var _ = this.canvasPadding / this.worldTransform.a
                      , T = this.canvasPadding / this.worldTransform.d
                      , E = (u + l + c) / 3
                      , S = (p + d + f) / 3
                      , w = u - E
                      , A = p - S
                      , C = Math.sqrt(w * w + A * A);
                    u = E + w / C * (C + _),
                    p = S + A / C * (C + T),
                    w = l - E,
                    A = d - S,
                    C = Math.sqrt(w * w + A * A),
                    l = E + w / C * (C + _),
                    d = S + A / C * (C + T),
                    w = c - E,
                    A = f - S,
                    C = Math.sqrt(w * w + A * A),
                    c = E + w / C * (C + _),
                    f = S + A / C * (C + T)
                }
                t.save(),
                t.beginPath(),
                t.moveTo(u, p),
                t.lineTo(l, d),
                t.lineTo(c, f),
                t.closePath(),
                t.clip();
                var M = v * x + y * m + g * b - x * m - y * g - v * b
                  , R = u * x + y * c + l * b - x * c - y * l - u * b
                  , O = v * l + u * m + g * c - l * m - u * g - v * c
                  , P = v * x * c + y * l * m + u * g * b - u * x * m - y * g * c - v * l * b
                  , F = p * x + y * f + d * b - x * f - y * d - p * b
                  , D = v * d + p * m + g * f - d * m - p * g - v * f
                  , B = v * x * f + y * d * m + p * g * b - p * x * m - y * g * f - v * d * b;
                t.transform(R / M, F / M, O / M, D / M, P / M, B / M),
                t.drawImage(s, 0, 0),
                t.restore()
            }
            ,
            i.prototype.renderMeshFlat = function(t) {
                var e = this.context
                  , r = t.vertices
                  , i = r.length / 2;
                e.beginPath();
                for (var n = 1; i - 2 > n; n++) {
                    var o = 2 * n
                      , s = r[o]
                      , a = r[o + 2]
                      , h = r[o + 4]
                      , u = r[o + 1]
                      , l = r[o + 3]
                      , c = r[o + 5];
                    e.moveTo(s, u),
                    e.lineTo(a, l),
                    e.lineTo(h, c)
                }
                e.fillStyle = "#FF0000",
                e.fill(),
                e.closePath()
            }
            ,
            i.prototype._onTextureUpdate = function() {
                this.updateFrame = !0
            }
            ,
            i.prototype.getBounds = function(t) {
                if (!this._currentBounds) {
                    for (var e = t || this.worldTransform, r = e.a, i = e.b, o = e.c, s = e.d, a = e.tx, h = e.ty, u = -(1 / 0), l = -(1 / 0), c = 1 / 0, p = 1 / 0, d = this.vertices, f = 0, v = d.length; v > f; f += 2) {
                        var g = d[f]
                          , m = d[f + 1]
                          , y = r * g + o * m + a
                          , x = s * m + i * g + h;
                        c = c > y ? y : c,
                        p = p > x ? x : p,
                        u = y > u ? y : u,
                        l = x > l ? x : l
                    }
                    if (c === -(1 / 0) || l === 1 / 0)
                        return n.Rectangle.EMPTY;
                    var b = this._bounds;
                    b.x = c,
                    b.width = u - c,
                    b.y = p,
                    b.height = l - p,
                    this._currentBounds = b
                }
                return this._currentBounds
            }
            ,
            i.prototype.containsPoint = function(t) {
                if (!this.getBounds().contains(t.x, t.y))
                    return !1;
                this.worldTransform.applyInverse(t, o);
                var e, r, n = this.vertices, a = s.points;
                if (this.drawMode === i.DRAW_MODES.TRIANGLES) {
                    var h = this.indices;
                    for (r = this.indices.length,
                    e = 0; r > e; e += 3) {
                        var u = 2 * h[e]
                          , l = 2 * h[e + 1]
                          , c = 2 * h[e + 2];
                        if (a[0] = n[u],
                        a[1] = n[u + 1],
                        a[2] = n[l],
                        a[3] = n[l + 1],
                        a[4] = n[c],
                        a[5] = n[c + 1],
                        s.contains(o.x, o.y))
                            return !0
                    }
                } else
                    for (r = n.length,
                    e = 0; r > e; e += 6)
                        if (a[0] = n[e],
                        a[1] = n[e + 1],
                        a[2] = n[e + 2],
                        a[3] = n[e + 3],
                        a[4] = n[e + 4],
                        a[5] = n[e + 5],
                        s.contains(o.x, o.y))
                            return !0;
                return !1
            }
            ,
            i.DRAW_MODES = {
                TRIANGLE_MESH: 0,
                TRIANGLES: 1
            }
        }
        , {
            "../core": 29
        }],
        126: [function(t, e, r) {
            function i(t, e, r) {
                n.call(this, t),
                this._ready = !0,
                this.segmentsX = e || 10,
                this.segmentsY = r || 10,
                this.drawMode = n.DRAW_MODES.TRIANGLES,
                this.refresh()
            }
            var n = t("./Mesh");
            i.prototype = Object.create(n.prototype),
            i.prototype.constructor = i,
            e.exports = i,
            i.prototype.refresh = function() {
                var t = this.segmentsX * this.segmentsY
                  , e = []
                  , r = []
                  , i = []
                  , n = []
                  , o = this.texture
                  , s = this.segmentsX - 1
                  , a = this.segmentsY - 1
                  , h = 0
                  , u = o.width / s
                  , l = o.height / a;
                for (h = 0; t > h; h++) {
                    var c = h % this.segmentsX
                      , p = h / this.segmentsX | 0;
                    e.push(c * u, p * l),
                    i.push(o._uvs.x0 + (o._uvs.x1 - o._uvs.x0) * (c / (this.segmentsX - 1)), o._uvs.y0 + (o._uvs.y3 - o._uvs.y0) * (p / (this.segmentsY - 1)))
                }
                var d = s * a;
                for (h = 0; d > h; h++) {
                    var f = h % s
                      , v = h / s | 0
                      , g = v * this.segmentsX + f
                      , m = v * this.segmentsX + f + 1
                      , y = (v + 1) * this.segmentsX + f
                      , x = (v + 1) * this.segmentsX + f + 1;
                    n.push(g, m, y),
                    n.push(m, x, y)
                }
                this.vertices = new Float32Array(e),
                this.uvs = new Float32Array(i),
                this.colors = new Float32Array(r),
                this.indices = new Uint16Array(n)
            }
            ,
            i.prototype._onTextureUpdate = function() {
                n.prototype._onTextureUpdate.call(this),
                this._ready && this.refresh()
            }
        }
        , {
            "./Mesh": 125
        }],
        127: [function(t, e, r) {
            function i(t, e) {
                n.call(this, t),
                this.points = e,
                this.vertices = new Float32Array(4 * e.length),
                this.uvs = new Float32Array(4 * e.length),
                this.colors = new Float32Array(2 * e.length),
                this.indices = new Uint16Array(2 * e.length),
                this._ready = !0,
                this.refresh()
            }
            var n = t("./Mesh")
              , o = t("../core");
            i.prototype = Object.create(n.prototype),
            i.prototype.constructor = i,
            e.exports = i,
            i.prototype.refresh = function() {
                var t = this.points;
                if (!(t.length < 1) && this._texture._uvs) {
                    var e = this.uvs
                      , r = this.indices
                      , i = this.colors
                      , n = this._texture._uvs
                      , s = new o.Point(n.x0,n.y0)
                      , a = new o.Point(n.x2 - n.x0,n.y2 - n.y0);
                    e[0] = 0 + s.x,
                    e[1] = 0 + s.y,
                    e[2] = 0 + s.x,
                    e[3] = 1 * a.y + s.y,
                    i[0] = 1,
                    i[1] = 1,
                    r[0] = 0,
                    r[1] = 1;
                    for (var h, u, l, c = t.length, p = 1; c > p; p++)
                        h = t[p],
                        u = 4 * p,
                        l = p / (c - 1),
                        e[u] = l * a.x + s.x,
                        e[u + 1] = 0 + s.y,
                        e[u + 2] = l * a.x + s.x,
                        e[u + 3] = 1 * a.y + s.y,
                        u = 2 * p,
                        i[u] = 1,
                        i[u + 1] = 1,
                        u = 2 * p,
                        r[u] = u,
                        r[u + 1] = u + 1;
                    this.dirty = !0
                }
            }
            ,
            i.prototype._onTextureUpdate = function() {
                n.prototype._onTextureUpdate.call(this),
                this._ready && this.refresh()
            }
            ,
            i.prototype.updateTransform = function() {
                var t = this.points;
                if (!(t.length < 1)) {
                    for (var e, r, i, n, o, s, a = t[0], h = 0, u = 0, l = this.vertices, c = t.length, p = 0; c > p; p++)
                        r = t[p],
                        i = 4 * p,
                        e = p < t.length - 1 ? t[p + 1] : r,
                        u = -(e.x - a.x),
                        h = e.y - a.y,
                        n = 10 * (1 - p / (c - 1)),
                        n > 1 && (n = 1),
                        o = Math.sqrt(h * h + u * u),
                        s = this._texture.height / 2,
                        h /= o,
                        u /= o,
                        h *= s,
                        u *= s,
                        l[i] = r.x + h,
                        l[i + 1] = r.y + u,
                        l[i + 2] = r.x - h,
                        l[i + 3] = r.y - u,
                        a = r;
                    this.containerUpdateTransform()
                }
            }
        }
        , {
            "../core": 29,
            "./Mesh": 125
        }],
        128: [function(t, e, r) {
            e.exports = {
                Mesh: t("./Mesh"),
                Plane: t("./Plane"),
                Rope: t("./Rope"),
                MeshRenderer: t("./webgl/MeshRenderer"),
                MeshShader: t("./webgl/MeshShader")
            }
        }
        , {
            "./Mesh": 125,
            "./Plane": 126,
            "./Rope": 127,
            "./webgl/MeshRenderer": 129,
            "./webgl/MeshShader": 130
        }],
        129: [function(t, e, r) {
            function i(t) {
                n.ObjectRenderer.call(this, t),
                this.indices = new Uint16Array(15e3);
                for (var e = 0, r = 0; 15e3 > e; e += 6,
                r += 4)
                    this.indices[e + 0] = r + 0,
                    this.indices[e + 1] = r + 1,
                    this.indices[e + 2] = r + 2,
                    this.indices[e + 3] = r + 0,
                    this.indices[e + 4] = r + 2,
                    this.indices[e + 5] = r + 3;
                this.currentShader = null 
            }
            var n = t("../../core")
              , o = t("../Mesh");
            i.prototype = Object.create(n.ObjectRenderer.prototype),
            i.prototype.constructor = i,
            e.exports = i,
            n.WebGLRenderer.registerPlugin("mesh", i),
            i.prototype.onContextChange = function() {}
            ,
            i.prototype.render = function(t) {
                t._vertexBuffer || this._initWebGL(t);
                var e = this.renderer
                  , r = e.gl
                  , i = t._texture.baseTexture
                  , n = t.shader
                  , s = t.drawMode === o.DRAW_MODES.TRIANGLE_MESH ? r.TRIANGLE_STRIP : r.TRIANGLES;
                e.blendModeManager.setBlendMode(t.blendMode),
                n = n ? n.shaders[r.id] || n.getShader(e) : e.shaderManager.plugins.meshShader,
                this.renderer.shaderManager.setShader(n),
                n.uniforms.translationMatrix.value = t.worldTransform.toArray(!0),
                n.uniforms.projectionMatrix.value = e.currentRenderTarget.projectionMatrix.toArray(!0),
                n.uniforms.alpha.value = t.worldAlpha,
                n.syncUniforms(),
                t.dirty ? (t.dirty = !1,
                r.bindBuffer(r.ARRAY_BUFFER, t._vertexBuffer),
                r.bufferData(r.ARRAY_BUFFER, t.vertices, r.STATIC_DRAW),
                r.vertexAttribPointer(n.attributes.aVertexPosition, 2, r.FLOAT, !1, 0, 0),
                r.bindBuffer(r.ARRAY_BUFFER, t._uvBuffer),
                r.bufferData(r.ARRAY_BUFFER, t.uvs, r.STATIC_DRAW),
                r.vertexAttribPointer(n.attributes.aTextureCoord, 2, r.FLOAT, !1, 0, 0),
                r.activeTexture(r.TEXTURE0),
                i._glTextures[r.id] ? r.bindTexture(r.TEXTURE_2D, i._glTextures[r.id]) : this.renderer.updateTexture(i),
                r.bindBuffer(r.ELEMENT_ARRAY_BUFFER, t._indexBuffer),
                r.bufferData(r.ELEMENT_ARRAY_BUFFER, t.indices, r.STATIC_DRAW)) : (r.bindBuffer(r.ARRAY_BUFFER, t._vertexBuffer),
                r.bufferSubData(r.ARRAY_BUFFER, 0, t.vertices),
                r.vertexAttribPointer(n.attributes.aVertexPosition, 2, r.FLOAT, !1, 0, 0),
                r.bindBuffer(r.ARRAY_BUFFER, t._uvBuffer),
                r.vertexAttribPointer(n.attributes.aTextureCoord, 2, r.FLOAT, !1, 0, 0),
                r.activeTexture(r.TEXTURE0),
                i._glTextures[r.id] ? r.bindTexture(r.TEXTURE_2D, i._glTextures[r.id]) : this.renderer.updateTexture(i),
                r.bindBuffer(r.ELEMENT_ARRAY_BUFFER, t._indexBuffer),
                r.bufferSubData(r.ELEMENT_ARRAY_BUFFER, 0, t.indices)),
                r.drawElements(s, t.indices.length, r.UNSIGNED_SHORT, 0)
            }
            ,
            i.prototype._initWebGL = function(t) {
                var e = this.renderer.gl;
                t._vertexBuffer = e.createBuffer(),
                t._indexBuffer = e.createBuffer(),
                t._uvBuffer = e.createBuffer(),
                e.bindBuffer(e.ARRAY_BUFFER, t._vertexBuffer),
                e.bufferData(e.ARRAY_BUFFER, t.vertices, e.DYNAMIC_DRAW),
                e.bindBuffer(e.ARRAY_BUFFER, t._uvBuffer),
                e.bufferData(e.ARRAY_BUFFER, t.uvs, e.STATIC_DRAW),
                t.colors && (t._colorBuffer = e.createBuffer(),
                e.bindBuffer(e.ARRAY_BUFFER, t._colorBuffer),
                e.bufferData(e.ARRAY_BUFFER, t.colors, e.STATIC_DRAW)),
                e.bindBuffer(e.ELEMENT_ARRAY_BUFFER, t._indexBuffer),
                e.bufferData(e.ELEMENT_ARRAY_BUFFER, t.indices, e.STATIC_DRAW)
            }
            ,
            i.prototype.flush = function() {}
            ,
            i.prototype.start = function() {
                this.currentShader = null 
            }
            ,
            i.prototype.destroy = function() {
                n.ObjectRenderer.prototype.destroy.call(this)
            }
        }
        , {
            "../../core": 29,
            "../Mesh": 125
        }],
        130: [function(t, e, r) {
            function i(t) {
                n.Shader.call(this, t, ["precision lowp float;", "attribute vec2 aVertexPosition;", "attribute vec2 aTextureCoord;", "uniform mat3 translationMatrix;", "uniform mat3 projectionMatrix;", "varying vec2 vTextureCoord;", "void main(void){", "   gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);", "   vTextureCoord = aTextureCoord;", "}"].join("\n"), ["precision lowp float;", "varying vec2 vTextureCoord;", "uniform float alpha;", "uniform sampler2D uSampler;", "void main(void){", "   gl_FragColor = texture2D(uSampler, vTextureCoord) * alpha ;", "}"].join("\n"), {
                    alpha: {
                        type: "1f",
                        value: 0
                    },
                    translationMatrix: {
                        type: "mat3",
                        value: new Float32Array(9)
                    },
                    projectionMatrix: {
                        type: "mat3",
                        value: new Float32Array(9)
                    }
                }, {
                    aVertexPosition: 0,
                    aTextureCoord: 0
                })
            }
            var n = t("../../core");
            i.prototype = Object.create(n.Shader.prototype),
            i.prototype.constructor = i,
            e.exports = i,
            n.ShaderManager.registerPlugin("meshShader", i)
        }
        , {
            "../../core": 29
        }],
        131: [function(t, e, r) {
            Math.sign || (Math.sign = function(t) {
                return t = +t,
                0 === t || isNaN(t) ? t : t > 0 ? 1 : -1
            }
            )
        }
        , {}],
        132: [function(t, e, r) {
            Object.assign || (Object.assign = t("object-assign"))
        }
        , {
            "object-assign": 11
        }],
        133: [function(t, e, r) {
            t("./Object.assign"),
            t("./requestAnimationFrame"),
            t("./Math.sign")
        }
        , {
            "./Math.sign": 131,
            "./Object.assign": 132,
            "./requestAnimationFrame": 134
        }],
        134: [function(t, e, r) {
            (function(t) {
                if (Date.now && Date.prototype.getTime || (Date.now = function() {
                    return (new Date).getTime()
                }
                ),
                !t.performance || !t.performance.now) {
                    var e = Date.now();
                    t.performance || (t.performance = {}),
                    t.performance.now = function() {
                        return Date.now() - e
                    }
                }
                for (var r = Date.now(), i = ["ms", "moz", "webkit", "o"], n = 0; n < i.length && !t.requestAnimationFrame; ++n)
                    t.requestAnimationFrame = t[i[n] + "RequestAnimationFrame"],
                    t.cancelAnimationFrame = t[i[n] + "CancelAnimationFrame"] || t[i[n] + "CancelRequestAnimationFrame"];
                t.requestAnimationFrame || (t.requestAnimationFrame = function(t) {
                    if ("function" != typeof t)
                        throw new TypeError(t + "is not a function");
                    var e = Date.now()
                      , i = 16 + r - e;
                    return 0 > i && (i = 0),
                    r = e,
                    setTimeout(function() {
                        r = Date.now(),
                        t(performance.now())
                    }, i)
                }
                ),
                t.cancelAnimationFrame || (t.cancelAnimationFrame = function(t) {
                    clearTimeout(t)
                }
                )
            }
            ).call(this, "undefined" != typeof global ? global : "undefined" != typeof self ? self : "undefined" != typeof window ? window : {})
        }
        , {}]
    }, {}, [115])(115)
});
//# sourceMappingURL=pixi.min.js.map
;// stats.js - http://github.com/mrdoob/stats.js
var Stats = function() {
    function f(a, e, b) {
        a = document.createElement(a);
        a.id = e;
        a.style.cssText = b;
        return a
    }
    function l(a, e, b) {
        var c = f("div", a, "padding:0 0 3px 3px;text-align:left;background:" + b)
          , d = f("div", a + "Text", "font-family:Helvetica,Arial,sans-serif;font-size:9px;font-weight:bold;line-height:15px;color:" + e);
        d.innerHTML = a.toUpperCase();
        c.appendChild(d);
        a = f("div", a + "Graph", "width:74px;height:30px;background:" + e);
        c.appendChild(a);
        for (e = 0; 74 > e; e++)
            a.appendChild(f("span", "", "width:1px;height:30px;float:left;opacity:0.9;background:" + 
            b));
        return c
    }
    function m(a) {
        for (var b = c.children, d = 0; d < b.length; d++)
            b[d].style.display = d === a ? "block" : "none";
        n = a
    }
    function p(a, b) {
        a.appendChild(a.firstChild).style.height = Math.min(30, 30 - 30 * b) + "px"
    }
    var q = self.performance && self.performance.now ? self.performance.now.bind(performance) : Date.now
      , k = q()
      , r = k
      , t = 0
      , n = 0
      , c = f("div", "stats", "width:80px;opacity:0.9;cursor:pointer");
    c.addEventListener("mousedown", function(a) {
        a.preventDefault();
        m(++n % c.children.length)
    }, !1);
    var d = 0
      , u = Infinity
      , v = 0
      , b = l("fps", "#0ff", "#002")
      , 
    A = b.children[0]
      , B = b.children[1];
    c.appendChild(b);
    var g = 0
      , w = Infinity
      , x = 0
      , b = l("ms", "#0f0", "#020")
      , C = b.children[0]
      , D = b.children[1];
    c.appendChild(b);
    if (self.performance && self.performance.memory) {
        var h = 0
          , y = Infinity
          , z = 0
          , b = l("mb", "#f08", "#201")
          , E = b.children[0]
          , F = b.children[1];
        c.appendChild(b)
    }
    m(n);
    return {
        REVISION: 14,
        domElement: c,
        setMode: m,
        begin: function() {
            k = q()
        },
        end: function() {
            var a = q();
            g = a - k;
            w = Math.min(w, g);
            x = Math.max(x, g);
            C.textContent = (g | 0) + " MS (" + (w | 0) + "-" + (x | 0) + ")";
            p(D, g / 200);
            t++;
            if (a > r + 1E3 && (d = Math.round(1E3 * 
            t / (a - r)),
            u = Math.min(u, d),
            v = Math.max(v, d),
            A.textContent = d + " FPS (" + u + "-" + v + ")",
            p(B, d / 100),
            r = a,
            t = 0,
            void 0 !== h)) {
                var b = performance.memory.usedJSHeapSize
                  , c = performance.memory.jsHeapSizeLimit;
                h = Math.round(9.54E-7 * b);
                y = Math.min(y, h);
                z = Math.max(z, h);
                E.textContent = h + " MB (" + y + "-" + z + ")";
                p(F, b / c)
            }
            return a
        },
        update: function() {
            k = this.end()
        }
    }
}
;
"object" === typeof module && (module.exports = Stats);
;var _gsScope = "undefined" != typeof module && module.exports && "undefined" != typeof global ? global : this || window;
(_gsScope._gsQueue || (_gsScope._gsQueue = [])).push(function() {
    "use strict";
    _gsScope._gsDefine("TweenMax", ["core.Animation", "core.SimpleTimeline", "TweenLite"], function(a, b, c) {
        var d = function(a) {
            var b, c = [], d = a.length;
            for (b = 0; b !== d; c.push(a[b++]))
                ;
            return c
        }
          , e = function(a, b, c) {
            var d, e, f = a.cycle;
            for (d in f)
                e = f[d],
                a[d] = "function" == typeof e ? e.call(b[c], c) : e[c % e.length];
            delete a.cycle
        }
          , f = function(a, b, d) {
            c.call(this, a, b, d),
            this._cycle = 0,
            this._yoyo = this.vars.yoyo === !0,
            this._repeat = this.vars.repeat || 0,
            this._repeatDelay = this.vars.repeatDelay || 0,
            this._dirty = !0,
            this.render = f.prototype.render
        }
          , g = 1e-10
          , h = c._internals
          , i = h.isSelector
          , j = h.isArray
          , k = f.prototype = c.to({}, .1, {})
          , l = [];
        f.version = "1.18.2",
        k.constructor = f,
        k.kill()._gc = !1,
        f.killTweensOf = f.killDelayedCallsTo = c.killTweensOf,
        f.getTweensOf = c.getTweensOf,
        f.lagSmoothing = c.lagSmoothing,
        f.ticker = c.ticker,
        f.render = c.render,
        k.invalidate = function() {
            return this._yoyo = this.vars.yoyo === !0,
            this._repeat = this.vars.repeat || 0,
            this._repeatDelay = this.vars.repeatDelay || 0,
            this._uncache(!0),
            c.prototype.invalidate.call(this)
        }
        ,
        k.updateTo = function(a, b) {
            var d, e = this.ratio, f = this.vars.immediateRender || a.immediateRender;
            b && this._startTime < this._timeline._time && (this._startTime = this._timeline._time,
            this._uncache(!1),
            this._gc ? this._enabled(!0, !1) : this._timeline.insert(this, this._startTime - this._delay));
            for (d in a)
                this.vars[d] = a[d];
            if (this._initted || f)
                if (b)
                    this._initted = !1,
                    f && this.render(0, !0, !0);
                else if (this._gc && this._enabled(!0, !1),
                this._notifyPluginsOfEnabled && this._firstPT && c._onPluginEvent("_onDisable", this),
                this._time / this._duration > .998) {
                    var g = this._totalTime;
                    this.render(0, !0, !1),
                    this._initted = !1,
                    this.render(g, !0, !1)
                } else if (this._initted = !1,
                this._init(),
                this._time > 0 || f)
                    for (var h, i = 1 / (1 - e), j = this._firstPT; j; )
                        h = j.s + j.c,
                        j.c *= i,
                        j.s = h - j.c,
                        j = j._next;
            return this
        }
        ,
        k.render = function(a, b, c) {
            this._initted || 0 === this._duration && this.vars.repeat && this.invalidate();
            var d, e, f, i, j, k, l, m, n = this._dirty ? this.totalDuration() : this._totalDuration, o = this._time, p = this._totalTime, q = this._cycle, r = this._duration, s = this._rawPrevTime;
            if (a >= n - 1e-7 ? (this._totalTime = n,
            this._cycle = this._repeat,
            this._yoyo && 0 !== (1 & this._cycle) ? (this._time = 0,
            this.ratio = this._ease._calcEnd ? this._ease.getRatio(0) : 0) : (this._time = r,
            this.ratio = this._ease._calcEnd ? this._ease.getRatio(1) : 1),
            this._reversed || (d = !0,
            e = "onComplete",
            c = c || this._timeline.autoRemoveChildren),
            0 === r && (this._initted || !this.vars.lazy || c) && (this._startTime === this._timeline._duration && (a = 0),
            (0 > s || 0 >= a && a >= -1e-7 || s === g && "isPause" !== this.data) && s !== a && (c = !0,
            s > g && (e = "onReverseComplete")),
            this._rawPrevTime = m = !b || a || s === a ? a : g)) : 1e-7 > a ? (this._totalTime = this._time = this._cycle = 0,
            this.ratio = this._ease._calcEnd ? this._ease.getRatio(0) : 0,
            (0 !== p || 0 === r && s > 0) && (e = "onReverseComplete",
            d = this._reversed),
            0 > a && (this._active = !1,
            0 === r && (this._initted || !this.vars.lazy || c) && (s >= 0 && (c = !0),
            this._rawPrevTime = m = !b || a || s === a ? a : g)),
            this._initted || (c = !0)) : (this._totalTime = this._time = a,
            0 !== this._repeat && (i = r + this._repeatDelay,
            this._cycle = this._totalTime / i >> 0,
            0 !== this._cycle && this._cycle === this._totalTime / i && this._cycle--,
            this._time = this._totalTime - this._cycle * i,
            this._yoyo && 0 !== (1 & this._cycle) && (this._time = r - this._time),
            this._time > r ? this._time = r : this._time < 0 && (this._time = 0)),
            this._easeType ? (j = this._time / r,
            k = this._easeType,
            l = this._easePower,
            (1 === k || 3 === k && j >= .5) && (j = 1 - j),
            3 === k && (j *= 2),
            1 === l ? j *= j : 2 === l ? j *= j * j : 3 === l ? j *= j * j * j : 4 === l && (j *= j * j * j * j),
            1 === k ? this.ratio = 1 - j : 2 === k ? this.ratio = j : this._time / r < .5 ? this.ratio = j / 2 : this.ratio = 1 - j / 2) : this.ratio = this._ease.getRatio(this._time / r)),
            o === this._time && !c && q === this._cycle)
                return void (p !== this._totalTime && this._onUpdate && (b || this._callback("onUpdate")));
            if (!this._initted) {
                if (this._init(),
                !this._initted || this._gc)
                    return;
                if (!c && this._firstPT && (this.vars.lazy !== !1 && this._duration || this.vars.lazy && !this._duration))
                    return this._time = o,
                    this._totalTime = p,
                    this._rawPrevTime = s,
                    this._cycle = q,
                    h.lazyTweens.push(this),
                    void (this._lazy = [a, b]);
                this._time && !d ? this.ratio = this._ease.getRatio(this._time / r) : d && this._ease._calcEnd && (this.ratio = this._ease.getRatio(0 === this._time ? 0 : 1))
            }
            for (this._lazy !== !1 && (this._lazy = !1),
            this._active || !this._paused && this._time !== o && a >= 0 && (this._active = !0),
            0 === p && (2 === this._initted && a > 0 && this._init(),
            this._startAt && (a >= 0 ? this._startAt.render(a, b, c) : e || (e = "_dummyGS")),
            this.vars.onStart && (0 !== this._totalTime || 0 === r) && (b || this._callback("onStart"))),
            f = this._firstPT; f; )
                f.f ? f.t[f.p](f.c * this.ratio + f.s) : f.t[f.p] = f.c * this.ratio + f.s,
                f = f._next;
            this._onUpdate && (0 > a && this._startAt && this._startTime && this._startAt.render(a, b, c),
            b || (this._totalTime !== p || d) && this._callback("onUpdate")),
            this._cycle !== q && (b || this._gc || this.vars.onRepeat && this._callback("onRepeat")),
            e && (!this._gc || c) && (0 > a && this._startAt && !this._onUpdate && this._startTime && this._startAt.render(a, b, c),
            d && (this._timeline.autoRemoveChildren && this._enabled(!1, !1),
            this._active = !1),
            !b && this.vars[e] && this._callback(e),
            0 === r && this._rawPrevTime === g && m !== g && (this._rawPrevTime = 0))
        }
        ,
        f.to = function(a, b, c) {
            return new f(a,b,c)
        }
        ,
        f.from = function(a, b, c) {
            return c.runBackwards = !0,
            c.immediateRender = 0 != c.immediateRender,
            new f(a,b,c)
        }
        ,
        f.fromTo = function(a, b, c, d) {
            return d.startAt = c,
            d.immediateRender = 0 != d.immediateRender && 0 != c.immediateRender,
            new f(a,b,d)
        }
        ,
        f.staggerTo = f.allTo = function(a, b, g, h, k, m, n) {
            h = h || 0;
            var o, p, q, r, s = 0, t = [], u = function() {
                g.onComplete && g.onComplete.apply(g.onCompleteScope || this, arguments),
                k.apply(n || g.callbackScope || this, m || l)
            }
            , v = g.cycle, w = g.startAt && g.startAt.cycle;
            for (j(a) || ("string" == typeof a && (a = c.selector(a) || a),
            i(a) && (a = d(a))),
            a = a || [],
            0 > h && (a = d(a),
            a.reverse(),
            h *= -1),
            o = a.length - 1,
            q = 0; o >= q; q++) {
                p = {};
                for (r in g)
                    p[r] = g[r];
                if (v && e(p, a, q),
                w) {
                    w = p.startAt = {};
                    for (r in g.startAt)
                        w[r] = g.startAt[r];
                    e(p.startAt, a, q)
                }
                p.delay = s + (p.delay || 0),
                q === o && k && (p.onComplete = u),
                t[q] = new f(a[q],b,p),
                s += h
            }
            return t
        }
        ,
        f.staggerFrom = f.allFrom = function(a, b, c, d, e, g, h) {
            return c.runBackwards = !0,
            c.immediateRender = 0 != c.immediateRender,
            f.staggerTo(a, b, c, d, e, g, h)
        }
        ,
        f.staggerFromTo = f.allFromTo = function(a, b, c, d, e, g, h, i) {
            return d.startAt = c,
            d.immediateRender = 0 != d.immediateRender && 0 != c.immediateRender,
            f.staggerTo(a, b, d, e, g, h, i)
        }
        ,
        f.delayedCall = function(a, b, c, d, e) {
            return new f(b,0,{
                delay: a,
                onComplete: b,
                onCompleteParams: c,
                callbackScope: d,
                onReverseComplete: b,
                onReverseCompleteParams: c,
                immediateRender: !1,
                useFrames: e,
                overwrite: 0
            })
        }
        ,
        f.set = function(a, b) {
            return new f(a,0,b)
        }
        ,
        f.isTweening = function(a) {
            return c.getTweensOf(a, !0).length > 0
        }
        ;
        var m = function(a, b) {
            for (var d = [], e = 0, f = a._first; f; )
                f instanceof c ? d[e++] = f : (b && (d[e++] = f),
                d = d.concat(m(f, b)),
                e = d.length),
                f = f._next;
            return d
        }
          , n = f.getAllTweens = function(b) {
            return m(a._rootTimeline, b).concat(m(a._rootFramesTimeline, b))
        }
        ;
        f.killAll = function(a, c, d, e) {
            null  == c && (c = !0),
            null  == d && (d = !0);
            var f, g, h, i = n(0 != e), j = i.length, k = c && d && e;
            for (h = 0; j > h; h++)
                g = i[h],
                (k || g instanceof b || (f = g.target === g.vars.onComplete) && d || c && !f) && (a ? g.totalTime(g._reversed ? 0 : g.totalDuration()) : g._enabled(!1, !1))
        }
        ,
        f.killChildTweensOf = function(a, b) {
            if (null  != a) {
                var e, g, k, l, m, n = h.tweenLookup;
                if ("string" == typeof a && (a = c.selector(a) || a),
                i(a) && (a = d(a)),
                j(a))
                    for (l = a.length; --l > -1; )
                        f.killChildTweensOf(a[l], b);
                else {
                    e = [];
                    for (k in n)
                        for (g = n[k].target.parentNode; g; )
                            g === a && (e = e.concat(n[k].tweens)),
                            g = g.parentNode;
                    for (m = e.length,
                    l = 0; m > l; l++)
                        b && e[l].totalTime(e[l].totalDuration()),
                        e[l]._enabled(!1, !1)
                }
            }
        }
        ;
        var o = function(a, c, d, e) {
            c = c !== !1,
            d = d !== !1,
            e = e !== !1;
            for (var f, g, h = n(e), i = c && d && e, j = h.length; --j > -1; )
                g = h[j],
                (i || g instanceof b || (f = g.target === g.vars.onComplete) && d || c && !f) && g.paused(a)
        }
        ;
        return f.pauseAll = function(a, b, c) {
            o(!0, a, b, c)
        }
        ,
        f.resumeAll = function(a, b, c) {
            o(!1, a, b, c)
        }
        ,
        f.globalTimeScale = function(b) {
            var d = a._rootTimeline
              , e = c.ticker.time;
            return arguments.length ? (b = b || g,
            d._startTime = e - (e - d._startTime) * d._timeScale / b,
            d = a._rootFramesTimeline,
            e = c.ticker.frame,
            d._startTime = e - (e - d._startTime) * d._timeScale / b,
            d._timeScale = a._rootTimeline._timeScale = b,
            b) : d._timeScale
        }
        ,
        k.progress = function(a) {
            return arguments.length ? this.totalTime(this.duration() * (this._yoyo && 0 !== (1 & this._cycle) ? 1 - a : a) + this._cycle * (this._duration + this._repeatDelay), !1) : this._time / this.duration()
        }
        ,
        k.totalProgress = function(a) {
            return arguments.length ? this.totalTime(this.totalDuration() * a, !1) : this._totalTime / this.totalDuration()
        }
        ,
        k.time = function(a, b) {
            return arguments.length ? (this._dirty && this.totalDuration(),
            a > this._duration && (a = this._duration),
            this._yoyo && 0 !== (1 & this._cycle) ? a = this._duration - a + this._cycle * (this._duration + this._repeatDelay) : 0 !== this._repeat && (a += this._cycle * (this._duration + this._repeatDelay)),
            this.totalTime(a, b)) : this._time
        }
        ,
        k.duration = function(b) {
            return arguments.length ? a.prototype.duration.call(this, b) : this._duration
        }
        ,
        k.totalDuration = function(a) {
            return arguments.length ? -1 === this._repeat ? this : this.duration((a - this._repeat * this._repeatDelay) / (this._repeat + 1)) : (this._dirty && (this._totalDuration = -1 === this._repeat ? 999999999999 : this._duration * (this._repeat + 1) + this._repeatDelay * this._repeat,
            this._dirty = !1),
            this._totalDuration)
        }
        ,
        k.repeat = function(a) {
            return arguments.length ? (this._repeat = a,
            this._uncache(!0)) : this._repeat
        }
        ,
        k.repeatDelay = function(a) {
            return arguments.length ? (this._repeatDelay = a,
            this._uncache(!0)) : this._repeatDelay
        }
        ,
        k.yoyo = function(a) {
            return arguments.length ? (this._yoyo = a,
            this) : this._yoyo
        }
        ,
        f
    }, !0),
    _gsScope._gsDefine("TimelineLite", ["core.Animation", "core.SimpleTimeline", "TweenLite"], function(a, b, c) {
        var d = function(a) {
            b.call(this, a),
            this._labels = {},
            this.autoRemoveChildren = this.vars.autoRemoveChildren === !0,
            this.smoothChildTiming = this.vars.smoothChildTiming === !0,
            this._sortChildren = !0,
            this._onUpdate = this.vars.onUpdate;
            var c, d, e = this.vars;
            for (d in e)
                c = e[d],
                i(c) && -1 !== c.join("").indexOf("{self}") && (e[d] = this._swapSelfInParams(c));
            i(e.tweens) && this.add(e.tweens, 0, e.align, e.stagger)
        }
          , e = 1e-10
          , f = c._internals
          , g = d._internals = {}
          , h = f.isSelector
          , i = f.isArray
          , j = f.lazyTweens
          , k = f.lazyRender
          , l = _gsScope._gsDefine.globals
          , m = function(a) {
            var b, c = {};
            for (b in a)
                c[b] = a[b];
            return c
        }
          , n = function(a, b, c) {
            var d, e, f = a.cycle;
            for (d in f)
                e = f[d],
                a[d] = "function" == typeof e ? e.call(b[c], c) : e[c % e.length];
            delete a.cycle
        }
          , o = g.pauseCallback = function() {}
          , p = function(a) {
            var b, c = [], d = a.length;
            for (b = 0; b !== d; c.push(a[b++]))
                ;
            return c
        }
          , q = d.prototype = new b;
        return d.version = "1.18.2",
        q.constructor = d,
        q.kill()._gc = q._forcingPlayhead = q._hasPause = !1,
        q.to = function(a, b, d, e) {
            var f = d.repeat && l.TweenMax || c;
            return b ? this.add(new f(a,b,d), e) : this.set(a, d, e)
        }
        ,
        q.from = function(a, b, d, e) {
            return this.add((d.repeat && l.TweenMax || c).from(a, b, d), e)
        }
        ,
        q.fromTo = function(a, b, d, e, f) {
            var g = e.repeat && l.TweenMax || c;
            return b ? this.add(g.fromTo(a, b, d, e), f) : this.set(a, e, f)
        }
        ,
        q.staggerTo = function(a, b, e, f, g, i, j, k) {
            var l, o, q = new d({
                onComplete: i,
                onCompleteParams: j,
                callbackScope: k,
                smoothChildTiming: this.smoothChildTiming
            }), r = e.cycle;
            for ("string" == typeof a && (a = c.selector(a) || a),
            a = a || [],
            h(a) && (a = p(a)),
            f = f || 0,
            0 > f && (a = p(a),
            a.reverse(),
            f *= -1),
            o = 0; o < a.length; o++)
                l = m(e),
                l.startAt && (l.startAt = m(l.startAt),
                l.startAt.cycle && n(l.startAt, a, o)),
                r && n(l, a, o),
                q.to(a[o], b, l, o * f);
            return this.add(q, g)
        }
        ,
        q.staggerFrom = function(a, b, c, d, e, f, g, h) {
            return c.immediateRender = 0 != c.immediateRender,
            c.runBackwards = !0,
            this.staggerTo(a, b, c, d, e, f, g, h)
        }
        ,
        q.staggerFromTo = function(a, b, c, d, e, f, g, h, i) {
            return d.startAt = c,
            d.immediateRender = 0 != d.immediateRender && 0 != c.immediateRender,
            this.staggerTo(a, b, d, e, f, g, h, i)
        }
        ,
        q.call = function(a, b, d, e) {
            return this.add(c.delayedCall(0, a, b, d), e)
        }
        ,
        q.set = function(a, b, d) {
            return d = this._parseTimeOrLabel(d, 0, !0),
            null  == b.immediateRender && (b.immediateRender = d === this._time && !this._paused),
            this.add(new c(a,0,b), d)
        }
        ,
        d.exportRoot = function(a, b) {
            a = a || {},
            null  == a.smoothChildTiming && (a.smoothChildTiming = !0);
            var e, f, g = new d(a), h = g._timeline;
            for (null  == b && (b = !0),
            h._remove(g, !0),
            g._startTime = 0,
            g._rawPrevTime = g._time = g._totalTime = h._time,
            e = h._first; e; )
                f = e._next,
                b && e instanceof c && e.target === e.vars.onComplete || g.add(e, e._startTime - e._delay),
                e = f;
            return h.add(g, 0),
            g
        }
        ,
        q.add = function(e, f, g, h) {
            var j, k, l, m, n, o;
            if ("number" != typeof f && (f = this._parseTimeOrLabel(f, 0, !0, e)),
            !(e instanceof a)) {
                if (e instanceof Array || e && e.push && i(e)) {
                    for (g = g || "normal",
                    h = h || 0,
                    j = f,
                    k = e.length,
                    l = 0; k > l; l++)
                        i(m = e[l]) && (m = new d({
                            tweens: m
                        })),
                        this.add(m, j),
                        "string" != typeof m && "function" != typeof m && ("sequence" === g ? j = m._startTime + m.totalDuration() / m._timeScale : "start" === g && (m._startTime -= m.delay())),
                        j += h;
                    return this._uncache(!0)
                }
                if ("string" == typeof e)
                    return this.addLabel(e, f);
                if ("function" != typeof e)
                    throw "Cannot add " + e + " into the timeline; it is not a tween, timeline, function, or string.";
                e = c.delayedCall(0, e)
            }
            if (b.prototype.add.call(this, e, f),
            (this._gc || this._time === this._duration) && !this._paused && this._duration < this.duration())
                for (n = this,
                o = n.rawTime() > e._startTime; n._timeline; )
                    o && n._timeline.smoothChildTiming ? n.totalTime(n._totalTime, !0) : n._gc && n._enabled(!0, !1),
                    n = n._timeline;
            return this
        }
        ,
        q.remove = function(b) {
            if (b instanceof a) {
                this._remove(b, !1);
                var c = b._timeline = b.vars.useFrames ? a._rootFramesTimeline : a._rootTimeline;
                return b._startTime = (b._paused ? b._pauseTime : c._time) - (b._reversed ? b.totalDuration() - b._totalTime : b._totalTime) / b._timeScale,
                this
            }
            if (b instanceof Array || b && b.push && i(b)) {
                for (var d = b.length; --d > -1; )
                    this.remove(b[d]);
                return this
            }
            return "string" == typeof b ? this.removeLabel(b) : this.kill(null , b)
        }
        ,
        q._remove = function(a, c) {
            b.prototype._remove.call(this, a, c);
            var d = this._last;
            return d ? this._time > d._startTime + d._totalDuration / d._timeScale && (this._time = this.duration(),
            this._totalTime = this._totalDuration) : this._time = this._totalTime = this._duration = this._totalDuration = 0,
            this
        }
        ,
        q.append = function(a, b) {
            return this.add(a, this._parseTimeOrLabel(null , b, !0, a))
        }
        ,
        q.insert = q.insertMultiple = function(a, b, c, d) {
            return this.add(a, b || 0, c, d)
        }
        ,
        q.appendMultiple = function(a, b, c, d) {
            return this.add(a, this._parseTimeOrLabel(null , b, !0, a), c, d)
        }
        ,
        q.addLabel = function(a, b) {
            return this._labels[a] = this._parseTimeOrLabel(b),
            this
        }
        ,
        q.addPause = function(a, b, d, e) {
            var f = c.delayedCall(0, o, d, e || this);
            return f.vars.onComplete = f.vars.onReverseComplete = b,
            f.data = "isPause",
            this._hasPause = !0,
            this.add(f, a)
        }
        ,
        q.removeLabel = function(a) {
            return delete this._labels[a],
            this
        }
        ,
        q.getLabelTime = function(a) {
            return null  != this._labels[a] ? this._labels[a] : -1
        }
        ,
        q._parseTimeOrLabel = function(b, c, d, e) {
            var f;
            if (e instanceof a && e.timeline === this)
                this.remove(e);
            else if (e && (e instanceof Array || e.push && i(e)))
                for (f = e.length; --f > -1; )
                    e[f] instanceof a && e[f].timeline === this && this.remove(e[f]);
            if ("string" == typeof c)
                return this._parseTimeOrLabel(c, d && "number" == typeof b && null  == this._labels[c] ? b - this.duration() : 0, d);
            if (c = c || 0,
            "string" != typeof b || !isNaN(b) && null  == this._labels[b])
                null  == b && (b = this.duration());
            else {
                if (f = b.indexOf("="),
                -1 === f)
                    return null  == this._labels[b] ? d ? this._labels[b] = this.duration() + c : c : this._labels[b] + c;
                c = parseInt(b.charAt(f - 1) + "1", 10) * Number(b.substr(f + 1)),
                b = f > 1 ? this._parseTimeOrLabel(b.substr(0, f - 1), 0, d) : this.duration()
            }
            return Number(b) + c
        }
        ,
        q.seek = function(a, b) {
            return this.totalTime("number" == typeof a ? a : this._parseTimeOrLabel(a), b !== !1)
        }
        ,
        q.stop = function() {
            return this.paused(!0)
        }
        ,
        q.gotoAndPlay = function(a, b) {
            return this.play(a, b)
        }
        ,
        q.gotoAndStop = function(a, b) {
            return this.pause(a, b)
        }
        ,
        q.render = function(a, b, c) {
            this._gc && this._enabled(!0, !1);
            var d, f, g, h, i, l, m, n = this._dirty ? this.totalDuration() : this._totalDuration, o = this._time, p = this._startTime, q = this._timeScale, r = this._paused;
            if (a >= n - 1e-7)
                this._totalTime = this._time = n,
                this._reversed || this._hasPausedChild() || (f = !0,
                h = "onComplete",
                i = !!this._timeline.autoRemoveChildren,
                0 === this._duration && (0 >= a && a >= -1e-7 || this._rawPrevTime < 0 || this._rawPrevTime === e) && this._rawPrevTime !== a && this._first && (i = !0,
                this._rawPrevTime > e && (h = "onReverseComplete"))),
                this._rawPrevTime = this._duration || !b || a || this._rawPrevTime === a ? a : e,
                a = n + 1e-4;
            else if (1e-7 > a)
                if (this._totalTime = this._time = 0,
                (0 !== o || 0 === this._duration && this._rawPrevTime !== e && (this._rawPrevTime > 0 || 0 > a && this._rawPrevTime >= 0)) && (h = "onReverseComplete",
                f = this._reversed),
                0 > a)
                    this._active = !1,
                    this._timeline.autoRemoveChildren && this._reversed ? (i = f = !0,
                    h = "onReverseComplete") : this._rawPrevTime >= 0 && this._first && (i = !0),
                    this._rawPrevTime = a;
                else {
                    if (this._rawPrevTime = this._duration || !b || a || this._rawPrevTime === a ? a : e,
                    0 === a && f)
                        for (d = this._first; d && 0 === d._startTime; )
                            d._duration || (f = !1),
                            d = d._next;
                    a = 0,
                    this._initted || (i = !0)
                }
            else {
                if (this._hasPause && !this._forcingPlayhead && !b) {
                    if (a >= o)
                        for (d = this._first; d && d._startTime <= a && !l; )
                            d._duration || "isPause" !== d.data || d.ratio || 0 === d._startTime && 0 === this._rawPrevTime || (l = d),
                            d = d._next;
                    else
                        for (d = this._last; d && d._startTime >= a && !l; )
                            d._duration || "isPause" === d.data && d._rawPrevTime > 0 && (l = d),
                            d = d._prev;
                    l && (this._time = a = l._startTime,
                    this._totalTime = a + this._cycle * (this._totalDuration + this._repeatDelay))
                }
                this._totalTime = this._time = this._rawPrevTime = a
            }
            if (this._time !== o && this._first || c || i || l) {
                if (this._initted || (this._initted = !0),
                this._active || !this._paused && this._time !== o && a > 0 && (this._active = !0),
                0 === o && this.vars.onStart && 0 !== this._time && (b || this._callback("onStart")),
                m = this._time,
                m >= o)
                    for (d = this._first; d && (g = d._next,
                    m === this._time && (!this._paused || r)); )
                        (d._active || d._startTime <= m && !d._paused && !d._gc) && (l === d && this.pause(),
                        d._reversed ? d.render((d._dirty ? d.totalDuration() : d._totalDuration) - (a - d._startTime) * d._timeScale, b, c) : d.render((a - d._startTime) * d._timeScale, b, c)),
                        d = g;
                else
                    for (d = this._last; d && (g = d._prev,
                    m === this._time && (!this._paused || r)); ) {
                        if (d._active || d._startTime <= o && !d._paused && !d._gc) {
                            if (l === d) {
                                for (l = d._prev; l && l.endTime() > this._time; )
                                    l.render(l._reversed ? l.totalDuration() - (a - l._startTime) * l._timeScale : (a - l._startTime) * l._timeScale, b, c),
                                    l = l._prev;
                                l = null ,
                                this.pause()
                            }
                            d._reversed ? d.render((d._dirty ? d.totalDuration() : d._totalDuration) - (a - d._startTime) * d._timeScale, b, c) : d.render((a - d._startTime) * d._timeScale, b, c)
                        }
                        d = g
                    }
                this._onUpdate && (b || (j.length && k(),
                this._callback("onUpdate"))),
                h && (this._gc || (p === this._startTime || q !== this._timeScale) && (0 === this._time || n >= this.totalDuration()) && (f && (j.length && k(),
                this._timeline.autoRemoveChildren && this._enabled(!1, !1),
                this._active = !1),
                !b && this.vars[h] && this._callback(h)))
            }
        }
        ,
        q._hasPausedChild = function() {
            for (var a = this._first; a; ) {
                if (a._paused || a instanceof d && a._hasPausedChild())
                    return !0;
                a = a._next
            }
            return !1
        }
        ,
        q.getChildren = function(a, b, d, e) {
            e = e || -9999999999;
            for (var f = [], g = this._first, h = 0; g; )
                g._startTime < e || (g instanceof c ? b !== !1 && (f[h++] = g) : (d !== !1 && (f[h++] = g),
                a !== !1 && (f = f.concat(g.getChildren(!0, b, d)),
                h = f.length))),
                g = g._next;
            return f
        }
        ,
        q.getTweensOf = function(a, b) {
            var d, e, f = this._gc, g = [], h = 0;
            for (f && this._enabled(!0, !0),
            d = c.getTweensOf(a),
            e = d.length; --e > -1; )
                (d[e].timeline === this || b && this._contains(d[e])) && (g[h++] = d[e]);
            return f && this._enabled(!1, !0),
            g
        }
        ,
        q.recent = function() {
            return this._recent
        }
        ,
        q._contains = function(a) {
            for (var b = a.timeline; b; ) {
                if (b === this)
                    return !0;
                b = b.timeline
            }
            return !1
        }
        ,
        q.shiftChildren = function(a, b, c) {
            c = c || 0;
            for (var d, e = this._first, f = this._labels; e; )
                e._startTime >= c && (e._startTime += a),
                e = e._next;
            if (b)
                for (d in f)
                    f[d] >= c && (f[d] += a);
            return this._uncache(!0)
        }
        ,
        q._kill = function(a, b) {
            if (!a && !b)
                return this._enabled(!1, !1);
            for (var c = b ? this.getTweensOf(b) : this.getChildren(!0, !0, !1), d = c.length, e = !1; --d > -1; )
                c[d]._kill(a, b) && (e = !0);
            return e
        }
        ,
        q.clear = function(a) {
            var b = this.getChildren(!1, !0, !0)
              , c = b.length;
            for (this._time = this._totalTime = 0; --c > -1; )
                b[c]._enabled(!1, !1);
            return a !== !1 && (this._labels = {}),
            this._uncache(!0)
        }
        ,
        q.invalidate = function() {
            for (var b = this._first; b; )
                b.invalidate(),
                b = b._next;
            return a.prototype.invalidate.call(this)
        }
        ,
        q._enabled = function(a, c) {
            if (a === this._gc)
                for (var d = this._first; d; )
                    d._enabled(a, !0),
                    d = d._next;
            return b.prototype._enabled.call(this, a, c)
        }
        ,
        q.totalTime = function(b, c, d) {
            this._forcingPlayhead = !0;
            var e = a.prototype.totalTime.apply(this, arguments);
            return this._forcingPlayhead = !1,
            e
        }
        ,
        q.duration = function(a) {
            return arguments.length ? (0 !== this.duration() && 0 !== a && this.timeScale(this._duration / a),
            this) : (this._dirty && this.totalDuration(),
            this._duration)
        }
        ,
        q.totalDuration = function(a) {
            if (!arguments.length) {
                if (this._dirty) {
                    for (var b, c, d = 0, e = this._last, f = 999999999999; e; )
                        b = e._prev,
                        e._dirty && e.totalDuration(),
                        e._startTime > f && this._sortChildren && !e._paused ? this.add(e, e._startTime - e._delay) : f = e._startTime,
                        e._startTime < 0 && !e._paused && (d -= e._startTime,
                        this._timeline.smoothChildTiming && (this._startTime += e._startTime / this._timeScale),
                        this.shiftChildren(-e._startTime, !1, -9999999999),
                        f = 0),
                        c = e._startTime + e._totalDuration / e._timeScale,
                        c > d && (d = c),
                        e = b;
                    this._duration = this._totalDuration = d,
                    this._dirty = !1
                }
                return this._totalDuration
            }
            return a && this.totalDuration() ? this.timeScale(this._totalDuration / a) : this
        }
        ,
        q.paused = function(b) {
            if (!b)
                for (var c = this._first, d = this._time; c; )
                    c._startTime === d && "isPause" === c.data && (c._rawPrevTime = 0),
                    c = c._next;
            return a.prototype.paused.apply(this, arguments)
        }
        ,
        q.usesFrames = function() {
            for (var b = this._timeline; b._timeline; )
                b = b._timeline;
            return b === a._rootFramesTimeline
        }
        ,
        q.rawTime = function() {
            return this._paused ? this._totalTime : (this._timeline.rawTime() - this._startTime) * this._timeScale
        }
        ,
        d
    }, !0),
    _gsScope._gsDefine("TimelineMax", ["TimelineLite", "TweenLite", "easing.Ease"], function(a, b, c) {
        var d = function(b) {
            a.call(this, b),
            this._repeat = this.vars.repeat || 0,
            this._repeatDelay = this.vars.repeatDelay || 0,
            this._cycle = 0,
            this._yoyo = this.vars.yoyo === !0,
            this._dirty = !0
        }
          , e = 1e-10
          , f = b._internals
          , g = f.lazyTweens
          , h = f.lazyRender
          , i = new c(null ,null ,1,0)
          , j = d.prototype = new a;
        return j.constructor = d,
        j.kill()._gc = !1,
        d.version = "1.18.2",
        j.invalidate = function() {
            return this._yoyo = this.vars.yoyo === !0,
            this._repeat = this.vars.repeat || 0,
            this._repeatDelay = this.vars.repeatDelay || 0,
            this._uncache(!0),
            a.prototype.invalidate.call(this)
        }
        ,
        j.addCallback = function(a, c, d, e) {
            return this.add(b.delayedCall(0, a, d, e), c)
        }
        ,
        j.removeCallback = function(a, b) {
            if (a)
                if (null  == b)
                    this._kill(null , a);
                else
                    for (var c = this.getTweensOf(a, !1), d = c.length, e = this._parseTimeOrLabel(b); --d > -1; )
                        c[d]._startTime === e && c[d]._enabled(!1, !1);
            return this
        }
        ,
        j.removePause = function(b) {
            return this.removeCallback(a._internals.pauseCallback, b)
        }
        ,
        j.tweenTo = function(a, c) {
            c = c || {};
            var d, e, f, g = {
                ease: i,
                useFrames: this.usesFrames(),
                immediateRender: !1
            };
            for (e in c)
                g[e] = c[e];
            return g.time = this._parseTimeOrLabel(a),
            d = Math.abs(Number(g.time) - this._time) / this._timeScale || .001,
            f = new b(this,d,g),
            g.onStart = function() {
                f.target.paused(!0),
                f.vars.time !== f.target.time() && d === f.duration() && f.duration(Math.abs(f.vars.time - f.target.time()) / f.target._timeScale),
                c.onStart && f._callback("onStart")
            }
            ,
            f
        }
        ,
        j.tweenFromTo = function(a, b, c) {
            c = c || {},
            a = this._parseTimeOrLabel(a),
            c.startAt = {
                onComplete: this.seek,
                onCompleteParams: [a],
                callbackScope: this
            },
            c.immediateRender = c.immediateRender !== !1;
            var d = this.tweenTo(b, c);
            return d.duration(Math.abs(d.vars.time - a) / this._timeScale || .001)
        }
        ,
        j.render = function(a, b, c) {
            this._gc && this._enabled(!0, !1);
            var d, f, i, j, k, l, m, n, o = this._dirty ? this.totalDuration() : this._totalDuration, p = this._duration, q = this._time, r = this._totalTime, s = this._startTime, t = this._timeScale, u = this._rawPrevTime, v = this._paused, w = this._cycle;
            if (a >= o - 1e-7)
                this._locked || (this._totalTime = o,
                this._cycle = this._repeat),
                this._reversed || this._hasPausedChild() || (f = !0,
                j = "onComplete",
                k = !!this._timeline.autoRemoveChildren,
                0 === this._duration && (0 >= a && a >= -1e-7 || 0 > u || u === e) && u !== a && this._first && (k = !0,
                u > e && (j = "onReverseComplete"))),
                this._rawPrevTime = this._duration || !b || a || this._rawPrevTime === a ? a : e,
                this._yoyo && 0 !== (1 & this._cycle) ? this._time = a = 0 : (this._time = p,
                a = p + 1e-4);
            else if (1e-7 > a)
                if (this._locked || (this._totalTime = this._cycle = 0),
                this._time = 0,
                (0 !== q || 0 === p && u !== e && (u > 0 || 0 > a && u >= 0) && !this._locked) && (j = "onReverseComplete",
                f = this._reversed),
                0 > a)
                    this._active = !1,
                    this._timeline.autoRemoveChildren && this._reversed ? (k = f = !0,
                    j = "onReverseComplete") : u >= 0 && this._first && (k = !0),
                    this._rawPrevTime = a;
                else {
                    if (this._rawPrevTime = p || !b || a || this._rawPrevTime === a ? a : e,
                    0 === a && f)
                        for (d = this._first; d && 0 === d._startTime; )
                            d._duration || (f = !1),
                            d = d._next;
                    a = 0,
                    this._initted || (k = !0)
                }
            else if (0 === p && 0 > u && (k = !0),
            this._time = this._rawPrevTime = a,
            this._locked || (this._totalTime = a,
            0 !== this._repeat && (l = p + this._repeatDelay,
            this._cycle = this._totalTime / l >> 0,
            0 !== this._cycle && this._cycle === this._totalTime / l && this._cycle--,
            this._time = this._totalTime - this._cycle * l,
            this._yoyo && 0 !== (1 & this._cycle) && (this._time = p - this._time),
            this._time > p ? (this._time = p,
            a = p + 1e-4) : this._time < 0 ? this._time = a = 0 : a = this._time)),
            this._hasPause && !this._forcingPlayhead && !b) {
                if (a = this._time,
                a >= q)
                    for (d = this._first; d && d._startTime <= a && !m; )
                        d._duration || "isPause" !== d.data || d.ratio || 0 === d._startTime && 0 === this._rawPrevTime || (m = d),
                        d = d._next;
                else
                    for (d = this._last; d && d._startTime >= a && !m; )
                        d._duration || "isPause" === d.data && d._rawPrevTime > 0 && (m = d),
                        d = d._prev;
                m && (this._time = a = m._startTime,
                this._totalTime = a + this._cycle * (this._totalDuration + this._repeatDelay))
            }
            if (this._cycle !== w && !this._locked) {
                var x = this._yoyo && 0 !== (1 & w)
                  , y = x === (this._yoyo && 0 !== (1 & this._cycle))
                  , z = this._totalTime
                  , A = this._cycle
                  , B = this._rawPrevTime
                  , C = this._time;
                if (this._totalTime = w * p,
                this._cycle < w ? x = !x : this._totalTime += p,
                this._time = q,
                this._rawPrevTime = 0 === p ? u - 1e-4 : u,
                this._cycle = w,
                this._locked = !0,
                q = x ? 0 : p,
                this.render(q, b, 0 === p),
                b || this._gc || this.vars.onRepeat && this._callback("onRepeat"),
                q !== this._time)
                    return;
                if (y && (q = x ? p + 1e-4 : -1e-4,
                this.render(q, !0, !1)),
                this._locked = !1,
                this._paused && !v)
                    return;
                this._time = C,
                this._totalTime = z,
                this._cycle = A,
                this._rawPrevTime = B
            }
            if (!(this._time !== q && this._first || c || k || m))
                return void (r !== this._totalTime && this._onUpdate && (b || this._callback("onUpdate")));
            if (this._initted || (this._initted = !0),
            this._active || !this._paused && this._totalTime !== r && a > 0 && (this._active = !0),
            0 === r && this.vars.onStart && 0 !== this._totalTime && (b || this._callback("onStart")),
            n = this._time,
            n >= q)
                for (d = this._first; d && (i = d._next,
                n === this._time && (!this._paused || v)); )
                    (d._active || d._startTime <= this._time && !d._paused && !d._gc) && (m === d && this.pause(),
                    d._reversed ? d.render((d._dirty ? d.totalDuration() : d._totalDuration) - (a - d._startTime) * d._timeScale, b, c) : d.render((a - d._startTime) * d._timeScale, b, c)),
                    d = i;
            else
                for (d = this._last; d && (i = d._prev,
                n === this._time && (!this._paused || v)); ) {
                    if (d._active || d._startTime <= q && !d._paused && !d._gc) {
                        if (m === d) {
                            for (m = d._prev; m && m.endTime() > this._time; )
                                m.render(m._reversed ? m.totalDuration() - (a - m._startTime) * m._timeScale : (a - m._startTime) * m._timeScale, b, c),
                                m = m._prev;
                            m = null ,
                            this.pause()
                        }
                        d._reversed ? d.render((d._dirty ? d.totalDuration() : d._totalDuration) - (a - d._startTime) * d._timeScale, b, c) : d.render((a - d._startTime) * d._timeScale, b, c)
                    }
                    d = i
                }
            this._onUpdate && (b || (g.length && h(),
            this._callback("onUpdate"))),
            j && (this._locked || this._gc || (s === this._startTime || t !== this._timeScale) && (0 === this._time || o >= this.totalDuration()) && (f && (g.length && h(),
            this._timeline.autoRemoveChildren && this._enabled(!1, !1),
            this._active = !1),
            !b && this.vars[j] && this._callback(j)))
        }
        ,
        j.getActive = function(a, b, c) {
            null  == a && (a = !0),
            null  == b && (b = !0),
            null  == c && (c = !1);
            var d, e, f = [], g = this.getChildren(a, b, c), h = 0, i = g.length;
            for (d = 0; i > d; d++)
                e = g[d],
                e.isActive() && (f[h++] = e);
            return f
        }
        ,
        j.getLabelAfter = function(a) {
            a || 0 !== a && (a = this._time);
            var b, c = this.getLabelsArray(), d = c.length;
            for (b = 0; d > b; b++)
                if (c[b].time > a)
                    return c[b].name;
            return null 
        }
        ,
        j.getLabelBefore = function(a) {
            null  == a && (a = this._time);
            for (var b = this.getLabelsArray(), c = b.length; --c > -1; )
                if (b[c].time < a)
                    return b[c].name;
            return null 
        }
        ,
        j.getLabelsArray = function() {
            var a, b = [], c = 0;
            for (a in this._labels)
                b[c++] = {
                    time: this._labels[a],
                    name: a
                };
            return b.sort(function(a, b) {
                return a.time - b.time
            }),
            b
        }
        ,
        j.progress = function(a, b) {
            return arguments.length ? this.totalTime(this.duration() * (this._yoyo && 0 !== (1 & this._cycle) ? 1 - a : a) + this._cycle * (this._duration + this._repeatDelay), b) : this._time / this.duration()
        }
        ,
        j.totalProgress = function(a, b) {
            return arguments.length ? this.totalTime(this.totalDuration() * a, b) : this._totalTime / this.totalDuration()
        }
        ,
        j.totalDuration = function(b) {
            return arguments.length ? -1 !== this._repeat && b ? this.timeScale(this.totalDuration() / b) : this : (this._dirty && (a.prototype.totalDuration.call(this),
            this._totalDuration = -1 === this._repeat ? 999999999999 : this._duration * (this._repeat + 1) + this._repeatDelay * this._repeat),
            this._totalDuration)
        }
        ,
        j.time = function(a, b) {
            return arguments.length ? (this._dirty && this.totalDuration(),
            a > this._duration && (a = this._duration),
            this._yoyo && 0 !== (1 & this._cycle) ? a = this._duration - a + this._cycle * (this._duration + this._repeatDelay) : 0 !== this._repeat && (a += this._cycle * (this._duration + this._repeatDelay)),
            this.totalTime(a, b)) : this._time
        }
        ,
        j.repeat = function(a) {
            return arguments.length ? (this._repeat = a,
            this._uncache(!0)) : this._repeat
        }
        ,
        j.repeatDelay = function(a) {
            return arguments.length ? (this._repeatDelay = a,
            this._uncache(!0)) : this._repeatDelay
        }
        ,
        j.yoyo = function(a) {
            return arguments.length ? (this._yoyo = a,
            this) : this._yoyo
        }
        ,
        j.currentLabel = function(a) {
            return arguments.length ? this.seek(a, !0) : this.getLabelBefore(this._time + 1e-8)
        }
        ,
        d
    }, !0),
    function() {
        var a = 180 / Math.PI
          , b = []
          , c = []
          , d = []
          , e = {}
          , f = _gsScope._gsDefine.globals
          , g = function(a, b, c, d) {
            this.a = a,
            this.b = b,
            this.c = c,
            this.d = d,
            this.da = d - a,
            this.ca = c - a,
            this.ba = b - a
        }
          , h = ",x,y,z,left,top,right,bottom,marginTop,marginLeft,marginRight,marginBottom,paddingLeft,paddingTop,paddingRight,paddingBottom,backgroundPosition,backgroundPosition_y,"
          , i = function(a, b, c, d) {
            var e = {
                a: a
            }
              , f = {}
              , g = {}
              , h = {
                c: d
            }
              , i = (a + b) / 2
              , j = (b + c) / 2
              , k = (c + d) / 2
              , l = (i + j) / 2
              , m = (j + k) / 2
              , n = (m - l) / 8;
            return e.b = i + (a - i) / 4,
            f.b = l + n,
            e.c = f.a = (e.b + f.b) / 2,
            f.c = g.a = (l + m) / 2,
            g.b = m - n,
            h.b = k + (d - k) / 4,
            g.c = h.a = (g.b + h.b) / 2,
            [e, f, g, h]
        }
          , j = function(a, e, f, g, h) {
            var j, k, l, m, n, o, p, q, r, s, t, u, v, w = a.length - 1, x = 0, y = a[0].a;
            for (j = 0; w > j; j++)
                n = a[x],
                k = n.a,
                l = n.d,
                m = a[x + 1].d,
                h ? (t = b[j],
                u = c[j],
                v = (u + t) * e * .25 / (g ? .5 : d[j] || .5),
                o = l - (l - k) * (g ? .5 * e : 0 !== t ? v / t : 0),
                p = l + (m - l) * (g ? .5 * e : 0 !== u ? v / u : 0),
                q = l - (o + ((p - o) * (3 * t / (t + u) + .5) / 4 || 0))) : (o = l - (l - k) * e * .5,
                p = l + (m - l) * e * .5,
                q = l - (o + p) / 2),
                o += q,
                p += q,
                n.c = r = o,
                0 !== j ? n.b = y : n.b = y = n.a + .6 * (n.c - n.a),
                n.da = l - k,
                n.ca = r - k,
                n.ba = y - k,
                f ? (s = i(k, y, r, l),
                a.splice(x, 1, s[0], s[1], s[2], s[3]),
                x += 4) : x++,
                y = p;
            n = a[x],
            n.b = y,
            n.c = y + .4 * (n.d - y),
            n.da = n.d - n.a,
            n.ca = n.c - n.a,
            n.ba = y - n.a,
            f && (s = i(n.a, y, n.c, n.d),
            a.splice(x, 1, s[0], s[1], s[2], s[3]))
        }
          , k = function(a, d, e, f) {
            var h, i, j, k, l, m, n = [];
            if (f)
                for (a = [f].concat(a),
                i = a.length; --i > -1; )
                    "string" == typeof (m = a[i][d]) && "=" === m.charAt(1) && (a[i][d] = f[d] + Number(m.charAt(0) + m.substr(2)));
            if (h = a.length - 2,
            0 > h)
                return n[0] = new g(a[0][d],0,0,a[-1 > h ? 0 : 1][d]),
                n;
            for (i = 0; h > i; i++)
                j = a[i][d],
                k = a[i + 1][d],
                n[i] = new g(j,0,0,k),
                e && (l = a[i + 2][d],
                b[i] = (b[i] || 0) + (k - j) * (k - j),
                c[i] = (c[i] || 0) + (l - k) * (l - k));
            return n[i] = new g(a[i][d],0,0,a[i + 1][d]),
            n
        }
          , l = function(a, f, g, i, l, m) {
            var n, o, p, q, r, s, t, u, v = {}, w = [], x = m || a[0];
            l = "string" == typeof l ? "," + l + "," : h,
            null  == f && (f = 1);
            for (o in a[0])
                w.push(o);
            if (a.length > 1) {
                for (u = a[a.length - 1],
                t = !0,
                n = w.length; --n > -1; )
                    if (o = w[n],
                    Math.abs(x[o] - u[o]) > .05) {
                        t = !1;
                        break
                    }
                t && (a = a.concat(),
                m && a.unshift(m),
                a.push(a[1]),
                m = a[a.length - 3])
            }
            for (b.length = c.length = d.length = 0,
            n = w.length; --n > -1; )
                o = w[n],
                e[o] = -1 !== l.indexOf("," + o + ","),
                v[o] = k(a, o, e[o], m);
            for (n = b.length; --n > -1; )
                b[n] = Math.sqrt(b[n]),
                c[n] = Math.sqrt(c[n]);
            if (!i) {
                for (n = w.length; --n > -1; )
                    if (e[o])
                        for (p = v[w[n]],
                        s = p.length - 1,
                        q = 0; s > q; q++)
                            r = p[q + 1].da / c[q] + p[q].da / b[q],
                            d[q] = (d[q] || 0) + r * r;
                for (n = d.length; --n > -1; )
                    d[n] = Math.sqrt(d[n])
            }
            for (n = w.length,
            q = g ? 4 : 1; --n > -1; )
                o = w[n],
                p = v[o],
                j(p, f, g, i, e[o]),
                t && (p.splice(0, q),
                p.splice(p.length - q, q));
            return v
        }
          , m = function(a, b, c) {
            b = b || "soft";
            var d, e, f, h, i, j, k, l, m, n, o, p = {}, q = "cubic" === b ? 3 : 2, r = "soft" === b, s = [];
            if (r && c && (a = [c].concat(a)),
            null  == a || a.length < q + 1)
                throw "invalid Bezier data";
            for (m in a[0])
                s.push(m);
            for (j = s.length; --j > -1; ) {
                for (m = s[j],
                p[m] = i = [],
                n = 0,
                l = a.length,
                k = 0; l > k; k++)
                    d = null  == c ? a[k][m] : "string" == typeof (o = a[k][m]) && "=" === o.charAt(1) ? c[m] + Number(o.charAt(0) + o.substr(2)) : Number(o),
                    r && k > 1 && l - 1 > k && (i[n++] = (d + i[n - 2]) / 2),
                    i[n++] = d;
                for (l = n - q + 1,
                n = 0,
                k = 0; l > k; k += q)
                    d = i[k],
                    e = i[k + 1],
                    f = i[k + 2],
                    h = 2 === q ? 0 : i[k + 3],
                    i[n++] = o = 3 === q ? new g(d,e,f,h) : new g(d,(2 * e + d) / 3,(2 * e + f) / 3,f);
                i.length = n
            }
            return p
        }
          , n = function(a, b, c) {
            for (var d, e, f, g, h, i, j, k, l, m, n, o = 1 / c, p = a.length; --p > -1; )
                for (m = a[p],
                f = m.a,
                g = m.d - f,
                h = m.c - f,
                i = m.b - f,
                d = e = 0,
                k = 1; c >= k; k++)
                    j = o * k,
                    l = 1 - j,
                    d = e - (e = (j * j * g + 3 * l * (j * h + l * i)) * j),
                    n = p * c + k - 1,
                    b[n] = (b[n] || 0) + d * d
        }
          , o = function(a, b) {
            b = b >> 0 || 6;
            var c, d, e, f, g = [], h = [], i = 0, j = 0, k = b - 1, l = [], m = [];
            for (c in a)
                n(a[c], g, b);
            for (e = g.length,
            d = 0; e > d; d++)
                i += Math.sqrt(g[d]),
                f = d % b,
                m[f] = i,
                f === k && (j += i,
                f = d / b >> 0,
                l[f] = m,
                h[f] = j,
                i = 0,
                m = []);
            return {
                length: j,
                lengths: h,
                segments: l
            }
        }
          , p = _gsScope._gsDefine.plugin({
            propName: "bezier",
            priority: -1,
            version: "1.3.4",
            API: 2,
            global: !0,
            init: function(a, b, c) {
                this._target = a,
                b instanceof Array && (b = {
                    values: b
                }),
                this._func = {},
                this._round = {},
                this._props = [],
                this._timeRes = null  == b.timeResolution ? 6 : parseInt(b.timeResolution, 10);
                var d, e, f, g, h, i = b.values || [], j = {}, k = i[0], n = b.autoRotate || c.vars.orientToBezier;
                this._autoRotate = n ? n instanceof Array ? n : [["x", "y", "rotation", n === !0 ? 0 : Number(n) || 0]] : null ;
                for (d in k)
                    this._props.push(d);
                for (f = this._props.length; --f > -1; )
                    d = this._props[f],
                    this._overwriteProps.push(d),
                    e = this._func[d] = "function" == typeof a[d],
                    j[d] = e ? a[d.indexOf("set") || "function" != typeof a["get" + d.substr(3)] ? d : "get" + d.substr(3)]() : parseFloat(a[d]),
                    h || j[d] !== i[0][d] && (h = j);
                if (this._beziers = "cubic" !== b.type && "quadratic" !== b.type && "soft" !== b.type ? l(i, isNaN(b.curviness) ? 1 : b.curviness, !1, "thruBasic" === b.type, b.correlate, h) : m(i, b.type, j),
                this._segCount = this._beziers[d].length,
                this._timeRes) {
                    var p = o(this._beziers, this._timeRes);
                    this._length = p.length,
                    this._lengths = p.lengths,
                    this._segments = p.segments,
                    this._l1 = this._li = this._s1 = this._si = 0,
                    this._l2 = this._lengths[0],
                    this._curSeg = this._segments[0],
                    this._s2 = this._curSeg[0],
                    this._prec = 1 / this._curSeg.length
                }
                if (n = this._autoRotate)
                    for (this._initialRotations = [],
                    n[0] instanceof Array || (this._autoRotate = n = [n]),
                    f = n.length; --f > -1; ) {
                        for (g = 0; 3 > g; g++)
                            d = n[f][g],
                            this._func[d] = "function" == typeof a[d] ? a[d.indexOf("set") || "function" != typeof a["get" + d.substr(3)] ? d : "get" + d.substr(3)] : !1;
                        d = n[f][2],
                        this._initialRotations[f] = this._func[d] ? this._func[d].call(this._target) : this._target[d]
                    }
                return this._startRatio = c.vars.runBackwards ? 1 : 0,
                !0
            },
            set: function(b) {
                var c, d, e, f, g, h, i, j, k, l, m = this._segCount, n = this._func, o = this._target, p = b !== this._startRatio;
                if (this._timeRes) {
                    if (k = this._lengths,
                    l = this._curSeg,
                    b *= this._length,
                    e = this._li,
                    b > this._l2 && m - 1 > e) {
                        for (j = m - 1; j > e && (this._l2 = k[++e]) <= b; )
                            ;
                        this._l1 = k[e - 1],
                        this._li = e,
                        this._curSeg = l = this._segments[e],
                        this._s2 = l[this._s1 = this._si = 0]
                    } else if (b < this._l1 && e > 0) {
                        for (; e > 0 && (this._l1 = k[--e]) >= b; )
                            ;
                        0 === e && b < this._l1 ? this._l1 = 0 : e++,
                        this._l2 = k[e],
                        this._li = e,
                        this._curSeg = l = this._segments[e],
                        this._s1 = l[(this._si = l.length - 1) - 1] || 0,
                        this._s2 = l[this._si]
                    }
                    if (c = e,
                    b -= this._l1,
                    e = this._si,
                    b > this._s2 && e < l.length - 1) {
                        for (j = l.length - 1; j > e && (this._s2 = l[++e]) <= b; )
                            ;
                        this._s1 = l[e - 1],
                        this._si = e
                    } else if (b < this._s1 && e > 0) {
                        for (; e > 0 && (this._s1 = l[--e]) >= b; )
                            ;
                        0 === e && b < this._s1 ? this._s1 = 0 : e++,
                        this._s2 = l[e],
                        this._si = e
                    }
                    h = (e + (b - this._s1) / (this._s2 - this._s1)) * this._prec
                } else
                    c = 0 > b ? 0 : b >= 1 ? m - 1 : m * b >> 0,
                    h = (b - c * (1 / m)) * m;
                for (d = 1 - h,
                e = this._props.length; --e > -1; )
                    f = this._props[e],
                    g = this._beziers[f][c],
                    i = (h * h * g.da + 3 * d * (h * g.ca + d * g.ba)) * h + g.a,
                    this._round[f] && (i = Math.round(i)),
                    n[f] ? o[f](i) : o[f] = i;
                if (this._autoRotate) {
                    var q, r, s, t, u, v, w, x = this._autoRotate;
                    for (e = x.length; --e > -1; )
                        f = x[e][2],
                        v = x[e][3] || 0,
                        w = x[e][4] === !0 ? 1 : a,
                        g = this._beziers[x[e][0]],
                        q = this._beziers[x[e][1]],
                        g && q && (g = g[c],
                        q = q[c],
                        r = g.a + (g.b - g.a) * h,
                        t = g.b + (g.c - g.b) * h,
                        r += (t - r) * h,
                        t += (g.c + (g.d - g.c) * h - t) * h,
                        s = q.a + (q.b - q.a) * h,
                        u = q.b + (q.c - q.b) * h,
                        s += (u - s) * h,
                        u += (q.c + (q.d - q.c) * h - u) * h,
                        i = p ? Math.atan2(u - s, t - r) * w + v : this._initialRotations[e],
                        n[f] ? o[f](i) : o[f] = i)
                }
            }
        })
          , q = p.prototype;
        p.bezierThrough = l,
        p.cubicToQuadratic = i,
        p._autoCSS = !0,
        p.quadraticToCubic = function(a, b, c) {
            return new g(a,(2 * b + a) / 3,(2 * b + c) / 3,c)
        }
        ,
        p._cssRegister = function() {
            var a = f.CSSPlugin;
            if (a) {
                var b = a._internals
                  , c = b._parseToProxy
                  , d = b._setPluginRatio
                  , e = b.CSSPropTween;
                b._registerComplexSpecialProp("bezier", {
                    parser: function(a, b, f, g, h, i) {
                        b instanceof Array && (b = {
                            values: b
                        }),
                        i = new p;
                        var j, k, l, m = b.values, n = m.length - 1, o = [], q = {};
                        if (0 > n)
                            return h;
                        for (j = 0; n >= j; j++)
                            l = c(a, m[j], g, h, i, n !== j),
                            o[j] = l.end;
                        for (k in b)
                            q[k] = b[k];
                        return q.values = o,
                        h = new e(a,"bezier",0,0,l.pt,2),
                        h.data = l,
                        h.plugin = i,
                        h.setRatio = d,
                        0 === q.autoRotate && (q.autoRotate = !0),
                        !q.autoRotate || q.autoRotate instanceof Array || (j = q.autoRotate === !0 ? 0 : Number(q.autoRotate),
                        q.autoRotate = null  != l.end.left ? [["left", "top", "rotation", j, !1]] : null  != l.end.x ? [["x", "y", "rotation", j, !1]] : !1),
                        q.autoRotate && (g._transform || g._enableTransforms(!1),
                        l.autoRotate = g._target._gsTransform),
                        i._onInitTween(l.proxy, q, g._tween),
                        h
                    }
                })
            }
        }
        ,
        q._roundProps = function(a, b) {
            for (var c = this._overwriteProps, d = c.length; --d > -1; )
                (a[c[d]] || a.bezier || a.bezierThrough) && (this._round[c[d]] = b)
        }
        ,
        q._kill = function(a) {
            var b, c, d = this._props;
            for (b in this._beziers)
                if (b in a)
                    for (delete this._beziers[b],
                    delete this._func[b],
                    c = d.length; --c > -1; )
                        d[c] === b && d.splice(c, 1);
            return this._super._kill.call(this, a)
        }
    }(),
    _gsScope._gsDefine("plugins.CSSPlugin", ["plugins.TweenPlugin", "TweenLite"], function(a, b) {
        var c, d, e, f, g = function() {
            a.call(this, "css"),
            this._overwriteProps.length = 0,
            this.setRatio = g.prototype.setRatio
        }
        , h = _gsScope._gsDefine.globals, i = {}, j = g.prototype = new a("css");
        j.constructor = g,
        g.version = "1.18.2",
        g.API = 2,
        g.defaultTransformPerspective = 0,
        g.defaultSkewType = "compensated",
        g.defaultSmoothOrigin = !0,
        j = "px",
        g.suffixMap = {
            top: j,
            right: j,
            bottom: j,
            left: j,
            width: j,
            height: j,
            fontSize: j,
            padding: j,
            margin: j,
            perspective: j,
            lineHeight: ""
        };
        var k, l, m, n, o, p, q = /(?:\d|\-\d|\.\d|\-\.\d)+/g, r = /(?:\d|\-\d|\.\d|\-\.\d|\+=\d|\-=\d|\+=.\d|\-=\.\d)+/g, s = /(?:\+=|\-=|\-|\b)[\d\-\.]+[a-zA-Z0-9]*(?:%|\b)/gi, t = /(?![+-]?\d*\.?\d+|[+-]|e[+-]\d+)[^0-9]/g, u = /(?:\d|\-|\+|=|#|\.)*/g, v = /opacity *= *([^)]*)/i, w = /opacity:([^;]*)/i, x = /alpha\(opacity *=.+?\)/i, y = /^(rgb|hsl)/, z = /([A-Z])/g, A = /-([a-z])/gi, B = /(^(?:url\(\"|url\())|(?:(\"\))$|\)$)/gi, C = function(a, b) {
            return b.toUpperCase()
        }
        , D = /(?:Left|Right|Width)/i, E = /(M11|M12|M21|M22)=[\d\-\.e]+/gi, F = /progid\:DXImageTransform\.Microsoft\.Matrix\(.+?\)/i, G = /,(?=[^\)]*(?:\(|$))/gi, H = Math.PI / 180, I = 180 / Math.PI, J = {}, K = document, L = function(a) {
            return K.createElementNS ? K.createElementNS("http://www.w3.org/1999/xhtml", a) : K.createElement(a)
        }
        , M = L("div"), N = L("img"), O = g._internals = {
            _specialProps: i
        }, P = navigator.userAgent, Q = function() {
            var a = P.indexOf("Android")
              , b = L("a");
            return m = -1 !== P.indexOf("Safari") && -1 === P.indexOf("Chrome") && (-1 === a || Number(P.substr(a + 8, 1)) > 3),
            o = m && Number(P.substr(P.indexOf("Version/") + 8, 1)) < 6,
            n = -1 !== P.indexOf("Firefox"),
            (/MSIE ([0-9]{1,}[\.0-9]{0,})/.exec(P) || /Trident\/.*rv:([0-9]{1,}[\.0-9]{0,})/.exec(P)) && (p = parseFloat(RegExp.$1)),
            b ? (b.style.cssText = "top:1px;opacity:.55;",
            /^0.55/.test(b.style.opacity)) : !1
        }(), R = function(a) {
            return v.test("string" == typeof a ? a : (a.currentStyle ? a.currentStyle.filter : a.style.filter) || "") ? parseFloat(RegExp.$1) / 100 : 1
        }
        , S = function(a) {
            window.console && console.log(a)
        }
        , T = "", U = "", V = function(a, b) {
            b = b || M;
            var c, d, e = b.style;
            if (void 0 !== e[a])
                return a;
            for (a = a.charAt(0).toUpperCase() + a.substr(1),
            c = ["O", "Moz", "ms", "Ms", "Webkit"],
            d = 5; --d > -1 && void 0 === e[c[d] + a]; )
                ;
            return d >= 0 ? (U = 3 === d ? "ms" : c[d],
            T = "-" + U.toLowerCase() + "-",
            U + a) : null 
        }
        , W = K.defaultView ? K.defaultView.getComputedStyle : function() {}
        , X = g.getStyle = function(a, b, c, d, e) {
            var f;
            return Q || "opacity" !== b ? (!d && a.style[b] ? f = a.style[b] : (c = c || W(a)) ? f = c[b] || c.getPropertyValue(b) || c.getPropertyValue(b.replace(z, "-$1").toLowerCase()) : a.currentStyle && (f = a.currentStyle[b]),
            null  == e || f && "none" !== f && "auto" !== f && "auto auto" !== f ? f : e) : R(a)
        }
        , Y = O.convertToPixels = function(a, c, d, e, f) {
            if ("px" === e || !e)
                return d;
            if ("auto" === e || !d)
                return 0;
            var h, i, j, k = D.test(c), l = a, m = M.style, n = 0 > d;
            if (n && (d = -d),
            "%" === e && -1 !== c.indexOf("border"))
                h = d / 100 * (k ? a.clientWidth : a.clientHeight);
            else {
                if (m.cssText = "border:0 solid red;position:" + X(a, "position") + ";line-height:0;",
                "%" !== e && l.appendChild && "v" !== e.charAt(0) && "rem" !== e)
                    m[k ? "borderLeftWidth" : "borderTopWidth"] = d + e;
                else {
                    if (l = a.parentNode || K.body,
                    i = l._gsCache,
                    j = b.ticker.frame,
                    i && k && i.time === j)
                        return i.width * d / 100;
                    m[k ? "width" : "height"] = d + e
                }
                l.appendChild(M),
                h = parseFloat(M[k ? "offsetWidth" : "offsetHeight"]),
                l.removeChild(M),
                k && "%" === e && g.cacheWidths !== !1 && (i = l._gsCache = l._gsCache || {},
                i.time = j,
                i.width = h / d * 100),
                0 !== h || f || (h = Y(a, c, d, e, !0))
            }
            return n ? -h : h
        }
        , Z = O.calculateOffset = function(a, b, c) {
            if ("absolute" !== X(a, "position", c))
                return 0;
            var d = "left" === b ? "Left" : "Top"
              , e = X(a, "margin" + d, c);
            return a["offset" + d] - (Y(a, b, parseFloat(e), e.replace(u, "")) || 0)
        }
        , $ = function(a, b) {
            var c, d, e, f = {};
            if (b = b || W(a, null ))
                if (c = b.length)
                    for (; --c > -1; )
                        e = b[c],
                        (-1 === e.indexOf("-transform") || za === e) && (f[e.replace(A, C)] = b.getPropertyValue(e));
                else
                    for (c in b)
                        (-1 === c.indexOf("Transform") || ya === c) && (f[c] = b[c]);
            else if (b = a.currentStyle || a.style)
                for (c in b)
                    "string" == typeof c && void 0 === f[c] && (f[c.replace(A, C)] = b[c]);
            return Q || (f.opacity = R(a)),
            d = La(a, b, !1),
            f.rotation = d.rotation,
            f.skewX = d.skewX,
            f.scaleX = d.scaleX,
            f.scaleY = d.scaleY,
            f.x = d.x,
            f.y = d.y,
            Ba && (f.z = d.z,
            f.rotationX = d.rotationX,
            f.rotationY = d.rotationY,
            f.scaleZ = d.scaleZ),
            f.filters && delete f.filters,
            f
        }
        , _ = function(a, b, c, d, e) {
            var f, g, h, i = {}, j = a.style;
            for (g in c)
                "cssText" !== g && "length" !== g && isNaN(g) && (b[g] !== (f = c[g]) || e && e[g]) && -1 === g.indexOf("Origin") && ("number" == typeof f || "string" == typeof f) && (i[g] = "auto" !== f || "left" !== g && "top" !== g ? "" !== f && "auto" !== f && "none" !== f || "string" != typeof b[g] || "" === b[g].replace(t, "") ? f : 0 : Z(a, g),
                void 0 !== j[g] && (h = new oa(j,g,j[g],h)));
            if (d)
                for (g in d)
                    "className" !== g && (i[g] = d[g]);
            return {
                difs: i,
                firstMPT: h
            }
        }
        , aa = {
            width: ["Left", "Right"],
            height: ["Top", "Bottom"]
        }, ba = ["marginLeft", "marginRight", "marginTop", "marginBottom"], ca = function(a, b, c) {
            var d = parseFloat("width" === b ? a.offsetWidth : a.offsetHeight)
              , e = aa[b]
              , f = e.length;
            for (c = c || W(a, null ); --f > -1; )
                d -= parseFloat(X(a, "padding" + e[f], c, !0)) || 0,
                d -= parseFloat(X(a, "border" + e[f] + "Width", c, !0)) || 0;
            return d
        }
        , da = function(a, b) {
            if ("contain" === a || "auto" === a || "auto auto" === a)
                return a + " ";
            (null  == a || "" === a) && (a = "0 0");
            var c = a.split(" ")
              , d = -1 !== a.indexOf("left") ? "0%" : -1 !== a.indexOf("right") ? "100%" : c[0]
              , e = -1 !== a.indexOf("top") ? "0%" : -1 !== a.indexOf("bottom") ? "100%" : c[1];
            return null  == e ? e = "center" === d ? "50%" : "0" : "center" === e && (e = "50%"),
            ("center" === d || isNaN(parseFloat(d)) && -1 === (d + "").indexOf("=")) && (d = "50%"),
            a = d + " " + e + (c.length > 2 ? " " + c[2] : ""),
            b && (b.oxp = -1 !== d.indexOf("%"),
            b.oyp = -1 !== e.indexOf("%"),
            b.oxr = "=" === d.charAt(1),
            b.oyr = "=" === e.charAt(1),
            b.ox = parseFloat(d.replace(t, "")),
            b.oy = parseFloat(e.replace(t, "")),
            b.v = a),
            b || a
        }
        , ea = function(a, b) {
            return "string" == typeof a && "=" === a.charAt(1) ? parseInt(a.charAt(0) + "1", 10) * parseFloat(a.substr(2)) : parseFloat(a) - parseFloat(b)
        }
        , fa = function(a, b) {
            return null  == a ? b : "string" == typeof a && "=" === a.charAt(1) ? parseInt(a.charAt(0) + "1", 10) * parseFloat(a.substr(2)) + b : parseFloat(a)
        }
        , ga = function(a, b, c, d) {
            var e, f, g, h, i, j = 1e-6;
            return null  == a ? h = b : "number" == typeof a ? h = a : (e = 360,
            f = a.split("_"),
            i = "=" === a.charAt(1),
            g = (i ? parseInt(a.charAt(0) + "1", 10) * parseFloat(f[0].substr(2)) : parseFloat(f[0])) * (-1 === a.indexOf("rad") ? 1 : I) - (i ? 0 : b),
            f.length && (d && (d[c] = b + g),
            -1 !== a.indexOf("short") && (g %= e,
            g !== g % (e / 2) && (g = 0 > g ? g + e : g - e)),
            -1 !== a.indexOf("_cw") && 0 > g ? g = (g + 9999999999 * e) % e - (g / e | 0) * e : -1 !== a.indexOf("ccw") && g > 0 && (g = (g - 9999999999 * e) % e - (g / e | 0) * e)),
            h = b + g),
            j > h && h > -j && (h = 0),
            h
        }
        , ha = {
            aqua: [0, 255, 255],
            lime: [0, 255, 0],
            silver: [192, 192, 192],
            black: [0, 0, 0],
            maroon: [128, 0, 0],
            teal: [0, 128, 128],
            blue: [0, 0, 255],
            navy: [0, 0, 128],
            white: [255, 255, 255],
            fuchsia: [255, 0, 255],
            olive: [128, 128, 0],
            yellow: [255, 255, 0],
            orange: [255, 165, 0],
            gray: [128, 128, 128],
            purple: [128, 0, 128],
            green: [0, 128, 0],
            red: [255, 0, 0],
            pink: [255, 192, 203],
            cyan: [0, 255, 255],
            transparent: [255, 255, 255, 0]
        }, ia = function(a, b, c) {
            return a = 0 > a ? a + 1 : a > 1 ? a - 1 : a,
            255 * (1 > 6 * a ? b + (c - b) * a * 6 : .5 > a ? c : 2 > 3 * a ? b + (c - b) * (2 / 3 - a) * 6 : b) + .5 | 0
        }
        , ja = g.parseColor = function(a, b) {
            var c, d, e, f, g, h, i, j, k, l, m;
            if (a)
                if ("number" == typeof a)
                    c = [a >> 16, a >> 8 & 255, 255 & a];
                else {
                    if ("," === a.charAt(a.length - 1) && (a = a.substr(0, a.length - 1)),
                    ha[a])
                        c = ha[a];
                    else if ("#" === a.charAt(0))
                        4 === a.length && (d = a.charAt(1),
                        e = a.charAt(2),
                        f = a.charAt(3),
                        a = "#" + d + d + e + e + f + f),
                        a = parseInt(a.substr(1), 16),
                        c = [a >> 16, a >> 8 & 255, 255 & a];
                    else if ("hsl" === a.substr(0, 3))
                        if (c = m = a.match(q),
                        b) {
                            if (-1 !== a.indexOf("="))
                                return a.match(r)
                        } else
                            g = Number(c[0]) % 360 / 360,
                            h = Number(c[1]) / 100,
                            i = Number(c[2]) / 100,
                            e = .5 >= i ? i * (h + 1) : i + h - i * h,
                            d = 2 * i - e,
                            c.length > 3 && (c[3] = Number(a[3])),
                            c[0] = ia(g + 1 / 3, d, e),
                            c[1] = ia(g, d, e),
                            c[2] = ia(g - 1 / 3, d, e);
                    else
                        c = a.match(q) || ha.transparent;
                    c[0] = Number(c[0]),
                    c[1] = Number(c[1]),
                    c[2] = Number(c[2]),
                    c.length > 3 && (c[3] = Number(c[3]))
                }
            else
                c = ha.black;
            return b && !m && (d = c[0] / 255,
            e = c[1] / 255,
            f = c[2] / 255,
            j = Math.max(d, e, f),
            k = Math.min(d, e, f),
            i = (j + k) / 2,
            j === k ? g = h = 0 : (l = j - k,
            h = i > .5 ? l / (2 - j - k) : l / (j + k),
            g = j === d ? (e - f) / l + (f > e ? 6 : 0) : j === e ? (f - d) / l + 2 : (d - e) / l + 4,
            g *= 60),
            c[0] = g + .5 | 0,
            c[1] = 100 * h + .5 | 0,
            c[2] = 100 * i + .5 | 0),
            c
        }
        , ka = function(a, b) {
            var c, d, e, f = a.match(la) || [], g = 0, h = f.length ? "" : a;
            for (c = 0; c < f.length; c++)
                d = f[c],
                e = a.substr(g, a.indexOf(d, g) - g),
                g += e.length + d.length,
                d = ja(d, b),
                3 === d.length && d.push(1),
                h += e + (b ? "hsla(" + d[0] + "," + d[1] + "%," + d[2] + "%," + d[3] : "rgba(" + d.join(",")) + ")";
            return h
        }
        , la = "(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#(?:[0-9a-f]{3}){1,2}\\b";
        for (j in ha)
            la += "|" + j + "\\b";
        la = new RegExp(la + ")","gi"),
        g.colorStringFilter = function(a) {
            var b, c = a[0] + a[1];
            la.lastIndex = 0,
            la.test(c) && (b = -1 !== c.indexOf("hsl(") || -1 !== c.indexOf("hsla("),
            a[0] = ka(a[0], b),
            a[1] = ka(a[1], b))
        }
        ,
        b.defaultStringFilter || (b.defaultStringFilter = g.colorStringFilter);
        var ma = function(a, b, c, d) {
            if (null  == a)
                return function(a) {
                    return a
                }
                ;
            var e, f = b ? (a.match(la) || [""])[0] : "", g = a.split(f).join("").match(s) || [], h = a.substr(0, a.indexOf(g[0])), i = ")" === a.charAt(a.length - 1) ? ")" : "", j = -1 !== a.indexOf(" ") ? " " : ",", k = g.length, l = k > 0 ? g[0].replace(q, "") : "";
            return k ? e = b ? function(a) {
                var b, m, n, o;
                if ("number" == typeof a)
                    a += l;
                else if (d && G.test(a)) {
                    for (o = a.replace(G, "|").split("|"),
                    n = 0; n < o.length; n++)
                        o[n] = e(o[n]);
                    return o.join(",")
                }
                if (b = (a.match(la) || [f])[0],
                m = a.split(b).join("").match(s) || [],
                n = m.length,
                k > n--)
                    for (; ++n < k; )
                        m[n] = c ? m[(n - 1) / 2 | 0] : g[n];
                return h + m.join(j) + j + b + i + (-1 !== a.indexOf("inset") ? " inset" : "")
            }
             : function(a) {
                var b, f, m;
                if ("number" == typeof a)
                    a += l;
                else if (d && G.test(a)) {
                    for (f = a.replace(G, "|").split("|"),
                    m = 0; m < f.length; m++)
                        f[m] = e(f[m]);
                    return f.join(",")
                }
                if (b = a.match(s) || [],
                m = b.length,
                k > m--)
                    for (; ++m < k; )
                        b[m] = c ? b[(m - 1) / 2 | 0] : g[m];
                return h + b.join(j) + i
            }
             : function(a) {
                return a
            }
        }
          , na = function(a) {
            return a = a.split(","),
            function(b, c, d, e, f, g, h) {
                var i, j = (c + "").split(" ");
                for (h = {},
                i = 0; 4 > i; i++)
                    h[a[i]] = j[i] = j[i] || j[(i - 1) / 2 >> 0];
                return e.parse(b, h, f, g)
            }
        }
          , oa = (O._setPluginRatio = function(a) {
            this.plugin.setRatio(a);
            for (var b, c, d, e, f, g = this.data, h = g.proxy, i = g.firstMPT, j = 1e-6; i; )
                b = h[i.v],
                i.r ? b = Math.round(b) : j > b && b > -j && (b = 0),
                i.t[i.p] = b,
                i = i._next;
            if (g.autoRotate && (g.autoRotate.rotation = h.rotation),
            1 === a || 0 === a)
                for (i = g.firstMPT,
                f = 1 === a ? "e" : "b"; i; ) {
                    if (c = i.t,
                    c.type) {
                        if (1 === c.type) {
                            for (e = c.xs0 + c.s + c.xs1,
                            d = 1; d < c.l; d++)
                                e += c["xn" + d] + c["xs" + (d + 1)];
                            c[f] = e
                        }
                    } else
                        c[f] = c.s + c.xs0;
                    i = i._next
                }
        }
        ,
        function(a, b, c, d, e) {
            this.t = a,
            this.p = b,
            this.v = c,
            this.r = e,
            d && (d._prev = this,
            this._next = d)
        }
        )
          , pa = (O._parseToProxy = function(a, b, c, d, e, f) {
            var g, h, i, j, k, l = d, m = {}, n = {}, o = c._transform, p = J;
            for (c._transform = null ,
            J = b,
            d = k = c.parse(a, b, d, e),
            J = p,
            f && (c._transform = o,
            l && (l._prev = null ,
            l._prev && (l._prev._next = null ))); d && d !== l; ) {
                if (d.type <= 1 && (h = d.p,
                n[h] = d.s + d.c,
                m[h] = d.s,
                f || (j = new oa(d,"s",h,j,d.r),
                d.c = 0),
                1 === d.type))
                    for (g = d.l; --g > 0; )
                        i = "xn" + g,
                        h = d.p + "_" + i,
                        n[h] = d.data[i],
                        m[h] = d[i],
                        f || (j = new oa(d,i,h,j,d.rxp[i]));
                d = d._next
            }
            return {
                proxy: m,
                end: n,
                firstMPT: j,
                pt: k
            }
        }
        ,
        O.CSSPropTween = function(a, b, d, e, g, h, i, j, k, l, m) {
            this.t = a,
            this.p = b,
            this.s = d,
            this.c = e,
            this.n = i || b,
            a instanceof pa || f.push(this.n),
            this.r = j,
            this.type = h || 0,
            k && (this.pr = k,
            c = !0),
            this.b = void 0 === l ? d : l,
            this.e = void 0 === m ? d + e : m,
            g && (this._next = g,
            g._prev = this)
        }
        )
          , qa = function(a, b, c, d, e, f) {
            var g = new pa(a,b,c,d - c,e,-1,f);
            return g.b = c,
            g.e = g.xs0 = d,
            g
        }
          , ra = g.parseComplex = function(a, b, c, d, e, f, g, h, i, j) {
            c = c || f || "",
            g = new pa(a,b,0,0,g,j ? 2 : 1,null ,!1,h,c,d),
            d += "";
            var l, m, n, o, p, s, t, u, v, w, x, y, z, A = c.split(", ").join(",").split(" "), B = d.split(", ").join(",").split(" "), C = A.length, D = k !== !1;
            for ((-1 !== d.indexOf(",") || -1 !== c.indexOf(",")) && (A = A.join(" ").replace(G, ", ").split(" "),
            B = B.join(" ").replace(G, ", ").split(" "),
            C = A.length),
            C !== B.length && (A = (f || "").split(" "),
            C = A.length),
            g.plugin = i,
            g.setRatio = j,
            la.lastIndex = 0,
            l = 0; C > l; l++)
                if (o = A[l],
                p = B[l],
                u = parseFloat(o),
                u || 0 === u)
                    g.appendXtra("", u, ea(p, u), p.replace(r, ""), D && -1 !== p.indexOf("px"), !0);
                else if (e && la.test(o))
                    y = "," === p.charAt(p.length - 1) ? ")," : ")",
                    z = -1 !== p.indexOf("hsl") && Q,
                    o = ja(o, z),
                    p = ja(p, z),
                    v = o.length + p.length > 6,
                    v && !Q && 0 === p[3] ? (g["xs" + g.l] += g.l ? " transparent" : "transparent",
                    g.e = g.e.split(B[l]).join("transparent")) : (Q || (v = !1),
                    z ? g.appendXtra(v ? "hsla(" : "hsl(", o[0], ea(p[0], o[0]), ",", !1, !0).appendXtra("", o[1], ea(p[1], o[1]), "%,", !1).appendXtra("", o[2], ea(p[2], o[2]), v ? "%," : "%" + y, !1) : g.appendXtra(v ? "rgba(" : "rgb(", o[0], p[0] - o[0], ",", !0, !0).appendXtra("", o[1], p[1] - o[1], ",", !0).appendXtra("", o[2], p[2] - o[2], v ? "," : y, !0),
                    v && (o = o.length < 4 ? 1 : o[3],
                    g.appendXtra("", o, (p.length < 4 ? 1 : p[3]) - o, y, !1))),
                    la.lastIndex = 0;
                else if (s = o.match(q)) {
                    if (t = p.match(r),
                    !t || t.length !== s.length)
                        return g;
                    for (n = 0,
                    m = 0; m < s.length; m++)
                        x = s[m],
                        w = o.indexOf(x, n),
                        g.appendXtra(o.substr(n, w - n), Number(x), ea(t[m], x), "", D && "px" === o.substr(w + x.length, 2), 0 === m),
                        n = w + x.length;
                    g["xs" + g.l] += o.substr(n)
                } else
                    g["xs" + g.l] += g.l ? " " + p : p;
            if (-1 !== d.indexOf("=") && g.data) {
                for (y = g.xs0 + g.data.s,
                l = 1; l < g.l; l++)
                    y += g["xs" + l] + g.data["xn" + l];
                g.e = y + g["xs" + l]
            }
            return g.l || (g.type = -1,
            g.xs0 = g.e),
            g.xfirst || g
        }
          , sa = 9;
        for (j = pa.prototype,
        j.l = j.pr = 0; --sa > 0; )
            j["xn" + sa] = 0,
            j["xs" + sa] = "";
        j.xs0 = "",
        j._next = j._prev = j.xfirst = j.data = j.plugin = j.setRatio = j.rxp = null ,
        j.appendXtra = function(a, b, c, d, e, f) {
            var g = this
              , h = g.l;
            return g["xs" + h] += f && h ? " " + a : a || "",
            c || 0 === h || g.plugin ? (g.l++,
            g.type = g.setRatio ? 2 : 1,
            g["xs" + g.l] = d || "",
            h > 0 ? (g.data["xn" + h] = b + c,
            g.rxp["xn" + h] = e,
            g["xn" + h] = b,
            g.plugin || (g.xfirst = new pa(g,"xn" + h,b,c,g.xfirst || g,0,g.n,e,g.pr),
            g.xfirst.xs0 = 0),
            g) : (g.data = {
                s: b + c
            },
            g.rxp = {},
            g.s = b,
            g.c = c,
            g.r = e,
            g)) : (g["xs" + h] += b + (d || ""),
            g)
        }
        ;
        var ta = function(a, b) {
            b = b || {},
            this.p = b.prefix ? V(a) || a : a,
            i[a] = i[this.p] = this,
            this.format = b.formatter || ma(b.defaultValue, b.color, b.collapsible, b.multi),
            b.parser && (this.parse = b.parser),
            this.clrs = b.color,
            this.multi = b.multi,
            this.keyword = b.keyword,
            this.dflt = b.defaultValue,
            this.pr = b.priority || 0
        }
          , ua = O._registerComplexSpecialProp = function(a, b, c) {
            "object" != typeof b && (b = {
                parser: c
            });
            var d, e, f = a.split(","), g = b.defaultValue;
            for (c = c || [g],
            d = 0; d < f.length; d++)
                b.prefix = 0 === d && b.prefix,
                b.defaultValue = c[d] || g,
                e = new ta(f[d],b)
        }
          , va = function(a) {
            if (!i[a]) {
                var b = a.charAt(0).toUpperCase() + a.substr(1) + "Plugin";
                ua(a, {
                    parser: function(a, c, d, e, f, g, j) {
                        var k = h.com.greensock.plugins[b];
                        return k ? (k._cssRegister(),
                        i[d].parse(a, c, d, e, f, g, j)) : (S("Error: " + b + " js file not loaded."),
                        f)
                    }
                })
            }
        }
        ;
        j = ta.prototype,
        j.parseComplex = function(a, b, c, d, e, f) {
            var g, h, i, j, k, l, m = this.keyword;
            if (this.multi && (G.test(c) || G.test(b) ? (h = b.replace(G, "|").split("|"),
            i = c.replace(G, "|").split("|")) : m && (h = [b],
            i = [c])),
            i) {
                for (j = i.length > h.length ? i.length : h.length,
                g = 0; j > g; g++)
                    b = h[g] = h[g] || this.dflt,
                    c = i[g] = i[g] || this.dflt,
                    m && (k = b.indexOf(m),
                    l = c.indexOf(m),
                    k !== l && (-1 === l ? h[g] = h[g].split(m).join("") : -1 === k && (h[g] += " " + m)));
                b = h.join(", "),
                c = i.join(", ")
            }
            return ra(a, this.p, b, c, this.clrs, this.dflt, d, this.pr, e, f)
        }
        ,
        j.parse = function(a, b, c, d, f, g, h) {
            return this.parseComplex(a.style, this.format(X(a, this.p, e, !1, this.dflt)), this.format(b), f, g)
        }
        ,
        g.registerSpecialProp = function(a, b, c) {
            ua(a, {
                parser: function(a, d, e, f, g, h, i) {
                    var j = new pa(a,e,0,0,g,2,e,!1,c);
                    return j.plugin = h,
                    j.setRatio = b(a, d, f._tween, e),
                    j
                },
                priority: c
            })
        }
        ,
        g.useSVGTransformAttr = m || n;
        var wa, xa = "scaleX,scaleY,scaleZ,x,y,z,skewX,skewY,rotation,rotationX,rotationY,perspective,xPercent,yPercent".split(","), ya = V("transform"), za = T + "transform", Aa = V("transformOrigin"), Ba = null  !== V("perspective"), Ca = O.Transform = function() {
            this.perspective = parseFloat(g.defaultTransformPerspective) || 0,
            this.force3D = g.defaultForce3D !== !1 && Ba ? g.defaultForce3D || "auto" : !1
        }
        , Da = window.SVGElement, Ea = function(a, b, c) {
            var d, e = K.createElementNS("http://www.w3.org/2000/svg", a), f = /([a-z])([A-Z])/g;
            for (d in c)
                e.setAttributeNS(null , d.replace(f, "$1-$2").toLowerCase(), c[d]);
            return b.appendChild(e),
            e
        }
        , Fa = K.documentElement, Ga = function() {
            var a, b, c, d = p || /Android/i.test(P) && !window.chrome;
            return K.createElementNS && !d && (a = Ea("svg", Fa),
            b = Ea("rect", a, {
                width: 100,
                height: 50,
                x: 100
            }),
            c = b.getBoundingClientRect().width,
            b.style[Aa] = "50% 50%",
            b.style[ya] = "scaleX(0.5)",
            d = c === b.getBoundingClientRect().width && !(n && Ba),
            Fa.removeChild(a)),
            d
        }(), Ha = function(a, b, c, d, e) {
            var f, h, i, j, k, l, m, n, o, p, q, r, s, t, u = a._gsTransform, v = Ka(a, !0);
            u && (s = u.xOrigin,
            t = u.yOrigin),
            (!d || (f = d.split(" ")).length < 2) && (m = a.getBBox(),
            b = da(b).split(" "),
            f = [(-1 !== b[0].indexOf("%") ? parseFloat(b[0]) / 100 * m.width : parseFloat(b[0])) + m.x, (-1 !== b[1].indexOf("%") ? parseFloat(b[1]) / 100 * m.height : parseFloat(b[1])) + m.y]),
            c.xOrigin = j = parseFloat(f[0]),
            c.yOrigin = k = parseFloat(f[1]),
            d && v !== Ja && (l = v[0],
            m = v[1],
            n = v[2],
            o = v[3],
            p = v[4],
            q = v[5],
            r = l * o - m * n,
            h = j * (o / r) + k * (-n / r) + (n * q - o * p) / r,
            i = j * (-m / r) + k * (l / r) - (l * q - m * p) / r,
            j = c.xOrigin = f[0] = h,
            k = c.yOrigin = f[1] = i),
            u && (e || e !== !1 && g.defaultSmoothOrigin !== !1 ? (h = j - s,
            i = k - t,
            u.xOffset += h * v[0] + i * v[2] - h,
            u.yOffset += h * v[1] + i * v[3] - i) : u.xOffset = u.yOffset = 0),
            a.setAttribute("data-svg-origin", f.join(" "))
        }
        , Ia = function(a) {
            return !!(Da && "function" == typeof a.getBBox && a.getCTM && (!a.parentNode || a.parentNode.getBBox && a.parentNode.getCTM))
        }
        , Ja = [1, 0, 0, 1, 0, 0], Ka = function(a, b) {
            var c, d, e, f, g, h = a._gsTransform || new Ca, i = 1e5;
            if (ya ? d = X(a, za, null , !0) : a.currentStyle && (d = a.currentStyle.filter.match(E),
            d = d && 4 === d.length ? [d[0].substr(4), Number(d[2].substr(4)), Number(d[1].substr(4)), d[3].substr(4), h.x || 0, h.y || 0].join(",") : ""),
            c = !d || "none" === d || "matrix(1, 0, 0, 1, 0, 0)" === d,
            (h.svg || a.getBBox && Ia(a)) && (c && -1 !== (a.style[ya] + "").indexOf("matrix") && (d = a.style[ya],
            c = 0),
            e = a.getAttribute("transform"),
            c && e && (-1 !== e.indexOf("matrix") ? (d = e,
            c = 0) : -1 !== e.indexOf("translate") && (d = "matrix(1,0,0,1," + e.match(/(?:\-|\b)[\d\-\.e]+\b/gi).join(",") + ")",
            c = 0))),
            c)
                return Ja;
            for (e = (d || "").match(/(?:\-|\b)[\d\-\.e]+\b/gi) || [],
            sa = e.length; --sa > -1; )
                f = Number(e[sa]),
                e[sa] = (g = f - (f |= 0)) ? (g * i + (0 > g ? -.5 : .5) | 0) / i + f : f;
            return b && e.length > 6 ? [e[0], e[1], e[4], e[5], e[12], e[13]] : e
        }
        , La = O.getTransform = function(a, c, d, f) {
            if (a._gsTransform && d && !f)
                return a._gsTransform;
            var h, i, j, k, l, m, n = d ? a._gsTransform || new Ca : new Ca, o = n.scaleX < 0, p = 2e-5, q = 1e5, r = Ba ? parseFloat(X(a, Aa, c, !1, "0 0 0").split(" ")[2]) || n.zOrigin || 0 : 0, s = parseFloat(g.defaultTransformPerspective) || 0;
            if (n.svg = !(!a.getBBox || !Ia(a)),
            n.svg && (Ha(a, X(a, Aa, e, !1, "50% 50%") + "", n, a.getAttribute("data-svg-origin")),
            wa = g.useSVGTransformAttr || Ga),
            h = Ka(a),
            h !== Ja) {
                if (16 === h.length) {
                    var t, u, v, w, x, y = h[0], z = h[1], A = h[2], B = h[3], C = h[4], D = h[5], E = h[6], F = h[7], G = h[8], H = h[9], J = h[10], K = h[12], L = h[13], M = h[14], N = h[11], O = Math.atan2(E, J);
                    n.zOrigin && (M = -n.zOrigin,
                    K = G * M - h[12],
                    L = H * M - h[13],
                    M = J * M + n.zOrigin - h[14]),
                    n.rotationX = O * I,
                    O && (w = Math.cos(-O),
                    x = Math.sin(-O),
                    t = C * w + G * x,
                    u = D * w + H * x,
                    v = E * w + J * x,
                    G = C * -x + G * w,
                    H = D * -x + H * w,
                    J = E * -x + J * w,
                    N = F * -x + N * w,
                    C = t,
                    D = u,
                    E = v),
                    O = Math.atan2(-A, J),
                    n.rotationY = O * I,
                    O && (w = Math.cos(-O),
                    x = Math.sin(-O),
                    t = y * w - G * x,
                    u = z * w - H * x,
                    v = A * w - J * x,
                    H = z * x + H * w,
                    J = A * x + J * w,
                    N = B * x + N * w,
                    y = t,
                    z = u,
                    A = v),
                    O = Math.atan2(z, y),
                    n.rotation = O * I,
                    O && (w = Math.cos(-O),
                    x = Math.sin(-O),
                    y = y * w + C * x,
                    u = z * w + D * x,
                    D = z * -x + D * w,
                    E = A * -x + E * w,
                    z = u),
                    n.rotationX && Math.abs(n.rotationX) + Math.abs(n.rotation) > 359.9 && (n.rotationX = n.rotation = 0,
                    n.rotationY = 180 - n.rotationY),
                    n.scaleX = (Math.sqrt(y * y + z * z) * q + .5 | 0) / q,
                    n.scaleY = (Math.sqrt(D * D + H * H) * q + .5 | 0) / q,
                    n.scaleZ = (Math.sqrt(E * E + J * J) * q + .5 | 0) / q,
                    n.skewX = 0,
                    n.perspective = N ? 1 / (0 > N ? -N : N) : 0,
                    n.x = K,
                    n.y = L,
                    n.z = M,
                    n.svg && (n.x -= n.xOrigin - (n.xOrigin * y - n.yOrigin * C),
                    n.y -= n.yOrigin - (n.yOrigin * z - n.xOrigin * D))
                } else if ((!Ba || f || !h.length || n.x !== h[4] || n.y !== h[5] || !n.rotationX && !n.rotationY) && (void 0 === n.x || "none" !== X(a, "display", c))) {
                    var P = h.length >= 6
                      , Q = P ? h[0] : 1
                      , R = h[1] || 0
                      , S = h[2] || 0
                      , T = P ? h[3] : 1;
                    n.x = h[4] || 0,
                    n.y = h[5] || 0,
                    j = Math.sqrt(Q * Q + R * R),
                    k = Math.sqrt(T * T + S * S),
                    l = Q || R ? Math.atan2(R, Q) * I : n.rotation || 0,
                    m = S || T ? Math.atan2(S, T) * I + l : n.skewX || 0,
                    Math.abs(m) > 90 && Math.abs(m) < 270 && (o ? (j *= -1,
                    m += 0 >= l ? 180 : -180,
                    l += 0 >= l ? 180 : -180) : (k *= -1,
                    m += 0 >= m ? 180 : -180)),
                    n.scaleX = j,
                    n.scaleY = k,
                    n.rotation = l,
                    n.skewX = m,
                    Ba && (n.rotationX = n.rotationY = n.z = 0,
                    n.perspective = s,
                    n.scaleZ = 1),
                    n.svg && (n.x -= n.xOrigin - (n.xOrigin * Q + n.yOrigin * S),
                    n.y -= n.yOrigin - (n.xOrigin * R + n.yOrigin * T))
                }
                n.zOrigin = r;
                for (i in n)
                    n[i] < p && n[i] > -p && (n[i] = 0)
            }
            return d && (a._gsTransform = n,
            n.svg && (wa && a.style[ya] ? b.delayedCall(.001, function() {
                Pa(a.style, ya)
            }) : !wa && a.getAttribute("transform") && b.delayedCall(.001, function() {
                a.removeAttribute("transform")
            }))),
            n
        }
        , Ma = function(a) {
            var b, c, d = this.data, e = -d.rotation * H, f = e + d.skewX * H, g = 1e5, h = (Math.cos(e) * d.scaleX * g | 0) / g, i = (Math.sin(e) * d.scaleX * g | 0) / g, j = (Math.sin(f) * -d.scaleY * g | 0) / g, k = (Math.cos(f) * d.scaleY * g | 0) / g, l = this.t.style, m = this.t.currentStyle;
            if (m) {
                c = i,
                i = -j,
                j = -c,
                b = m.filter,
                l.filter = "";
                var n, o, q = this.t.offsetWidth, r = this.t.offsetHeight, s = "absolute" !== m.position, t = "progid:DXImageTransform.Microsoft.Matrix(M11=" + h + ", M12=" + i + ", M21=" + j + ", M22=" + k, w = d.x + q * d.xPercent / 100, x = d.y + r * d.yPercent / 100;
                if (null  != d.ox && (n = (d.oxp ? q * d.ox * .01 : d.ox) - q / 2,
                o = (d.oyp ? r * d.oy * .01 : d.oy) - r / 2,
                w += n - (n * h + o * i),
                x += o - (n * j + o * k)),
                s ? (n = q / 2,
                o = r / 2,
                t += ", Dx=" + (n - (n * h + o * i) + w) + ", Dy=" + (o - (n * j + o * k) + x) + ")") : t += ", sizingMethod='auto expand')",
                -1 !== b.indexOf("DXImageTransform.Microsoft.Matrix(") ? l.filter = b.replace(F, t) : l.filter = t + " " + b,
                (0 === a || 1 === a) && 1 === h && 0 === i && 0 === j && 1 === k && (s && -1 === t.indexOf("Dx=0, Dy=0") || v.test(b) && 100 !== parseFloat(RegExp.$1) || -1 === b.indexOf(b.indexOf("Alpha")) && l.removeAttribute("filter")),
                !s) {
                    var y, z, A, B = 8 > p ? 1 : -1;
                    for (n = d.ieOffsetX || 0,
                    o = d.ieOffsetY || 0,
                    d.ieOffsetX = Math.round((q - ((0 > h ? -h : h) * q + (0 > i ? -i : i) * r)) / 2 + w),
                    d.ieOffsetY = Math.round((r - ((0 > k ? -k : k) * r + (0 > j ? -j : j) * q)) / 2 + x),
                    sa = 0; 4 > sa; sa++)
                        z = ba[sa],
                        y = m[z],
                        c = -1 !== y.indexOf("px") ? parseFloat(y) : Y(this.t, z, parseFloat(y), y.replace(u, "")) || 0,
                        A = c !== d[z] ? 2 > sa ? -d.ieOffsetX : -d.ieOffsetY : 2 > sa ? n - d.ieOffsetX : o - d.ieOffsetY,
                        l[z] = (d[z] = Math.round(c - A * (0 === sa || 2 === sa ? 1 : B))) + "px"
                }
            }
        }
        , Na = O.set3DTransformRatio = O.setTransformRatio = function(a) {
            var b, c, d, e, f, g, h, i, j, k, l, m, o, p, q, r, s, t, u, v, w, x, y, z = this.data, A = this.t.style, B = z.rotation, C = z.rotationX, D = z.rotationY, E = z.scaleX, F = z.scaleY, G = z.scaleZ, I = z.x, J = z.y, K = z.z, L = z.svg, M = z.perspective, N = z.force3D;
            if (((1 === a || 0 === a) && "auto" === N && (this.tween._totalTime === this.tween._totalDuration || !this.tween._totalTime) || !N) && !K && !M && !D && !C && 1 === G || wa && L || !Ba)
                return void (B || z.skewX || L ? (B *= H,
                x = z.skewX * H,
                y = 1e5,
                b = Math.cos(B) * E,
                e = Math.sin(B) * E,
                c = Math.sin(B - x) * -F,
                f = Math.cos(B - x) * F,
                x && "simple" === z.skewType && (s = Math.tan(x),
                s = Math.sqrt(1 + s * s),
                c *= s,
                f *= s,
                z.skewY && (b *= s,
                e *= s)),
                L && (I += z.xOrigin - (z.xOrigin * b + z.yOrigin * c) + z.xOffset,
                J += z.yOrigin - (z.xOrigin * e + z.yOrigin * f) + z.yOffset,
                wa && (z.xPercent || z.yPercent) && (p = this.t.getBBox(),
                I += .01 * z.xPercent * p.width,
                J += .01 * z.yPercent * p.height),
                p = 1e-6,
                p > I && I > -p && (I = 0),
                p > J && J > -p && (J = 0)),
                u = (b * y | 0) / y + "," + (e * y | 0) / y + "," + (c * y | 0) / y + "," + (f * y | 0) / y + "," + I + "," + J + ")",
                L && wa ? this.t.setAttribute("transform", "matrix(" + u) : A[ya] = (z.xPercent || z.yPercent ? "translate(" + z.xPercent + "%," + z.yPercent + "%) matrix(" : "matrix(") + u) : A[ya] = (z.xPercent || z.yPercent ? "translate(" + z.xPercent + "%," + z.yPercent + "%) matrix(" : "matrix(") + E + ",0,0," + F + "," + I + "," + J + ")");
            if (n && (p = 1e-4,
            p > E && E > -p && (E = G = 2e-5),
            p > F && F > -p && (F = G = 2e-5),
            !M || z.z || z.rotationX || z.rotationY || (M = 0)),
            B || z.skewX)
                B *= H,
                q = b = Math.cos(B),
                r = e = Math.sin(B),
                z.skewX && (B -= z.skewX * H,
                q = Math.cos(B),
                r = Math.sin(B),
                "simple" === z.skewType && (s = Math.tan(z.skewX * H),
                s = Math.sqrt(1 + s * s),
                q *= s,
                r *= s,
                z.skewY && (b *= s,
                e *= s))),
                c = -r,
                f = q;
            else {
                if (!(D || C || 1 !== G || M || L))
                    return void (A[ya] = (z.xPercent || z.yPercent ? "translate(" + z.xPercent + "%," + z.yPercent + "%) translate3d(" : "translate3d(") + I + "px," + J + "px," + K + "px)" + (1 !== E || 1 !== F ? " scale(" + E + "," + F + ")" : ""));
                b = f = 1,
                c = e = 0
            }
            j = 1,
            d = g = h = i = k = l = 0,
            m = M ? -1 / M : 0,
            o = z.zOrigin,
            p = 1e-6,
            v = ",",
            w = "0",
            B = D * H,
            B && (q = Math.cos(B),
            r = Math.sin(B),
            h = -r,
            k = m * -r,
            d = b * r,
            g = e * r,
            j = q,
            m *= q,
            b *= q,
            e *= q),
            B = C * H,
            B && (q = Math.cos(B),
            r = Math.sin(B),
            s = c * q + d * r,
            t = f * q + g * r,
            i = j * r,
            l = m * r,
            d = c * -r + d * q,
            g = f * -r + g * q,
            j *= q,
            m *= q,
            c = s,
            f = t),
            1 !== G && (d *= G,
            g *= G,
            j *= G,
            m *= G),
            1 !== F && (c *= F,
            f *= F,
            i *= F,
            l *= F),
            1 !== E && (b *= E,
            e *= E,
            h *= E,
            k *= E),
            (o || L) && (o && (I += d * -o,
            J += g * -o,
            K += j * -o + o),
            L && (I += z.xOrigin - (z.xOrigin * b + z.yOrigin * c) + z.xOffset,
            J += z.yOrigin - (z.xOrigin * e + z.yOrigin * f) + z.yOffset),
            p > I && I > -p && (I = w),
            p > J && J > -p && (J = w),
            p > K && K > -p && (K = 0)),
            u = z.xPercent || z.yPercent ? "translate(" + z.xPercent + "%," + z.yPercent + "%) matrix3d(" : "matrix3d(",
            u += (p > b && b > -p ? w : b) + v + (p > e && e > -p ? w : e) + v + (p > h && h > -p ? w : h),
            u += v + (p > k && k > -p ? w : k) + v + (p > c && c > -p ? w : c) + v + (p > f && f > -p ? w : f),
            C || D || 1 !== G ? (u += v + (p > i && i > -p ? w : i) + v + (p > l && l > -p ? w : l) + v + (p > d && d > -p ? w : d),
            u += v + (p > g && g > -p ? w : g) + v + (p > j && j > -p ? w : j) + v + (p > m && m > -p ? w : m) + v) : u += ",0,0,0,0,1,0,",
            u += I + v + J + v + K + v + (M ? 1 + -K / M : 1) + ")",
            A[ya] = u
        }
        ;
        j = Ca.prototype,
        j.x = j.y = j.z = j.skewX = j.skewY = j.rotation = j.rotationX = j.rotationY = j.zOrigin = j.xPercent = j.yPercent = j.xOffset = j.yOffset = 0,
        j.scaleX = j.scaleY = j.scaleZ = 1,
        ua("transform,scale,scaleX,scaleY,scaleZ,x,y,z,rotation,rotationX,rotationY,rotationZ,skewX,skewY,shortRotation,shortRotationX,shortRotationY,shortRotationZ,transformOrigin,svgOrigin,transformPerspective,directionalRotation,parseTransform,force3D,skewType,xPercent,yPercent,smoothOrigin", {
            parser: function(a, b, c, d, f, h, i) {
                if (d._lastParsedTransform === i)
                    return f;
                d._lastParsedTransform = i;
                var j, k, l, m, n, o, p, q, r, s, t = a._gsTransform, u = a.style, v = 1e-6, w = xa.length, x = i, y = {}, z = "transformOrigin";
                if (i.display ? (m = X(a, "display"),
                u.display = "block",
                j = La(a, e, !0, i.parseTransform),
                u.display = m) : j = La(a, e, !0, i.parseTransform),
                d._transform = j,
                "string" == typeof x.transform && ya)
                    m = M.style,
                    m[ya] = x.transform,
                    m.display = "block",
                    m.position = "absolute",
                    K.body.appendChild(M),
                    k = La(M, null , !1),
                    K.body.removeChild(M),
                    k.perspective || (k.perspective = j.perspective),
                    null  != x.xPercent && (k.xPercent = fa(x.xPercent, j.xPercent)),
                    null  != x.yPercent && (k.yPercent = fa(x.yPercent, j.yPercent));
                else if ("object" == typeof x) {
                    if (k = {
                        scaleX: fa(null  != x.scaleX ? x.scaleX : x.scale, j.scaleX),
                        scaleY: fa(null  != x.scaleY ? x.scaleY : x.scale, j.scaleY),
                        scaleZ: fa(x.scaleZ, j.scaleZ),
                        x: fa(x.x, j.x),
                        y: fa(x.y, j.y),
                        z: fa(x.z, j.z),
                        xPercent: fa(x.xPercent, j.xPercent),
                        yPercent: fa(x.yPercent, j.yPercent),
                        perspective: fa(x.transformPerspective, j.perspective)
                    },
                    q = x.directionalRotation,
                    null  != q)
                        if ("object" == typeof q)
                            for (m in q)
                                x[m] = q[m];
                        else
                            x.rotation = q;
                    "string" == typeof x.x && -1 !== x.x.indexOf("%") && (k.x = 0,
                    k.xPercent = fa(x.x, j.xPercent)),
                    "string" == typeof x.y && -1 !== x.y.indexOf("%") && (k.y = 0,
                    k.yPercent = fa(x.y, j.yPercent)),
                    k.rotation = ga("rotation" in x ? x.rotation : "shortRotation" in x ? x.shortRotation + "_short" : "rotationZ" in x ? x.rotationZ : j.rotation, j.rotation, "rotation", y),
                    Ba && (k.rotationX = ga("rotationX" in x ? x.rotationX : "shortRotationX" in x ? x.shortRotationX + "_short" : j.rotationX || 0, j.rotationX, "rotationX", y),
                    k.rotationY = ga("rotationY" in x ? x.rotationY : "shortRotationY" in x ? x.shortRotationY + "_short" : j.rotationY || 0, j.rotationY, "rotationY", y)),
                    k.skewX = null  == x.skewX ? j.skewX : ga(x.skewX, j.skewX),
                    k.skewY = null  == x.skewY ? j.skewY : ga(x.skewY, j.skewY),
                    (l = k.skewY - j.skewY) && (k.skewX += l,
                    k.rotation += l)
                }
                for (Ba && null  != x.force3D && (j.force3D = x.force3D,
                p = !0),
                j.skewType = x.skewType || j.skewType || g.defaultSkewType,
                o = j.force3D || j.z || j.rotationX || j.rotationY || k.z || k.rotationX || k.rotationY || k.perspective,
                o || null  == x.scale || (k.scaleZ = 1); --w > -1; )
                    c = xa[w],
                    n = k[c] - j[c],
                    (n > v || -v > n || null  != x[c] || null  != J[c]) && (p = !0,
                    f = new pa(j,c,j[c],n,f),
                    c in y && (f.e = y[c]),
                    f.xs0 = 0,
                    f.plugin = h,
                    d._overwriteProps.push(f.n));
                return n = x.transformOrigin,
                j.svg && (n || x.svgOrigin) && (r = j.xOffset,
                s = j.yOffset,
                Ha(a, da(n), k, x.svgOrigin, x.smoothOrigin),
                f = qa(j, "xOrigin", (t ? j : k).xOrigin, k.xOrigin, f, z),
                f = qa(j, "yOrigin", (t ? j : k).yOrigin, k.yOrigin, f, z),
                (r !== j.xOffset || s !== j.yOffset) && (f = qa(j, "xOffset", t ? r : j.xOffset, j.xOffset, f, z),
                f = qa(j, "yOffset", t ? s : j.yOffset, j.yOffset, f, z)),
                n = wa ? null  : "0px 0px"),
                (n || Ba && o && j.zOrigin) && (ya ? (p = !0,
                c = Aa,
                n = (n || X(a, c, e, !1, "50% 50%")) + "",
                f = new pa(u,c,0,0,f,-1,z),
                f.b = u[c],
                f.plugin = h,
                Ba ? (m = j.zOrigin,
                n = n.split(" "),
                j.zOrigin = (n.length > 2 && (0 === m || "0px" !== n[2]) ? parseFloat(n[2]) : m) || 0,
                f.xs0 = f.e = n[0] + " " + (n[1] || "50%") + " 0px",
                f = new pa(j,"zOrigin",0,0,f,-1,f.n),
                f.b = m,
                f.xs0 = f.e = j.zOrigin) : f.xs0 = f.e = n) : da(n + "", j)),
                p && (d._transformType = j.svg && wa || !o && 3 !== this._transformType ? 2 : 3),
                f
            },
            prefix: !0
        }),
        ua("boxShadow", {
            defaultValue: "0px 0px 0px 0px #999",
            prefix: !0,
            color: !0,
            multi: !0,
            keyword: "inset"
        }),
        ua("borderRadius", {
            defaultValue: "0px",
            parser: function(a, b, c, f, g, h) {
                b = this.format(b);
                var i, j, k, l, m, n, o, p, q, r, s, t, u, v, w, x, y = ["borderTopLeftRadius", "borderTopRightRadius", "borderBottomRightRadius", "borderBottomLeftRadius"], z = a.style;
                for (q = parseFloat(a.offsetWidth),
                r = parseFloat(a.offsetHeight),
                i = b.split(" "),
                j = 0; j < y.length; j++)
                    this.p.indexOf("border") && (y[j] = V(y[j])),
                    m = l = X(a, y[j], e, !1, "0px"),
                    -1 !== m.indexOf(" ") && (l = m.split(" "),
                    m = l[0],
                    l = l[1]),
                    n = k = i[j],
                    o = parseFloat(m),
                    t = m.substr((o + "").length),
                    u = "=" === n.charAt(1),
                    u ? (p = parseInt(n.charAt(0) + "1", 10),
                    n = n.substr(2),
                    p *= parseFloat(n),
                    s = n.substr((p + "").length - (0 > p ? 1 : 0)) || "") : (p = parseFloat(n),
                    s = n.substr((p + "").length)),
                    "" === s && (s = d[c] || t),
                    s !== t && (v = Y(a, "borderLeft", o, t),
                    w = Y(a, "borderTop", o, t),
                    "%" === s ? (m = v / q * 100 + "%",
                    l = w / r * 100 + "%") : "em" === s ? (x = Y(a, "borderLeft", 1, "em"),
                    m = v / x + "em",
                    l = w / x + "em") : (m = v + "px",
                    l = w + "px"),
                    u && (n = parseFloat(m) + p + s,
                    k = parseFloat(l) + p + s)),
                    g = ra(z, y[j], m + " " + l, n + " " + k, !1, "0px", g);
                return g
            },
            prefix: !0,
            formatter: ma("0px 0px 0px 0px", !1, !0)
        }),
        ua("backgroundPosition", {
            defaultValue: "0 0",
            parser: function(a, b, c, d, f, g) {
                var h, i, j, k, l, m, n = "background-position", o = e || W(a, null ), q = this.format((o ? p ? o.getPropertyValue(n + "-x") + " " + o.getPropertyValue(n + "-y") : o.getPropertyValue(n) : a.currentStyle.backgroundPositionX + " " + a.currentStyle.backgroundPositionY) || "0 0"), r = this.format(b);
                if (-1 !== q.indexOf("%") != (-1 !== r.indexOf("%")) && (m = X(a, "backgroundImage").replace(B, ""),
                m && "none" !== m)) {
                    for (h = q.split(" "),
                    i = r.split(" "),
                    N.setAttribute("src", m),
                    j = 2; --j > -1; )
                        q = h[j],
                        k = -1 !== q.indexOf("%"),
                        k !== (-1 !== i[j].indexOf("%")) && (l = 0 === j ? a.offsetWidth - N.width : a.offsetHeight - N.height,
                        h[j] = k ? parseFloat(q) / 100 * l + "px" : parseFloat(q) / l * 100 + "%");
                    q = h.join(" ")
                }
                return this.parseComplex(a.style, q, r, f, g)
            },
            formatter: da
        }),
        ua("backgroundSize", {
            defaultValue: "0 0",
            formatter: da
        }),
        ua("perspective", {
            defaultValue: "0px",
            prefix: !0
        }),
        ua("perspectiveOrigin", {
            defaultValue: "50% 50%",
            prefix: !0
        }),
        ua("transformStyle", {
            prefix: !0
        }),
        ua("backfaceVisibility", {
            prefix: !0
        }),
        ua("userSelect", {
            prefix: !0
        }),
        ua("margin", {
            parser: na("marginTop,marginRight,marginBottom,marginLeft")
        }),
        ua("padding", {
            parser: na("paddingTop,paddingRight,paddingBottom,paddingLeft")
        }),
        ua("clip", {
            defaultValue: "rect(0px,0px,0px,0px)",
            parser: function(a, b, c, d, f, g) {
                var h, i, j;
                return 9 > p ? (i = a.currentStyle,
                j = 8 > p ? " " : ",",
                h = "rect(" + i.clipTop + j + i.clipRight + j + i.clipBottom + j + i.clipLeft + ")",
                b = this.format(b).split(",").join(j)) : (h = this.format(X(a, this.p, e, !1, this.dflt)),
                b = this.format(b)),
                this.parseComplex(a.style, h, b, f, g)
            }
        }),
        ua("textShadow", {
            defaultValue: "0px 0px 0px #999",
            color: !0,
            multi: !0
        }),
        ua("autoRound,strictUnits", {
            parser: function(a, b, c, d, e) {
                return e
            }
        }),
        ua("border", {
            defaultValue: "0px solid #000",
            parser: function(a, b, c, d, f, g) {
                return this.parseComplex(a.style, this.format(X(a, "borderTopWidth", e, !1, "0px") + " " + X(a, "borderTopStyle", e, !1, "solid") + " " + X(a, "borderTopColor", e, !1, "#000")), this.format(b), f, g)
            },
            color: !0,
            formatter: function(a) {
                var b = a.split(" ");
                return b[0] + " " + (b[1] || "solid") + " " + (a.match(la) || ["#000"])[0]
            }
        }),
        ua("borderWidth", {
            parser: na("borderTopWidth,borderRightWidth,borderBottomWidth,borderLeftWidth")
        }),
        ua("float,cssFloat,styleFloat", {
            parser: function(a, b, c, d, e, f) {
                var g = a.style
                  , h = "cssFloat" in g ? "cssFloat" : "styleFloat";
                return new pa(g,h,0,0,e,-1,c,!1,0,g[h],b)
            }
        });
        var Oa = function(a) {
            var b, c = this.t, d = c.filter || X(this.data, "filter") || "", e = this.s + this.c * a | 0;
            100 === e && (-1 === d.indexOf("atrix(") && -1 === d.indexOf("radient(") && -1 === d.indexOf("oader(") ? (c.removeAttribute("filter"),
            b = !X(this.data, "filter")) : (c.filter = d.replace(x, ""),
            b = !0)),
            b || (this.xn1 && (c.filter = d = d || "alpha(opacity=" + e + ")"),
            -1 === d.indexOf("pacity") ? 0 === e && this.xn1 || (c.filter = d + " alpha(opacity=" + e + ")") : c.filter = d.replace(v, "opacity=" + e))
        }
        ;
        ua("opacity,alpha,autoAlpha", {
            defaultValue: "1",
            parser: function(a, b, c, d, f, g) {
                var h = parseFloat(X(a, "opacity", e, !1, "1"))
                  , i = a.style
                  , j = "autoAlpha" === c;
                return "string" == typeof b && "=" === b.charAt(1) && (b = ("-" === b.charAt(0) ? -1 : 1) * parseFloat(b.substr(2)) + h),
                j && 1 === h && "hidden" === X(a, "visibility", e) && 0 !== b && (h = 0),
                Q ? f = new pa(i,"opacity",h,b - h,f) : (f = new pa(i,"opacity",100 * h,100 * (b - h),f),
                f.xn1 = j ? 1 : 0,
                i.zoom = 1,
                f.type = 2,
                f.b = "alpha(opacity=" + f.s + ")",
                f.e = "alpha(opacity=" + (f.s + f.c) + ")",
                f.data = a,
                f.plugin = g,
                f.setRatio = Oa),
                j && (f = new pa(i,"visibility",0,0,f,-1,null ,!1,0,0 !== h ? "inherit" : "hidden",0 === b ? "hidden" : "inherit"),
                f.xs0 = "inherit",
                d._overwriteProps.push(f.n),
                d._overwriteProps.push(c)),
                f
            }
        });
        var Pa = function(a, b) {
            b && (a.removeProperty ? (("ms" === b.substr(0, 2) || "webkit" === b.substr(0, 6)) && (b = "-" + b),
            a.removeProperty(b.replace(z, "-$1").toLowerCase())) : a.removeAttribute(b))
        }
          , Qa = function(a) {
            if (this.t._gsClassPT = this,
            1 === a || 0 === a) {
                this.t.setAttribute("class", 0 === a ? this.b : this.e);
                for (var b = this.data, c = this.t.style; b; )
                    b.v ? c[b.p] = b.v : Pa(c, b.p),
                    b = b._next;
                1 === a && this.t._gsClassPT === this && (this.t._gsClassPT = null )
            } else
                this.t.getAttribute("class") !== this.e && this.t.setAttribute("class", this.e)
        }
        ;
        ua("className", {
            parser: function(a, b, d, f, g, h, i) {
                var j, k, l, m, n, o = a.getAttribute("class") || "", p = a.style.cssText;
                if (g = f._classNamePT = new pa(a,d,0,0,g,2),
                g.setRatio = Qa,
                g.pr = -11,
                c = !0,
                g.b = o,
                k = $(a, e),
                l = a._gsClassPT) {
                    for (m = {},
                    n = l.data; n; )
                        m[n.p] = 1,
                        n = n._next;
                    l.setRatio(1)
                }
                return a._gsClassPT = g,
                g.e = "=" !== b.charAt(1) ? b : o.replace(new RegExp("\\s*\\b" + b.substr(2) + "\\b"), "") + ("+" === b.charAt(0) ? " " + b.substr(2) : ""),
                a.setAttribute("class", g.e),
                j = _(a, k, $(a), i, m),
                a.setAttribute("class", o),
                g.data = j.firstMPT,
                a.style.cssText = p,
                g = g.xfirst = f.parse(a, j.difs, g, h)
            }
        });
        var Ra = function(a) {
            if ((1 === a || 0 === a) && this.data._totalTime === this.data._totalDuration && "isFromStart" !== this.data.data) {
                var b, c, d, e, f, g = this.t.style, h = i.transform.parse;
                if ("all" === this.e)
                    g.cssText = "",
                    e = !0;
                else
                    for (b = this.e.split(" ").join("").split(","),
                    d = b.length; --d > -1; )
                        c = b[d],
                        i[c] && (i[c].parse === h ? e = !0 : c = "transformOrigin" === c ? Aa : i[c].p),
                        Pa(g, c);
                e && (Pa(g, ya),
                f = this.t._gsTransform,
                f && (f.svg && (this.t.removeAttribute("data-svg-origin"),
                this.t.removeAttribute("transform")),
                delete this.t._gsTransform))
            }
        }
        ;
        for (ua("clearProps", {
            parser: function(a, b, d, e, f) {
                return f = new pa(a,d,0,0,f,2),
                f.setRatio = Ra,
                f.e = b,
                f.pr = -10,
                f.data = e._tween,
                c = !0,
                f
            }
        }),
        j = "bezier,throwProps,physicsProps,physics2D".split(","),
        sa = j.length; sa--; )
            va(j[sa]);
        j = g.prototype,
        j._firstPT = j._lastParsedTransform = j._transform = null ,
        j._onInitTween = function(a, b, h) {
            if (!a.nodeType)
                return !1;
            this._target = a,
            this._tween = h,
            this._vars = b,
            k = b.autoRound,
            c = !1,
            d = b.suffixMap || g.suffixMap,
            e = W(a, ""),
            f = this._overwriteProps;
            var j, n, p, q, r, s, t, u, v, x = a.style;
            if (l && "" === x.zIndex && (j = X(a, "zIndex", e),
            ("auto" === j || "" === j) && this._addLazySet(x, "zIndex", 0)),
            "string" == typeof b && (q = x.cssText,
            j = $(a, e),
            x.cssText = q + ";" + b,
            j = _(a, j, $(a)).difs,
            !Q && w.test(b) && (j.opacity = parseFloat(RegExp.$1)),
            b = j,
            x.cssText = q),
            b.className ? this._firstPT = n = i.className.parse(a, b.className, "className", this, null , null , b) : this._firstPT = n = this.parse(a, b, null ),
            this._transformType) {
                for (v = 3 === this._transformType,
                ya ? m && (l = !0,
                "" === x.zIndex && (t = X(a, "zIndex", e),
                ("auto" === t || "" === t) && this._addLazySet(x, "zIndex", 0)),
                o && this._addLazySet(x, "WebkitBackfaceVisibility", this._vars.WebkitBackfaceVisibility || (v ? "visible" : "hidden"))) : x.zoom = 1,
                p = n; p && p._next; )
                    p = p._next;
                u = new pa(a,"transform",0,0,null ,2),
                this._linkCSSP(u, null , p),
                u.setRatio = ya ? Na : Ma,
                u.data = this._transform || La(a, e, !0),
                u.tween = h,
                u.pr = -1,
                f.pop()
            }
            if (c) {
                for (; n; ) {
                    for (s = n._next,
                    p = q; p && p.pr > n.pr; )
                        p = p._next;
                    (n._prev = p ? p._prev : r) ? n._prev._next = n : q = n,
                    (n._next = p) ? p._prev = n : r = n,
                    n = s
                }
                this._firstPT = q
            }
            return !0
        }
        ,
        j.parse = function(a, b, c, f) {
            var g, h, j, l, m, n, o, p, q, r, s = a.style;
            for (g in b)
                n = b[g],
                h = i[g],
                h ? c = h.parse(a, n, g, this, c, f, b) : (m = X(a, g, e) + "",
                q = "string" == typeof n,
                "color" === g || "fill" === g || "stroke" === g || -1 !== g.indexOf("Color") || q && y.test(n) ? (q || (n = ja(n),
                n = (n.length > 3 ? "rgba(" : "rgb(") + n.join(",") + ")"),
                c = ra(s, g, m, n, !0, "transparent", c, 0, f)) : !q || -1 === n.indexOf(" ") && -1 === n.indexOf(",") ? (j = parseFloat(m),
                o = j || 0 === j ? m.substr((j + "").length) : "",
                ("" === m || "auto" === m) && ("width" === g || "height" === g ? (j = ca(a, g, e),
                o = "px") : "left" === g || "top" === g ? (j = Z(a, g, e),
                o = "px") : (j = "opacity" !== g ? 0 : 1,
                o = "")),
                r = q && "=" === n.charAt(1),
                r ? (l = parseInt(n.charAt(0) + "1", 10),
                n = n.substr(2),
                l *= parseFloat(n),
                p = n.replace(u, "")) : (l = parseFloat(n),
                p = q ? n.replace(u, "") : ""),
                "" === p && (p = g in d ? d[g] : o),
                n = l || 0 === l ? (r ? l + j : l) + p : b[g],
                o !== p && "" !== p && (l || 0 === l) && j && (j = Y(a, g, j, o),
                "%" === p ? (j /= Y(a, g, 100, "%") / 100,
                b.strictUnits !== !0 && (m = j + "%")) : "em" === p || "rem" === p || "vw" === p || "vh" === p ? j /= Y(a, g, 1, p) : "px" !== p && (l = Y(a, g, l, p),
                p = "px"),
                r && (l || 0 === l) && (n = l + j + p)),
                r && (l += j),
                !j && 0 !== j || !l && 0 !== l ? void 0 !== s[g] && (n || n + "" != "NaN" && null  != n) ? (c = new pa(s,g,l || j || 0,0,c,-1,g,!1,0,m,n),
                c.xs0 = "none" !== n || "display" !== g && -1 === g.indexOf("Style") ? n : m) : S("invalid " + g + " tween value: " + b[g]) : (c = new pa(s,g,j,l - j,c,0,g,k !== !1 && ("px" === p || "zIndex" === g),0,m,n),
                c.xs0 = p)) : c = ra(s, g, m, n, !0, null , c, 0, f)),
                f && c && !c.plugin && (c.plugin = f);
            return c
        }
        ,
        j.setRatio = function(a) {
            var b, c, d, e = this._firstPT, f = 1e-6;
            if (1 !== a || this._tween._time !== this._tween._duration && 0 !== this._tween._time)
                if (a || this._tween._time !== this._tween._duration && 0 !== this._tween._time || this._tween._rawPrevTime === -1e-6)
                    for (; e; ) {
                        if (b = e.c * a + e.s,
                        e.r ? b = Math.round(b) : f > b && b > -f && (b = 0),
                        e.type)
                            if (1 === e.type)
                                if (d = e.l,
                                2 === d)
                                    e.t[e.p] = e.xs0 + b + e.xs1 + e.xn1 + e.xs2;
                                else if (3 === d)
                                    e.t[e.p] = e.xs0 + b + e.xs1 + e.xn1 + e.xs2 + e.xn2 + e.xs3;
                                else if (4 === d)
                                    e.t[e.p] = e.xs0 + b + e.xs1 + e.xn1 + e.xs2 + e.xn2 + e.xs3 + e.xn3 + e.xs4;
                                else if (5 === d)
                                    e.t[e.p] = e.xs0 + b + e.xs1 + e.xn1 + e.xs2 + e.xn2 + e.xs3 + e.xn3 + e.xs4 + e.xn4 + e.xs5;
                                else {
                                    for (c = e.xs0 + b + e.xs1,
                                    d = 1; d < e.l; d++)
                                        c += e["xn" + d] + e["xs" + (d + 1)];
                                    e.t[e.p] = c
                                }
                            else
                                -1 === e.type ? e.t[e.p] = e.xs0 : e.setRatio && e.setRatio(a);
                        else
                            e.t[e.p] = b + e.xs0;
                        e = e._next
                    }
                else
                    for (; e; )
                        2 !== e.type ? e.t[e.p] = e.b : e.setRatio(a),
                        e = e._next;
            else
                for (; e; ) {
                    if (2 !== e.type)
                        if (e.r && -1 !== e.type)
                            if (b = Math.round(e.s + e.c),
                            e.type) {
                                if (1 === e.type) {
                                    for (d = e.l,
                                    c = e.xs0 + b + e.xs1,
                                    d = 1; d < e.l; d++)
                                        c += e["xn" + d] + e["xs" + (d + 1)];
                                    e.t[e.p] = c
                                }
                            } else
                                e.t[e.p] = b + e.xs0;
                        else
                            e.t[e.p] = e.e;
                    else
                        e.setRatio(a);
                    e = e._next
                }
        }
        ,
        j._enableTransforms = function(a) {
            this._transform = this._transform || La(this._target, e, !0),
            this._transformType = this._transform.svg && wa || !a && 3 !== this._transformType ? 2 : 3
        }
        ;
        var Sa = function(a) {
            this.t[this.p] = this.e,
            this.data._linkCSSP(this, this._next, null , !0)
        }
        ;
        j._addLazySet = function(a, b, c) {
            var d = this._firstPT = new pa(a,b,0,0,this._firstPT,2);
            d.e = c,
            d.setRatio = Sa,
            d.data = this
        }
        ,
        j._linkCSSP = function(a, b, c, d) {
            return a && (b && (b._prev = a),
            a._next && (a._next._prev = a._prev),
            a._prev ? a._prev._next = a._next : this._firstPT === a && (this._firstPT = a._next,
            d = !0),
            c ? c._next = a : d || null  !== this._firstPT || (this._firstPT = a),
            a._next = b,
            a._prev = c),
            a
        }
        ,
        j._kill = function(b) {
            var c, d, e, f = b;
            if (b.autoAlpha || b.alpha) {
                f = {};
                for (d in b)
                    f[d] = b[d];
                f.opacity = 1,
                f.autoAlpha && (f.visibility = 1)
            }
            return b.className && (c = this._classNamePT) && (e = c.xfirst,
            e && e._prev ? this._linkCSSP(e._prev, c._next, e._prev._prev) : e === this._firstPT && (this._firstPT = c._next),
            c._next && this._linkCSSP(c._next, c._next._next, e._prev),
            this._classNamePT = null ),
            a.prototype._kill.call(this, f)
        }
        ;
        var Ta = function(a, b, c) {
            var d, e, f, g;
            if (a.slice)
                for (e = a.length; --e > -1; )
                    Ta(a[e], b, c);
            else
                for (d = a.childNodes,
                e = d.length; --e > -1; )
                    f = d[e],
                    g = f.type,
                    f.style && (b.push($(f)),
                    c && c.push(f)),
                    1 !== g && 9 !== g && 11 !== g || !f.childNodes.length || Ta(f, b, c)
        }
        ;
        return g.cascadeTo = function(a, c, d) {
            var e, f, g, h, i = b.to(a, c, d), j = [i], k = [], l = [], m = [], n = b._internals.reservedProps;
            for (a = i._targets || i.target,
            Ta(a, k, m),
            i.render(c, !0, !0),
            Ta(a, l),
            i.render(0, !0, !0),
            i._enabled(!0),
            e = m.length; --e > -1; )
                if (f = _(m[e], k[e], l[e]),
                f.firstMPT) {
                    f = f.difs;
                    for (g in d)
                        n[g] && (f[g] = d[g]);
                    h = {};
                    for (g in f)
                        h[g] = k[e][g];
                    j.push(b.fromTo(m[e], c, h, f))
                }
            return j
        }
        ,
        a.activate([g]),
        g
    }, !0),
    function() {
        var a = _gsScope._gsDefine.plugin({
            propName: "roundProps",
            version: "1.5",
            priority: -1,
            API: 2,
            init: function(a, b, c) {
                return this._tween = c,
                !0
            }
        })
          , b = function(a) {
            for (; a; )
                a.f || a.blob || (a.r = 1),
                a = a._next
        }
          , c = a.prototype;
        c._onInitAllProps = function() {
            for (var a, c, d, e = this._tween, f = e.vars.roundProps.join ? e.vars.roundProps : e.vars.roundProps.split(","), g = f.length, h = {}, i = e._propLookup.roundProps; --g > -1; )
                h[f[g]] = 1;
            for (g = f.length; --g > -1; )
                for (a = f[g],
                c = e._firstPT; c; )
                    d = c._next,
                    c.pg ? c.t._roundProps(h, !0) : c.n === a && (2 === c.f && c.t ? b(c.t._firstPT) : (this._add(c.t, a, c.s, c.c),
                    d && (d._prev = c._prev),
                    c._prev ? c._prev._next = d : e._firstPT === c && (e._firstPT = d),
                    c._next = c._prev = null ,
                    e._propLookup[a] = i)),
                    c = d;
            return !1
        }
        ,
        c._add = function(a, b, c, d) {
            this._addTween(a, b, c, c + d, b, !0),
            this._overwriteProps.push(b)
        }
    }(),
    function() {
        _gsScope._gsDefine.plugin({
            propName: "attr",
            API: 2,
            version: "0.5.0",
            init: function(a, b, c) {
                var d;
                if ("function" != typeof a.setAttribute)
                    return !1;
                for (d in b)
                    this._addTween(a, "setAttribute", a.getAttribute(d) + "", b[d] + "", d, !1, d),
                    this._overwriteProps.push(d);
                return !0
            }
        })
    }(),
    _gsScope._gsDefine.plugin({
        propName: "directionalRotation",
        version: "0.2.1",
        API: 2,
        init: function(a, b, c) {
            "object" != typeof b && (b = {
                rotation: b
            }),
            this.finals = {};
            var d, e, f, g, h, i, j = b.useRadians === !0 ? 2 * Math.PI : 360, k = 1e-6;
            for (d in b)
                "useRadians" !== d && (i = (b[d] + "").split("_"),
                e = i[0],
                f = parseFloat("function" != typeof a[d] ? a[d] : a[d.indexOf("set") || "function" != typeof a["get" + d.substr(3)] ? d : "get" + d.substr(3)]()),
                g = this.finals[d] = "string" == typeof e && "=" === e.charAt(1) ? f + parseInt(e.charAt(0) + "1", 10) * Number(e.substr(2)) : Number(e) || 0,
                h = g - f,
                i.length && (e = i.join("_"),
                -1 !== e.indexOf("short") && (h %= j,
                h !== h % (j / 2) && (h = 0 > h ? h + j : h - j)),
                -1 !== e.indexOf("_cw") && 0 > h ? h = (h + 9999999999 * j) % j - (h / j | 0) * j : -1 !== e.indexOf("ccw") && h > 0 && (h = (h - 9999999999 * j) % j - (h / j | 0) * j)),
                (h > k || -k > h) && (this._addTween(a, d, f, f + h, d),
                this._overwriteProps.push(d)));
            return !0
        },
        set: function(a) {
            var b;
            if (1 !== a)
                this._super.setRatio.call(this, a);
            else
                for (b = this._firstPT; b; )
                    b.f ? b.t[b.p](this.finals[b.p]) : b.t[b.p] = this.finals[b.p],
                    b = b._next
        }
    })._autoCSS = !0,
    _gsScope._gsDefine("easing.Back", ["easing.Ease"], function(a) {
        var b, c, d, e = _gsScope.GreenSockGlobals || _gsScope, f = e.com.greensock, g = 2 * Math.PI, h = Math.PI / 2, i = f._class, j = function(b, c) {
            var d = i("easing." + b, function() {}, !0)
              , e = d.prototype = new a;
            return e.constructor = d,
            e.getRatio = c,
            d
        }
        , k = a.register || function() {}
        , l = function(a, b, c, d, e) {
            var f = i("easing." + a, {
                easeOut: new b,
                easeIn: new c,
                easeInOut: new d
            }, !0);
            return k(f, a),
            f
        }
        , m = function(a, b, c) {
            this.t = a,
            this.v = b,
            c && (this.next = c,
            c.prev = this,
            this.c = c.v - b,
            this.gap = c.t - a)
        }
        , n = function(b, c) {
            var d = i("easing." + b, function(a) {
                this._p1 = a || 0 === a ? a : 1.70158,
                this._p2 = 1.525 * this._p1
            }, !0)
              , e = d.prototype = new a;
            return e.constructor = d,
            e.getRatio = c,
            e.config = function(a) {
                return new d(a)
            }
            ,
            d
        }
        , o = l("Back", n("BackOut", function(a) {
            return (a -= 1) * a * ((this._p1 + 1) * a + this._p1) + 1
        }), n("BackIn", function(a) {
            return a * a * ((this._p1 + 1) * a - this._p1)
        }), n("BackInOut", function(a) {
            return (a *= 2) < 1 ? .5 * a * a * ((this._p2 + 1) * a - this._p2) : .5 * ((a -= 2) * a * ((this._p2 + 1) * a + this._p2) + 2)
        })), p = i("easing.SlowMo", function(a, b, c) {
            b = b || 0 === b ? b : .7,
            null  == a ? a = .7 : a > 1 && (a = 1),
            this._p = 1 !== a ? b : 0,
            this._p1 = (1 - a) / 2,
            this._p2 = a,
            this._p3 = this._p1 + this._p2,
            this._calcEnd = c === !0
        }, !0), q = p.prototype = new a;
        return q.constructor = p,
        q.getRatio = function(a) {
            var b = a + (.5 - a) * this._p;
            return a < this._p1 ? this._calcEnd ? 1 - (a = 1 - a / this._p1) * a : b - (a = 1 - a / this._p1) * a * a * a * b : a > this._p3 ? this._calcEnd ? 1 - (a = (a - this._p3) / this._p1) * a : b + (a - b) * (a = (a - this._p3) / this._p1) * a * a * a : this._calcEnd ? 1 : b
        }
        ,
        p.ease = new p(.7,.7),
        q.config = p.config = function(a, b, c) {
            return new p(a,b,c)
        }
        ,
        b = i("easing.SteppedEase", function(a) {
            a = a || 1,
            this._p1 = 1 / a,
            this._p2 = a + 1
        }, !0),
        q = b.prototype = new a,
        q.constructor = b,
        q.getRatio = function(a) {
            return 0 > a ? a = 0 : a >= 1 && (a = .999999999),
            (this._p2 * a >> 0) * this._p1
        }
        ,
        q.config = b.config = function(a) {
            return new b(a)
        }
        ,
        c = i("easing.RoughEase", function(b) {
            b = b || {};
            for (var c, d, e, f, g, h, i = b.taper || "none", j = [], k = 0, l = 0 | (b.points || 20), n = l, o = b.randomize !== !1, p = b.clamp === !0, q = b.template instanceof a ? b.template : null , r = "number" == typeof b.strength ? .4 * b.strength : .4; --n > -1; )
                c = o ? Math.random() : 1 / l * n,
                d = q ? q.getRatio(c) : c,
                "none" === i ? e = r : "out" === i ? (f = 1 - c,
                e = f * f * r) : "in" === i ? e = c * c * r : .5 > c ? (f = 2 * c,
                e = f * f * .5 * r) : (f = 2 * (1 - c),
                e = f * f * .5 * r),
                o ? d += Math.random() * e - .5 * e : n % 2 ? d += .5 * e : d -= .5 * e,
                p && (d > 1 ? d = 1 : 0 > d && (d = 0)),
                j[k++] = {
                    x: c,
                    y: d
                };
            for (j.sort(function(a, b) {
                return a.x - b.x
            }),
            h = new m(1,1,null ),
            n = l; --n > -1; )
                g = j[n],
                h = new m(g.x,g.y,h);
            this._prev = new m(0,0,0 !== h.t ? h : h.next)
        }, !0),
        q = c.prototype = new a,
        q.constructor = c,
        q.getRatio = function(a) {
            var b = this._prev;
            if (a > b.t) {
                for (; b.next && a >= b.t; )
                    b = b.next;
                b = b.prev
            } else
                for (; b.prev && a <= b.t; )
                    b = b.prev;
            return this._prev = b,
            b.v + (a - b.t) / b.gap * b.c
        }
        ,
        q.config = function(a) {
            return new c(a)
        }
        ,
        c.ease = new c,
        l("Bounce", j("BounceOut", function(a) {
            return 1 / 2.75 > a ? 7.5625 * a * a : 2 / 2.75 > a ? 7.5625 * (a -= 1.5 / 2.75) * a + .75 : 2.5 / 2.75 > a ? 7.5625 * (a -= 2.25 / 2.75) * a + .9375 : 7.5625 * (a -= 2.625 / 2.75) * a + .984375
        }), j("BounceIn", function(a) {
            return (a = 1 - a) < 1 / 2.75 ? 1 - 7.5625 * a * a : 2 / 2.75 > a ? 1 - (7.5625 * (a -= 1.5 / 2.75) * a + .75) : 2.5 / 2.75 > a ? 1 - (7.5625 * (a -= 2.25 / 2.75) * a + .9375) : 1 - (7.5625 * (a -= 2.625 / 2.75) * a + .984375)
        }), j("BounceInOut", function(a) {
            var b = .5 > a;
            return a = b ? 1 - 2 * a : 2 * a - 1,
            a = 1 / 2.75 > a ? 7.5625 * a * a : 2 / 2.75 > a ? 7.5625 * (a -= 1.5 / 2.75) * a + .75 : 2.5 / 2.75 > a ? 7.5625 * (a -= 2.25 / 2.75) * a + .9375 : 7.5625 * (a -= 2.625 / 2.75) * a + .984375,
            b ? .5 * (1 - a) : .5 * a + .5
        })),
        l("Circ", j("CircOut", function(a) {
            return Math.sqrt(1 - (a -= 1) * a)
        }), j("CircIn", function(a) {
            return -(Math.sqrt(1 - a * a) - 1)
        }), j("CircInOut", function(a) {
            return (a *= 2) < 1 ? -.5 * (Math.sqrt(1 - a * a) - 1) : .5 * (Math.sqrt(1 - (a -= 2) * a) + 1)
        })),
        d = function(b, c, d) {
            var e = i("easing." + b, function(a, b) {
                this._p1 = a >= 1 ? a : 1,
                this._p2 = (b || d) / (1 > a ? a : 1),
                this._p3 = this._p2 / g * (Math.asin(1 / this._p1) || 0),
                this._p2 = g / this._p2
            }, !0)
              , f = e.prototype = new a;
            return f.constructor = e,
            f.getRatio = c,
            f.config = function(a, b) {
                return new e(a,b)
            }
            ,
            e
        }
        ,
        l("Elastic", d("ElasticOut", function(a) {
            return this._p1 * Math.pow(2, -10 * a) * Math.sin((a - this._p3) * this._p2) + 1
        }, .3), d("ElasticIn", function(a) {
            return -(this._p1 * Math.pow(2, 10 * (a -= 1)) * Math.sin((a - this._p3) * this._p2))
        }, .3), d("ElasticInOut", function(a) {
            return (a *= 2) < 1 ? -.5 * (this._p1 * Math.pow(2, 10 * (a -= 1)) * Math.sin((a - this._p3) * this._p2)) : this._p1 * Math.pow(2, -10 * (a -= 1)) * Math.sin((a - this._p3) * this._p2) * .5 + 1
        }, .45)),
        l("Expo", j("ExpoOut", function(a) {
            return 1 - Math.pow(2, -10 * a)
        }), j("ExpoIn", function(a) {
            return Math.pow(2, 10 * (a - 1)) - .001
        }), j("ExpoInOut", function(a) {
            return (a *= 2) < 1 ? .5 * Math.pow(2, 10 * (a - 1)) : .5 * (2 - Math.pow(2, -10 * (a - 1)))
        })),
        l("Sine", j("SineOut", function(a) {
            return Math.sin(a * h)
        }), j("SineIn", function(a) {
            return -Math.cos(a * h) + 1
        }), j("SineInOut", function(a) {
            return -.5 * (Math.cos(Math.PI * a) - 1)
        })),
        i("easing.EaseLookup", {
            find: function(b) {
                return a.map[b]
            }
        }, !0),
        k(e.SlowMo, "SlowMo", "ease,"),
        k(c, "RoughEase", "ease,"),
        k(b, "SteppedEase", "ease,"),
        o
    }, !0)
}),
_gsScope._gsDefine && _gsScope._gsQueue.pop()(),
function(a, b) {
    "use strict";
    var c = a.GreenSockGlobals = a.GreenSockGlobals || a;
    if (!c.TweenLite) {
        var d, e, f, g, h, i = function(a) {
            var b, d = a.split("."), e = c;
            for (b = 0; b < d.length; b++)
                e[d[b]] = e = e[d[b]] || {};
            return e
        }
        , j = i("com.greensock"), k = 1e-10, l = function(a) {
            var b, c = [], d = a.length;
            for (b = 0; b !== d; c.push(a[b++]))
                ;
            return c
        }
        , m = function() {}
        , n = function() {
            var a = Object.prototype.toString
              , b = a.call([]);
            return function(c) {
                return null  != c && (c instanceof Array || "object" == typeof c && !!c.push && a.call(c) === b)
            }
        }(), o = {}, p = function(d, e, f, g) {
            this.sc = o[d] ? o[d].sc : [],
            o[d] = this,
            this.gsClass = null ,
            this.func = f;
            var h = [];
            this.check = function(j) {
                for (var k, l, m, n, q, r = e.length, s = r; --r > -1; )
                    (k = o[e[r]] || new p(e[r],[])).gsClass ? (h[r] = k.gsClass,
                    s--) : j && k.sc.push(this);
                if (0 === s && f)
                    for (l = ("com.greensock." + d).split("."),
                    m = l.pop(),
                    n = i(l.join("."))[m] = this.gsClass = f.apply(f, h),
                    g && (c[m] = n,
                    q = "undefined" != typeof module && module.exports,
                    !q && "function" == typeof define && define.amd ? define((a.GreenSockAMDPath ? a.GreenSockAMDPath + "/" : "") + d.split(".").pop(), [], function() {
                        return n
                    }) : d === b && q && (module.exports = n)),
                    r = 0; r < this.sc.length; r++)
                        this.sc[r].check()
            }
            ,
            this.check(!0)
        }
        , q = a._gsDefine = function(a, b, c, d) {
            return new p(a,b,c,d)
        }
        , r = j._class = function(a, b, c) {
            return b = b || function() {}
            ,
            q(a, [], function() {
                return b
            }, c),
            b
        }
        ;
        q.globals = c;
        var s = [0, 0, 1, 1]
          , t = []
          , u = r("easing.Ease", function(a, b, c, d) {
            this._func = a,
            this._type = c || 0,
            this._power = d || 0,
            this._params = b ? s.concat(b) : s
        }, !0)
          , v = u.map = {}
          , w = u.register = function(a, b, c, d) {
            for (var e, f, g, h, i = b.split(","), k = i.length, l = (c || "easeIn,easeOut,easeInOut").split(","); --k > -1; )
                for (f = i[k],
                e = d ? r("easing." + f, null , !0) : j.easing[f] || {},
                g = l.length; --g > -1; )
                    h = l[g],
                    v[f + "." + h] = v[h + f] = e[h] = a.getRatio ? a : a[h] || new a
        }
        ;
        for (f = u.prototype,
        f._calcEnd = !1,
        f.getRatio = function(a) {
            if (this._func)
                return this._params[0] = a,
                this._func.apply(null , this._params);
            var b = this._type
              , c = this._power
              , d = 1 === b ? 1 - a : 2 === b ? a : .5 > a ? 2 * a : 2 * (1 - a);
            return 1 === c ? d *= d : 2 === c ? d *= d * d : 3 === c ? d *= d * d * d : 4 === c && (d *= d * d * d * d),
            1 === b ? 1 - d : 2 === b ? d : .5 > a ? d / 2 : 1 - d / 2
        }
        ,
        d = ["Linear", "Quad", "Cubic", "Quart", "Quint,Strong"],
        e = d.length; --e > -1; )
            f = d[e] + ",Power" + e,
            w(new u(null ,null ,1,e), f, "easeOut", !0),
            w(new u(null ,null ,2,e), f, "easeIn" + (0 === e ? ",easeNone" : "")),
            w(new u(null ,null ,3,e), f, "easeInOut");
        v.linear = j.easing.Linear.easeIn,
        v.swing = j.easing.Quad.easeInOut;
        var x = r("events.EventDispatcher", function(a) {
            this._listeners = {},
            this._eventTarget = a || this
        });
        f = x.prototype,
        f.addEventListener = function(a, b, c, d, e) {
            e = e || 0;
            var f, i, j = this._listeners[a], k = 0;
            for (null  == j && (this._listeners[a] = j = []),
            i = j.length; --i > -1; )
                f = j[i],
                f.c === b && f.s === c ? j.splice(i, 1) : 0 === k && f.pr < e && (k = i + 1);
            j.splice(k, 0, {
                c: b,
                s: c,
                up: d,
                pr: e
            }),
            this !== g || h || g.wake()
        }
        ,
        f.removeEventListener = function(a, b) {
            var c, d = this._listeners[a];
            if (d)
                for (c = d.length; --c > -1; )
                    if (d[c].c === b)
                        return void d.splice(c, 1)
        }
        ,
        f.dispatchEvent = function(a) {
            var b, c, d, e = this._listeners[a];
            if (e)
                for (b = e.length,
                c = this._eventTarget; --b > -1; )
                    d = e[b],
                    d && (d.up ? d.c.call(d.s || c, {
                        type: a,
                        target: c
                    }) : d.c.call(d.s || c))
        }
        ;
        var y = a.requestAnimationFrame
          , z = a.cancelAnimationFrame
          , A = Date.now || function() {
            return (new Date).getTime()
        }
          , B = A();
        for (d = ["ms", "moz", "webkit", "o"],
        e = d.length; --e > -1 && !y; )
            y = a[d[e] + "RequestAnimationFrame"],
            z = a[d[e] + "CancelAnimationFrame"] || a[d[e] + "CancelRequestAnimationFrame"];
        r("Ticker", function(a, b) {
            var c, d, e, f, i, j = this, l = A(), n = b !== !1 && y ? "auto" : !1, o = 500, p = 33, q = "tick", r = function(a) {
                var b, g, h = A() - B;
                h > o && (l += h - p),
                B += h,
                j.time = (B - l) / 1e3,
                b = j.time - i,
                (!c || b > 0 || a === !0) && (j.frame++,
                i += b + (b >= f ? .004 : f - b),
                g = !0),
                a !== !0 && (e = d(r)),
                g && j.dispatchEvent(q)
            }
            ;
            x.call(j),
            j.time = j.frame = 0,
            j.tick = function() {
                r(!0)
            }
            ,
            j.lagSmoothing = function(a, b) {
                o = a || 1 / k,
                p = Math.min(b, o, 0)
            }
            ,
            j.sleep = function() {
                null  != e && (n && z ? z(e) : clearTimeout(e),
                d = m,
                e = null ,
                j === g && (h = !1))
            }
            ,
            j.wake = function(a) {
                null  !== e ? j.sleep() : a ? l += -B + (B = A()) : j.frame > 10 && (B = A() - o + 5),
                d = 0 === c ? m : n && y ? y : function(a) {
                    return setTimeout(a, 1e3 * (i - j.time) + 1 | 0)
                }
                ,
                j === g && (h = !0),
                r(2)
            }
            ,
            j.fps = function(a) {
                return arguments.length ? (c = a,
                f = 1 / (c || 60),
                i = this.time + f,
                void j.wake()) : c
            }
            ,
            j.useRAF = function(a) {
                return arguments.length ? (j.sleep(),
                n = a,
                void j.fps(c)) : n
            }
            ,
            j.fps(a),
            setTimeout(function() {
                "auto" === n && j.frame < 5 && "hidden" !== document.visibilityState && j.useRAF(!1)
            }, 1500)
        }),
        f = j.Ticker.prototype = new j.events.EventDispatcher,
        f.constructor = j.Ticker;
        var C = r("core.Animation", function(a, b) {
            if (this.vars = b = b || {},
            this._duration = this._totalDuration = a || 0,
            this._delay = Number(b.delay) || 0,
            this._timeScale = 1,
            this._active = b.immediateRender === !0,
            this.data = b.data,
            this._reversed = b.reversed === !0,
            V) {
                h || g.wake();
                var c = this.vars.useFrames ? U : V;
                c.add(this, c._time),
                this.vars.paused && this.paused(!0)
            }
        });
        g = C.ticker = new j.Ticker,
        f = C.prototype,
        f._dirty = f._gc = f._initted = f._paused = !1,
        f._totalTime = f._time = 0,
        f._rawPrevTime = -1,
        f._next = f._last = f._onUpdate = f._timeline = f.timeline = null ,
        f._paused = !1;
        var D = function() {
            h && A() - B > 2e3 && g.wake(),
            setTimeout(D, 2e3)
        }
        ;
        D(),
        f.play = function(a, b) {
            return null  != a && this.seek(a, b),
            this.reversed(!1).paused(!1)
        }
        ,
        f.pause = function(a, b) {
            return null  != a && this.seek(a, b),
            this.paused(!0)
        }
        ,
        f.resume = function(a, b) {
            return null  != a && this.seek(a, b),
            this.paused(!1)
        }
        ,
        f.seek = function(a, b) {
            return this.totalTime(Number(a), b !== !1)
        }
        ,
        f.restart = function(a, b) {
            return this.reversed(!1).paused(!1).totalTime(a ? -this._delay : 0, b !== !1, !0)
        }
        ,
        f.reverse = function(a, b) {
            return null  != a && this.seek(a || this.totalDuration(), b),
            this.reversed(!0).paused(!1)
        }
        ,
        f.render = function(a, b, c) {}
        ,
        f.invalidate = function() {
            return this._time = this._totalTime = 0,
            this._initted = this._gc = !1,
            this._rawPrevTime = -1,
            (this._gc || !this.timeline) && this._enabled(!0),
            this
        }
        ,
        f.isActive = function() {
            var a, b = this._timeline, c = this._startTime;
            return !b || !this._gc && !this._paused && b.isActive() && (a = b.rawTime()) >= c && a < c + this.totalDuration() / this._timeScale
        }
        ,
        f._enabled = function(a, b) {
            return h || g.wake(),
            this._gc = !a,
            this._active = this.isActive(),
            b !== !0 && (a && !this.timeline ? this._timeline.add(this, this._startTime - this._delay) : !a && this.timeline && this._timeline._remove(this, !0)),
            !1
        }
        ,
        f._kill = function(a, b) {
            return this._enabled(!1, !1)
        }
        ,
        f.kill = function(a, b) {
            return this._kill(a, b),
            this
        }
        ,
        f._uncache = function(a) {
            for (var b = a ? this : this.timeline; b; )
                b._dirty = !0,
                b = b.timeline;
            return this
        }
        ,
        f._swapSelfInParams = function(a) {
            for (var b = a.length, c = a.concat(); --b > -1; )
                "{self}" === a[b] && (c[b] = this);
            return c
        }
        ,
        f._callback = function(a) {
            var b = this.vars;
            b[a].apply(b[a + "Scope"] || b.callbackScope || this, b[a + "Params"] || t)
        }
        ,
        f.eventCallback = function(a, b, c, d) {
            if ("on" === (a || "").substr(0, 2)) {
                var e = this.vars;
                if (1 === arguments.length)
                    return e[a];
                null  == b ? delete e[a] : (e[a] = b,
                e[a + "Params"] = n(c) && -1 !== c.join("").indexOf("{self}") ? this._swapSelfInParams(c) : c,
                e[a + "Scope"] = d),
                "onUpdate" === a && (this._onUpdate = b)
            }
            return this
        }
        ,
        f.delay = function(a) {
            return arguments.length ? (this._timeline.smoothChildTiming && this.startTime(this._startTime + a - this._delay),
            this._delay = a,
            this) : this._delay
        }
        ,
        f.duration = function(a) {
            return arguments.length ? (this._duration = this._totalDuration = a,
            this._uncache(!0),
            this._timeline.smoothChildTiming && this._time > 0 && this._time < this._duration && 0 !== a && this.totalTime(this._totalTime * (a / this._duration), !0),
            this) : (this._dirty = !1,
            this._duration)
        }
        ,
        f.totalDuration = function(a) {
            return this._dirty = !1,
            arguments.length ? this.duration(a) : this._totalDuration
        }
        ,
        f.time = function(a, b) {
            return arguments.length ? (this._dirty && this.totalDuration(),
            this.totalTime(a > this._duration ? this._duration : a, b)) : this._time
        }
        ,
        f.totalTime = function(a, b, c) {
            if (h || g.wake(),
            !arguments.length)
                return this._totalTime;
            if (this._timeline) {
                if (0 > a && !c && (a += this.totalDuration()),
                this._timeline.smoothChildTiming) {
                    this._dirty && this.totalDuration();
                    var d = this._totalDuration
                      , e = this._timeline;
                    if (a > d && !c && (a = d),
                    this._startTime = (this._paused ? this._pauseTime : e._time) - (this._reversed ? d - a : a) / this._timeScale,
                    e._dirty || this._uncache(!1),
                    e._timeline)
                        for (; e._timeline; )
                            e._timeline._time !== (e._startTime + e._totalTime) / e._timeScale && e.totalTime(e._totalTime, !0),
                            e = e._timeline
                }
                this._gc && this._enabled(!0, !1),
                (this._totalTime !== a || 0 === this._duration) && (I.length && X(),
                this.render(a, b, !1),
                I.length && X())
            }
            return this
        }
        ,
        f.progress = f.totalProgress = function(a, b) {
            var c = this.duration();
            return arguments.length ? this.totalTime(c * a, b) : c ? this._time / c : this.ratio
        }
        ,
        f.startTime = function(a) {
            return arguments.length ? (a !== this._startTime && (this._startTime = a,
            this.timeline && this.timeline._sortChildren && this.timeline.add(this, a - this._delay)),
            this) : this._startTime
        }
        ,
        f.endTime = function(a) {
            return this._startTime + (0 != a ? this.totalDuration() : this.duration()) / this._timeScale
        }
        ,
        f.timeScale = function(a) {
            if (!arguments.length)
                return this._timeScale;
            if (a = a || k,
            this._timeline && this._timeline.smoothChildTiming) {
                var b = this._pauseTime
                  , c = b || 0 === b ? b : this._timeline.totalTime();
                this._startTime = c - (c - this._startTime) * this._timeScale / a
            }
            return this._timeScale = a,
            this._uncache(!1)
        }
        ,
        f.reversed = function(a) {
            return arguments.length ? (a != this._reversed && (this._reversed = a,
            this.totalTime(this._timeline && !this._timeline.smoothChildTiming ? this.totalDuration() - this._totalTime : this._totalTime, !0)),
            this) : this._reversed
        }
        ,
        f.paused = function(a) {
            if (!arguments.length)
                return this._paused;
            var b, c, d = this._timeline;
            return a != this._paused && d && (h || a || g.wake(),
            b = d.rawTime(),
            c = b - this._pauseTime,
            !a && d.smoothChildTiming && (this._startTime += c,
            this._uncache(!1)),
            this._pauseTime = a ? b : null ,
            this._paused = a,
            this._active = this.isActive(),
            !a && 0 !== c && this._initted && this.duration() && (b = d.smoothChildTiming ? this._totalTime : (b - this._startTime) / this._timeScale,
            this.render(b, b === this._totalTime, !0))),
            this._gc && !a && this._enabled(!0, !1),
            this
        }
        ;
        var E = r("core.SimpleTimeline", function(a) {
            C.call(this, 0, a),
            this.autoRemoveChildren = this.smoothChildTiming = !0
        });
        f = E.prototype = new C,
        f.constructor = E,
        f.kill()._gc = !1,
        f._first = f._last = f._recent = null ,
        f._sortChildren = !1,
        f.add = f.insert = function(a, b, c, d) {
            var e, f;
            if (a._startTime = Number(b || 0) + a._delay,
            a._paused && this !== a._timeline && (a._pauseTime = a._startTime + (this.rawTime() - a._startTime) / a._timeScale),
            a.timeline && a.timeline._remove(a, !0),
            a.timeline = a._timeline = this,
            a._gc && a._enabled(!0, !0),
            e = this._last,
            this._sortChildren)
                for (f = a._startTime; e && e._startTime > f; )
                    e = e._prev;
            return e ? (a._next = e._next,
            e._next = a) : (a._next = this._first,
            this._first = a),
            a._next ? a._next._prev = a : this._last = a,
            a._prev = e,
            this._recent = a,
            this._timeline && this._uncache(!0),
            this
        }
        ,
        f._remove = function(a, b) {
            return a.timeline === this && (b || a._enabled(!1, !0),
            a._prev ? a._prev._next = a._next : this._first === a && (this._first = a._next),
            a._next ? a._next._prev = a._prev : this._last === a && (this._last = a._prev),
            a._next = a._prev = a.timeline = null ,
            a === this._recent && (this._recent = this._last),
            this._timeline && this._uncache(!0)),
            this
        }
        ,
        f.render = function(a, b, c) {
            var d, e = this._first;
            for (this._totalTime = this._time = this._rawPrevTime = a; e; )
                d = e._next,
                (e._active || a >= e._startTime && !e._paused) && (e._reversed ? e.render((e._dirty ? e.totalDuration() : e._totalDuration) - (a - e._startTime) * e._timeScale, b, c) : e.render((a - e._startTime) * e._timeScale, b, c)),
                e = d
        }
        ,
        f.rawTime = function() {
            return h || g.wake(),
            this._totalTime
        }
        ;
        var F = r("TweenLite", function(b, c, d) {
            if (C.call(this, c, d),
            this.render = F.prototype.render,
            null  == b)
                throw "Cannot tween a null target.";
            this.target = b = "string" != typeof b ? b : F.selector(b) || b;
            var e, f, g, h = b.jquery || b.length && b !== a && b[0] && (b[0] === a || b[0].nodeType && b[0].style && !b.nodeType), i = this.vars.overwrite;
            if (this._overwrite = i = null  == i ? T[F.defaultOverwrite] : "number" == typeof i ? i >> 0 : T[i],
            (h || b instanceof Array || b.push && n(b)) && "number" != typeof b[0])
                for (this._targets = g = l(b),
                this._propLookup = [],
                this._siblings = [],
                e = 0; e < g.length; e++)
                    f = g[e],
                    f ? "string" != typeof f ? f.length && f !== a && f[0] && (f[0] === a || f[0].nodeType && f[0].style && !f.nodeType) ? (g.splice(e--, 1),
                    this._targets = g = g.concat(l(f))) : (this._siblings[e] = Y(f, this, !1),
                    1 === i && this._siblings[e].length > 1 && $(f, this, null , 1, this._siblings[e])) : (f = g[e--] = F.selector(f),
                    "string" == typeof f && g.splice(e + 1, 1)) : g.splice(e--, 1);
            else
                this._propLookup = {},
                this._siblings = Y(b, this, !1),
                1 === i && this._siblings.length > 1 && $(b, this, null , 1, this._siblings);
            (this.vars.immediateRender || 0 === c && 0 === this._delay && this.vars.immediateRender !== !1) && (this._time = -k,
            this.render(-this._delay))
        }, !0)
          , G = function(b) {
            return b && b.length && b !== a && b[0] && (b[0] === a || b[0].nodeType && b[0].style && !b.nodeType)
        }
          , H = function(a, b) {
            var c, d = {};
            for (c in a)
                S[c] || c in b && "transform" !== c && "x" !== c && "y" !== c && "width" !== c && "height" !== c && "className" !== c && "border" !== c || !(!P[c] || P[c] && P[c]._autoCSS) || (d[c] = a[c],
                delete a[c]);
            a.css = d
        }
        ;
        f = F.prototype = new C,
        f.constructor = F,
        f.kill()._gc = !1,
        f.ratio = 0,
        f._firstPT = f._targets = f._overwrittenProps = f._startAt = null ,
        f._notifyPluginsOfEnabled = f._lazy = !1,
        F.version = "1.18.2",
        F.defaultEase = f._ease = new u(null ,null ,1,1),
        F.defaultOverwrite = "auto",
        F.ticker = g,
        F.autoSleep = 120,
        F.lagSmoothing = function(a, b) {
            g.lagSmoothing(a, b)
        }
        ,
        F.selector = a.$ || a.jQuery || function(b) {
            var c = a.$ || a.jQuery;
            return c ? (F.selector = c,
            c(b)) : "undefined" == typeof document ? b : document.querySelectorAll ? document.querySelectorAll(b) : document.getElementById("#" === b.charAt(0) ? b.substr(1) : b)
        }
        ;
        var I = []
          , J = {}
          , K = /(?:(-|-=|\+=)?\d*\.?\d*(?:e[\-+]?\d+)?)[0-9]/gi
          , L = function(a) {
            for (var b, c = this._firstPT, d = 1e-6; c; )
                b = c.blob ? a ? this.join("") : this.start : c.c * a + c.s,
                c.r ? b = Math.round(b) : d > b && b > -d && (b = 0),
                c.f ? c.fp ? c.t[c.p](c.fp, b) : c.t[c.p](b) : c.t[c.p] = b,
                c = c._next
        }
          , M = function(a, b, c, d) {
            var e, f, g, h, i, j, k, l = [a, b], m = 0, n = "", o = 0;
            for (l.start = a,
            c && (c(l),
            a = l[0],
            b = l[1]),
            l.length = 0,
            e = a.match(K) || [],
            f = b.match(K) || [],
            d && (d._next = null ,
            d.blob = 1,
            l._firstPT = d),
            i = f.length,
            h = 0; i > h; h++)
                k = f[h],
                j = b.substr(m, b.indexOf(k, m) - m),
                n += j || !h ? j : ",",
                m += j.length,
                o ? o = (o + 1) % 5 : "rgba(" === j.substr(-5) && (o = 1),
                k === e[h] || e.length <= h ? n += k : (n && (l.push(n),
                n = ""),
                g = parseFloat(e[h]),
                l.push(g),
                l._firstPT = {
                    _next: l._firstPT,
                    t: l,
                    p: l.length - 1,
                    s: g,
                    c: ("=" === k.charAt(1) ? parseInt(k.charAt(0) + "1", 10) * parseFloat(k.substr(2)) : parseFloat(k) - g) || 0,
                    f: 0,
                    r: o && 4 > o
                }),
                m += k.length;
            return n += b.substr(m),
            n && l.push(n),
            l.setRatio = L,
            l
        }
          , N = function(a, b, c, d, e, f, g, h) {
            var i, j, k = "get" === c ? a[b] : c, l = typeof a[b], m = "string" == typeof d && "=" === d.charAt(1), n = {
                t: a,
                p: b,
                s: k,
                f: "function" === l,
                pg: 0,
                n: e || b,
                r: f,
                pr: 0,
                c: m ? parseInt(d.charAt(0) + "1", 10) * parseFloat(d.substr(2)) : parseFloat(d) - k || 0
            };
            return "number" !== l && ("function" === l && "get" === c && (j = b.indexOf("set") || "function" != typeof a["get" + b.substr(3)] ? b : "get" + b.substr(3),
            n.s = k = g ? a[j](g) : a[j]()),
            "string" == typeof k && (g || isNaN(k)) ? (n.fp = g,
            i = M(k, d, h || F.defaultStringFilter, n),
            n = {
                t: i,
                p: "setRatio",
                s: 0,
                c: 1,
                f: 2,
                pg: 0,
                n: e || b,
                pr: 0
            }) : m || (n.s = parseFloat(k),
            n.c = parseFloat(d) - n.s || 0)),
            n.c ? ((n._next = this._firstPT) && (n._next._prev = n),
            this._firstPT = n,
            n) : void 0
        }
          , O = F._internals = {
            isArray: n,
            isSelector: G,
            lazyTweens: I,
            blobDif: M
        }
          , P = F._plugins = {}
          , Q = O.tweenLookup = {}
          , R = 0
          , S = O.reservedProps = {
            ease: 1,
            delay: 1,
            overwrite: 1,
            onComplete: 1,
            onCompleteParams: 1,
            onCompleteScope: 1,
            useFrames: 1,
            runBackwards: 1,
            startAt: 1,
            onUpdate: 1,
            onUpdateParams: 1,
            onUpdateScope: 1,
            onStart: 1,
            onStartParams: 1,
            onStartScope: 1,
            onReverseComplete: 1,
            onReverseCompleteParams: 1,
            onReverseCompleteScope: 1,
            onRepeat: 1,
            onRepeatParams: 1,
            onRepeatScope: 1,
            easeParams: 1,
            yoyo: 1,
            immediateRender: 1,
            repeat: 1,
            repeatDelay: 1,
            data: 1,
            paused: 1,
            reversed: 1,
            autoCSS: 1,
            lazy: 1,
            onOverwrite: 1,
            callbackScope: 1,
            stringFilter: 1
        }
          , T = {
            none: 0,
            all: 1,
            auto: 2,
            concurrent: 3,
            allOnStart: 4,
            preexisting: 5,
            "true": 1,
            "false": 0
        }
          , U = C._rootFramesTimeline = new E
          , V = C._rootTimeline = new E
          , W = 30
          , X = O.lazyRender = function() {
            var a, b = I.length;
            for (J = {}; --b > -1; )
                a = I[b],
                a && a._lazy !== !1 && (a.render(a._lazy[0], a._lazy[1], !0),
                a._lazy = !1);
            I.length = 0
        }
        ;
        V._startTime = g.time,
        U._startTime = g.frame,
        V._active = U._active = !0,
        setTimeout(X, 1),
        C._updateRoot = F.render = function() {
            var a, b, c;
            if (I.length && X(),
            V.render((g.time - V._startTime) * V._timeScale, !1, !1),
            U.render((g.frame - U._startTime) * U._timeScale, !1, !1),
            I.length && X(),
            g.frame >= W) {
                W = g.frame + (parseInt(F.autoSleep, 10) || 120);
                for (c in Q) {
                    for (b = Q[c].tweens,
                    a = b.length; --a > -1; )
                        b[a]._gc && b.splice(a, 1);
                    0 === b.length && delete Q[c]
                }
                if (c = V._first,
                (!c || c._paused) && F.autoSleep && !U._first && 1 === g._listeners.tick.length) {
                    for (; c && c._paused; )
                        c = c._next;
                    c || g.sleep()
                }
            }
        }
        ,
        g.addEventListener("tick", C._updateRoot);
        var Y = function(a, b, c) {
            var d, e, f = a._gsTweenID;
            if (Q[f || (a._gsTweenID = f = "t" + R++)] || (Q[f] = {
                target: a,
                tweens: []
            }),
            b && (d = Q[f].tweens,
            d[e = d.length] = b,
            c))
                for (; --e > -1; )
                    d[e] === b && d.splice(e, 1);
            return Q[f].tweens
        }
          , Z = function(a, b, c, d) {
            var e, f, g = a.vars.onOverwrite;
            return g && (e = g(a, b, c, d)),
            g = F.onOverwrite,
            g && (f = g(a, b, c, d)),
            e !== !1 && f !== !1
        }
          , $ = function(a, b, c, d, e) {
            var f, g, h, i;
            if (1 === d || d >= 4) {
                for (i = e.length,
                f = 0; i > f; f++)
                    if ((h = e[f]) !== b)
                        h._gc || h._kill(null , a, b) && (g = !0);
                    else if (5 === d)
                        break;
                return g
            }
            var j, l = b._startTime + k, m = [], n = 0, o = 0 === b._duration;
            for (f = e.length; --f > -1; )
                (h = e[f]) === b || h._gc || h._paused || (h._timeline !== b._timeline ? (j = j || _(b, 0, o),
                0 === _(h, j, o) && (m[n++] = h)) : h._startTime <= l && h._startTime + h.totalDuration() / h._timeScale > l && ((o || !h._initted) && l - h._startTime <= 2e-10 || (m[n++] = h)));
            for (f = n; --f > -1; )
                if (h = m[f],
                2 === d && h._kill(c, a, b) && (g = !0),
                2 !== d || !h._firstPT && h._initted) {
                    if (2 !== d && !Z(h, b))
                        continue;h._enabled(!1, !1) && (g = !0)
                }
            return g
        }
          , _ = function(a, b, c) {
            for (var d = a._timeline, e = d._timeScale, f = a._startTime; d._timeline; ) {
                if (f += d._startTime,
                e *= d._timeScale,
                d._paused)
                    return -100;
                d = d._timeline
            }
            return f /= e,
            f > b ? f - b : c && f === b || !a._initted && 2 * k > f - b ? k : (f += a.totalDuration() / a._timeScale / e) > b + k ? 0 : f - b - k
        }
        ;
        f._init = function() {
            var a, b, c, d, e, f = this.vars, g = this._overwrittenProps, h = this._duration, i = !!f.immediateRender, j = f.ease;
            if (f.startAt) {
                this._startAt && (this._startAt.render(-1, !0),
                this._startAt.kill()),
                e = {};
                for (d in f.startAt)
                    e[d] = f.startAt[d];
                if (e.overwrite = !1,
                e.immediateRender = !0,
                e.lazy = i && f.lazy !== !1,
                e.startAt = e.delay = null ,
                this._startAt = F.to(this.target, 0, e),
                i)
                    if (this._time > 0)
                        this._startAt = null ;
                    else if (0 !== h)
                        return
            } else if (f.runBackwards && 0 !== h)
                if (this._startAt)
                    this._startAt.render(-1, !0),
                    this._startAt.kill(),
                    this._startAt = null ;
                else {
                    0 !== this._time && (i = !1),
                    c = {};
                    for (d in f)
                        S[d] && "autoCSS" !== d || (c[d] = f[d]);
                    if (c.overwrite = 0,
                    c.data = "isFromStart",
                    c.lazy = i && f.lazy !== !1,
                    c.immediateRender = i,
                    this._startAt = F.to(this.target, 0, c),
                    i) {
                        if (0 === this._time)
                            return
                    } else
                        this._startAt._init(),
                        this._startAt._enabled(!1),
                        this.vars.immediateRender && (this._startAt = null )
                }
            if (this._ease = j = j ? j instanceof u ? j : "function" == typeof j ? new u(j,f.easeParams) : v[j] || F.defaultEase : F.defaultEase,
            f.easeParams instanceof Array && j.config && (this._ease = j.config.apply(j, f.easeParams)),
            this._easeType = this._ease._type,
            this._easePower = this._ease._power,
            this._firstPT = null ,
            this._targets)
                for (a = this._targets.length; --a > -1; )
                    this._initProps(this._targets[a], this._propLookup[a] = {}, this._siblings[a], g ? g[a] : null ) && (b = !0);
            else
                b = this._initProps(this.target, this._propLookup, this._siblings, g);
            if (b && F._onPluginEvent("_onInitAllProps", this),
            g && (this._firstPT || "function" != typeof this.target && this._enabled(!1, !1)),
            f.runBackwards)
                for (c = this._firstPT; c; )
                    c.s += c.c,
                    c.c = -c.c,
                    c = c._next;
            this._onUpdate = f.onUpdate,
            this._initted = !0
        }
        ,
        f._initProps = function(b, c, d, e) {
            var f, g, h, i, j, k;
            if (null  == b)
                return !1;
            J[b._gsTweenID] && X(),
            this.vars.css || b.style && b !== a && b.nodeType && P.css && this.vars.autoCSS !== !1 && H(this.vars, b);
            for (f in this.vars)
                if (k = this.vars[f],
                S[f])
                    k && (k instanceof Array || k.push && n(k)) && -1 !== k.join("").indexOf("{self}") && (this.vars[f] = k = this._swapSelfInParams(k, this));
                else if (P[f] && (i = new P[f])._onInitTween(b, this.vars[f], this)) {
                    for (this._firstPT = j = {
                        _next: this._firstPT,
                        t: i,
                        p: "setRatio",
                        s: 0,
                        c: 1,
                        f: 1,
                        n: f,
                        pg: 1,
                        pr: i._priority
                    },
                    g = i._overwriteProps.length; --g > -1; )
                        c[i._overwriteProps[g]] = this._firstPT;
                    (i._priority || i._onInitAllProps) && (h = !0),
                    (i._onDisable || i._onEnable) && (this._notifyPluginsOfEnabled = !0),
                    j._next && (j._next._prev = j)
                } else
                    c[f] = N.call(this, b, f, "get", k, f, 0, null , this.vars.stringFilter);
            return e && this._kill(e, b) ? this._initProps(b, c, d, e) : this._overwrite > 1 && this._firstPT && d.length > 1 && $(b, this, c, this._overwrite, d) ? (this._kill(c, b),
            this._initProps(b, c, d, e)) : (this._firstPT && (this.vars.lazy !== !1 && this._duration || this.vars.lazy && !this._duration) && (J[b._gsTweenID] = !0),
            h)
        }
        ,
        f.render = function(a, b, c) {
            var d, e, f, g, h = this._time, i = this._duration, j = this._rawPrevTime;
            if (a >= i - 1e-7)
                this._totalTime = this._time = i,
                this.ratio = this._ease._calcEnd ? this._ease.getRatio(1) : 1,
                this._reversed || (d = !0,
                e = "onComplete",
                c = c || this._timeline.autoRemoveChildren),
                0 === i && (this._initted || !this.vars.lazy || c) && (this._startTime === this._timeline._duration && (a = 0),
                (0 > j || 0 >= a && a >= -1e-7 || j === k && "isPause" !== this.data) && j !== a && (c = !0,
                j > k && (e = "onReverseComplete")),
                this._rawPrevTime = g = !b || a || j === a ? a : k);
            else if (1e-7 > a)
                this._totalTime = this._time = 0,
                this.ratio = this._ease._calcEnd ? this._ease.getRatio(0) : 0,
                (0 !== h || 0 === i && j > 0) && (e = "onReverseComplete",
                d = this._reversed),
                0 > a && (this._active = !1,
                0 === i && (this._initted || !this.vars.lazy || c) && (j >= 0 && (j !== k || "isPause" !== this.data) && (c = !0),
                this._rawPrevTime = g = !b || a || j === a ? a : k)),
                this._initted || (c = !0);
            else if (this._totalTime = this._time = a,
            this._easeType) {
                var l = a / i
                  , m = this._easeType
                  , n = this._easePower;
                (1 === m || 3 === m && l >= .5) && (l = 1 - l),
                3 === m && (l *= 2),
                1 === n ? l *= l : 2 === n ? l *= l * l : 3 === n ? l *= l * l * l : 4 === n && (l *= l * l * l * l),
                1 === m ? this.ratio = 1 - l : 2 === m ? this.ratio = l : .5 > a / i ? this.ratio = l / 2 : this.ratio = 1 - l / 2
            } else
                this.ratio = this._ease.getRatio(a / i);
            if (this._time !== h || c) {
                if (!this._initted) {
                    if (this._init(),
                    !this._initted || this._gc)
                        return;
                    if (!c && this._firstPT && (this.vars.lazy !== !1 && this._duration || this.vars.lazy && !this._duration))
                        return this._time = this._totalTime = h,
                        this._rawPrevTime = j,
                        I.push(this),
                        void (this._lazy = [a, b]);
                    this._time && !d ? this.ratio = this._ease.getRatio(this._time / i) : d && this._ease._calcEnd && (this.ratio = this._ease.getRatio(0 === this._time ? 0 : 1))
                }
                for (this._lazy !== !1 && (this._lazy = !1),
                this._active || !this._paused && this._time !== h && a >= 0 && (this._active = !0),
                0 === h && (this._startAt && (a >= 0 ? this._startAt.render(a, b, c) : e || (e = "_dummyGS")),
                this.vars.onStart && (0 !== this._time || 0 === i) && (b || this._callback("onStart"))),
                f = this._firstPT; f; )
                    f.f ? f.t[f.p](f.c * this.ratio + f.s) : f.t[f.p] = f.c * this.ratio + f.s,
                    f = f._next;
                this._onUpdate && (0 > a && this._startAt && a !== -1e-4 && this._startAt.render(a, b, c),
                b || (this._time !== h || d) && this._callback("onUpdate")),
                e && (!this._gc || c) && (0 > a && this._startAt && !this._onUpdate && a !== -1e-4 && this._startAt.render(a, b, c),
                d && (this._timeline.autoRemoveChildren && this._enabled(!1, !1),
                this._active = !1),
                !b && this.vars[e] && this._callback(e),
                0 === i && this._rawPrevTime === k && g !== k && (this._rawPrevTime = 0))
            }
        }
        ,
        f._kill = function(a, b, c) {
            if ("all" === a && (a = null ),
            null  == a && (null  == b || b === this.target))
                return this._lazy = !1,
                this._enabled(!1, !1);
            b = "string" != typeof b ? b || this._targets || this.target : F.selector(b) || b;
            var d, e, f, g, h, i, j, k, l, m = c && this._time && c._startTime === this._startTime && this._timeline === c._timeline;
            if ((n(b) || G(b)) && "number" != typeof b[0])
                for (d = b.length; --d > -1; )
                    this._kill(a, b[d], c) && (i = !0);
            else {
                if (this._targets) {
                    for (d = this._targets.length; --d > -1; )
                        if (b === this._targets[d]) {
                            h = this._propLookup[d] || {},
                            this._overwrittenProps = this._overwrittenProps || [],
                            e = this._overwrittenProps[d] = a ? this._overwrittenProps[d] || {} : "all";
                            break
                        }
                } else {
                    if (b !== this.target)
                        return !1;
                    h = this._propLookup,
                    e = this._overwrittenProps = a ? this._overwrittenProps || {} : "all"
                }
                if (h) {
                    if (j = a || h,
                    k = a !== e && "all" !== e && a !== h && ("object" != typeof a || !a._tempKill),
                    c && (F.onOverwrite || this.vars.onOverwrite)) {
                        for (f in j)
                            h[f] && (l || (l = []),
                            l.push(f));
                        if ((l || !a) && !Z(this, c, b, l))
                            return !1
                    }
                    for (f in j)
                        (g = h[f]) && (m && (g.f ? g.t[g.p](g.s) : g.t[g.p] = g.s,
                        i = !0),
                        g.pg && g.t._kill(j) && (i = !0),
                        g.pg && 0 !== g.t._overwriteProps.length || (g._prev ? g._prev._next = g._next : g === this._firstPT && (this._firstPT = g._next),
                        g._next && (g._next._prev = g._prev),
                        g._next = g._prev = null ),
                        delete h[f]),
                        k && (e[f] = 1);
                    !this._firstPT && this._initted && this._enabled(!1, !1)
                }
            }
            return i
        }
        ,
        f.invalidate = function() {
            return this._notifyPluginsOfEnabled && F._onPluginEvent("_onDisable", this),
            this._firstPT = this._overwrittenProps = this._startAt = this._onUpdate = null ,
            this._notifyPluginsOfEnabled = this._active = this._lazy = !1,
            this._propLookup = this._targets ? {} : [],
            C.prototype.invalidate.call(this),
            this.vars.immediateRender && (this._time = -k,
            this.render(-this._delay)),
            this
        }
        ,
        f._enabled = function(a, b) {
            if (h || g.wake(),
            a && this._gc) {
                var c, d = this._targets;
                if (d)
                    for (c = d.length; --c > -1; )
                        this._siblings[c] = Y(d[c], this, !0);
                else
                    this._siblings = Y(this.target, this, !0)
            }
            return C.prototype._enabled.call(this, a, b),
            this._notifyPluginsOfEnabled && this._firstPT ? F._onPluginEvent(a ? "_onEnable" : "_onDisable", this) : !1
        }
        ,
        F.to = function(a, b, c) {
            return new F(a,b,c)
        }
        ,
        F.from = function(a, b, c) {
            return c.runBackwards = !0,
            c.immediateRender = 0 != c.immediateRender,
            new F(a,b,c)
        }
        ,
        F.fromTo = function(a, b, c, d) {
            return d.startAt = c,
            d.immediateRender = 0 != d.immediateRender && 0 != c.immediateRender,
            new F(a,b,d)
        }
        ,
        F.delayedCall = function(a, b, c, d, e) {
            return new F(b,0,{
                delay: a,
                onComplete: b,
                onCompleteParams: c,
                callbackScope: d,
                onReverseComplete: b,
                onReverseCompleteParams: c,
                immediateRender: !1,
                lazy: !1,
                useFrames: e,
                overwrite: 0
            })
        }
        ,
        F.set = function(a, b) {
            return new F(a,0,b)
        }
        ,
        F.getTweensOf = function(a, b) {
            if (null  == a)
                return [];
            a = "string" != typeof a ? a : F.selector(a) || a;
            var c, d, e, f;
            if ((n(a) || G(a)) && "number" != typeof a[0]) {
                for (c = a.length,
                d = []; --c > -1; )
                    d = d.concat(F.getTweensOf(a[c], b));
                for (c = d.length; --c > -1; )
                    for (f = d[c],
                    e = c; --e > -1; )
                        f === d[e] && d.splice(c, 1)
            } else
                for (d = Y(a).concat(),
                c = d.length; --c > -1; )
                    (d[c]._gc || b && !d[c].isActive()) && d.splice(c, 1);
            return d
        }
        ,
        F.killTweensOf = F.killDelayedCallsTo = function(a, b, c) {
            "object" == typeof b && (c = b,
            b = !1);
            for (var d = F.getTweensOf(a, b), e = d.length; --e > -1; )
                d[e]._kill(c, a)
        }
        ;
        var aa = r("plugins.TweenPlugin", function(a, b) {
            this._overwriteProps = (a || "").split(","),
            this._propName = this._overwriteProps[0],
            this._priority = b || 0,
            this._super = aa.prototype
        }, !0);
        if (f = aa.prototype,
        aa.version = "1.18.0",
        aa.API = 2,
        f._firstPT = null ,
        f._addTween = N,
        f.setRatio = L,
        f._kill = function(a) {
            var b, c = this._overwriteProps, d = this._firstPT;
            if (null  != a[this._propName])
                this._overwriteProps = [];
            else
                for (b = c.length; --b > -1; )
                    null  != a[c[b]] && c.splice(b, 1);
            for (; d; )
                null  != a[d.n] && (d._next && (d._next._prev = d._prev),
                d._prev ? (d._prev._next = d._next,
                d._prev = null ) : this._firstPT === d && (this._firstPT = d._next)),
                d = d._next;
            return !1
        }
        ,
        f._roundProps = function(a, b) {
            for (var c = this._firstPT; c; )
                (a[this._propName] || null  != c.n && a[c.n.split(this._propName + "_").join("")]) && (c.r = b),
                c = c._next
        }
        ,
        F._onPluginEvent = function(a, b) {
            var c, d, e, f, g, h = b._firstPT;
            if ("_onInitAllProps" === a) {
                for (; h; ) {
                    for (g = h._next,
                    d = e; d && d.pr > h.pr; )
                        d = d._next;
                    (h._prev = d ? d._prev : f) ? h._prev._next = h : e = h,
                    (h._next = d) ? d._prev = h : f = h,
                    h = g
                }
                h = b._firstPT = e
            }
            for (; h; )
                h.pg && "function" == typeof h.t[a] && h.t[a]() && (c = !0),
                h = h._next;
            return c
        }
        ,
        aa.activate = function(a) {
            for (var b = a.length; --b > -1; )
                a[b].API === aa.API && (P[(new a[b])._propName] = a[b]);
            return !0
        }
        ,
        q.plugin = function(a) {
            if (!(a && a.propName && a.init && a.API))
                throw "illegal plugin definition.";
            var b, c = a.propName, d = a.priority || 0, e = a.overwriteProps, f = {
                init: "_onInitTween",
                set: "setRatio",
                kill: "_kill",
                round: "_roundProps",
                initAll: "_onInitAllProps"
            }, g = r("plugins." + c.charAt(0).toUpperCase() + c.substr(1) + "Plugin", function() {
                aa.call(this, c, d),
                this._overwriteProps = e || []
            }, a.global === !0), h = g.prototype = new aa(c);
            h.constructor = g,
            g.API = a.API;
            for (b in f)
                "function" == typeof a[b] && (h[f[b]] = a[b]);
            return g.version = a.version,
            aa.activate([g]),
            g
        }
        ,
        d = a._gsQueue) {
            for (e = 0; e < d.length; e++)
                d[e]();
            for (f in o)
                o[f].func || a.console.log("GSAP encountered missing dependency: com.greensock." + f)
        }
        h = !1
    }
}("undefined" != typeof module && module.exports && "undefined" != typeof global ? global : this || window, "TweenMax");
var Levenshtein;

jQuery(function($) {
    var renderer, hasBonus = true;
    
    var imgPath = 'assets/img/'
      , 
    videoPath = 'assets/videos/'
      , 
    soundPath = 'assets/sounds/';
    
    var cw = ww
      , 
    ch = wh
      , 
    ml = 0
      , 
    mt = 0
      , 
    ow = 1280
      , 
    oh = 720
      , 
    fcw = 0
      , 
    fch = 0;
    
    var TV = {
        img: imgPath + 'logo_retro_minder.png',
        calmDownTM: null ,
        chgTM1: null ,
        chgTM2: null 
    };
    
    var homeScreen = {
        name: "retrominder",
        img: imgPath + 'logo_retro_minder.png'
    };
    
    TV.init = function() {
        this.load();
        //    this.showStat();
    }
    ;
    
    TV.load = function() {
        //    var loader = new PIXI.loaders.Loader();
        
        //    loader.add('logo',TV.img);
        //    loader.add('videoIntro',videoPath+'introduction.mp4');
        //    loader.add('soundIntro',soundPath+'effects/intro_opening.mp3');
        //    loader.add('soundIntroLoop',soundPath+'effects/intro_loop.mp3');
        
        //    loader.once('complete',function(){
        
        TV.createStage();
        
        //    });
        //    loader.load();
    }
    
    
    TV.createFilters = function() {
        var t = this;
        
        t.displacementSprite = PIXI.Sprite.fromImage(imgPath + 'textures/displacment_12_reverse.png');
        t.displacementFullSprite = PIXI.Sprite.fromImage(imgPath + 'textures/largedisplacment_reverse.png');
        //    t.displacementSprite2 = PIXI.Sprite.fromImage(imgPath+'textures/displacment_4.png');
        
        t.displacementFilter = new PIXI.filters.DisplacementFilter(t.displacementSprite);
        //    t.displacementFixFilter = new PIXI.filters.DisplacementFilter(t.displacementSprite2);
        t.displacementFullFilter = new PIXI.filters.DisplacementFilter(t.displacementFullSprite);
        
        //    t.displacementFixFilter.scale.y = 10;
        //    t.displacementSprite2.position.y = ch-500;
        
        t.stage.addChild(t.displacementSprite);
        //    t.stage.addChild(t.displacementSprite2);
        t.stage.addChild(t.displacementFullSprite);
        
        t.rgbFilter = new PIXI.filters.RGBSplitFilter();
        t.rgbFilter.blue.y = t.rgbFilter.green.y = t.rgbFilter.red.y = 0;
        
        t.brightFilter = new PIXI.filters.ColorMatrixFilter();
        
        t.pixelateFilter = new PIXI.filters.PixelateFilter();
        t.pixelateFilter.size.x = 1;
        t.pixelateFilter.size.y = 1;
        
        //    t.typoBlurFilter = new PIXI.filters.BlurFilter();
        //    t.typoBlurFilter.blur=5;
    }
    ;
    
    
    TV.createStage = function() {
        var t = this;
        t.isEndScreen = false;
        
        t.screenFrame1 = false;
        t.screenFrame2 = false;
        
        if (isFirefox || isSafari) {
            renderer = new PIXI.CanvasRenderer(cw,ch,{
                resolution: 1
            });
            hasBonus = isFirefox;
        } else {
            renderer = new PIXI.autoDetectRenderer(cw,ch,{
                resolution: 1
            });
            var gl = renderer.gl;
            var maxRenderBufferSize = gl.getParameter(gl.MAX_RENDERBUFFER_SIZE);
            var maxViewportDimensions = gl.getParameter(gl.MAX_VIEWPORT_DIMS);
            if (maxRenderBufferSize <= 4096 || (b.browser == "Chrome" && b.version < 50))
                hasBonus = false;
        }
        
        $('.site-ct').append(renderer.view);
        t.isIntroducing = false;
        
        
        
        t.resizableElements = [];
        
        t.stage = new PIXI.Container();
        t.tvContainer = new PIXI.Container();
        t.framesMask = new PIXI.Container();
        t.stage.addChild(t.framesMask);
        
        t.resize();
        
        t.createFilters();
        t.tvContainer.filters = [t.rgbFilter];
        t.introductionScreen();
        
        t.stage.addChild(t.tvContainer);
        
        $(window).on('resize', function() {
            t.resizeAfterLoad();
        });
    }
    ;
    TV.resizeAfterLoad = function() {
        var t = this, w, h, x, y;
        
        ww = $(window).width();
        wh = $(window).height();
        
        w = ww;
        h = fch / fcw * ww;
        
        if (h < wh) {
            h = wh;
            w = fcw / fch * wh;
        }
        
        x = (ww - w) / 2;
        y = (wh - h) / 2;
        
        $('body canvas').css({
            width: w,
            height: h,
            position: 'absolute',
            marginLeft: x,
            marginTop: y
        })
    
    }
    ;
    
    TV.resize = function() {
        var t = this, w, h, x, y;
        
        ww = $(window).width();
        wh = $(window).height();
        cw = ww;
        ch = wh;
        
        
        
        //    t.stage.width=cw;
        //    t.stage.height=ch;
        
        
        
        w = cw;
        h = oh / ow * cw;
        
        if (h < ch) {
            h = ch;
            w = ow / oh * ch;
        }
        
        x = (cw - w) / 2;
        y = (ch - h) / 2;
        
        t.tvContainer.width = w;
        t.tvContainer.height = h;
        
        t.tvContainer.position.x = t.tvContainer.getLocalBounds().x + x;
        t.tvContainer.position.y = t.tvContainer.getLocalBounds().y + y;
        
        renderer.resize(cw, ch);
        
        fcw = cw;
        fch = ch;
    
    }
    ;
    
    TV.createScreen = function(decal) {
        var t = this;
        
        var screen = new PIXI.Container();
        var centerContainer = new PIXI.Container();
        var jumpContainer = new PIXI.Container();
        
        //    jumpContainer.position.y = -ch;
        
        var containers = [jumpContainer, centerContainer];
        for (var i = 0; i < 1; i++) {
            
            var bg = PIXI.Sprite.fromImage(t.img);
            
            //        bg.position = t.tvContainer.position;
            bg.width = cw;
            bg.height = ch;
            containers[i].addChild(bg);
            
            var clearBg = PIXI.Sprite.fromImage(t.img);
            
            //        clearBg.position = t.tvContainer.position;
            clearBg.width = cw;
            clearBg.height = ch;
            containers[i].addChild(clearBg);
            
            t.resizableElements.push(bg);
            t.resizableElements.push(clearBg);
            
            if (Party.isRunning) {
            //            var logo = PIXI.Sprite.fromImage(imgPath + 'logo_retro_minder.png');
            //            logo.width = 200;
            //            logo.height = 113;
            //            logo.position.x = cw - 230;
            //            logo.position.y = 100;
            //            containers[i].addChild(logo);
            }
            containers[i].filters = [t.displacementFilter, t.displacementFullFilter];
            screen.addChild(containers[i]);
        }
        screen = t.addFrameMask(screen, decal);
        
        return screen;
    }
    
    TV.addFrameMask = function(screen, decal) {
        var t = this;
        
        var gap = 5;
        
        
        
        var maskLine = new PIXI.Graphics();
        t.tvContainer.addChild(maskLine);
        maskLine.lineStyle(0);
        maskLine.beginFill(0xffffff);
        
        maskLine.moveTo(0, 0);
        
        for (var j = 0; j < Math.round(ch / gap); j++) {
            maskLine.drawRect(0, gap * j, cw, gap / 2)
        }
        
        maskLine.endFill();
        maskLine.isMask = true;
        if (decal) {
            maskLine.position.y = gap / 2;
            var colorMatrix = new PIXI.filters.ColorMatrixFilter();
            colorMatrix.brightness(1.5);
            screen.filters = [colorMatrix];
        }
        
        screen.mask = maskLine;
        
        return screen;
    }
    
    
    //NOISE
    TV.createNoise = function() {
        var t = this;
        var noiseTexture = PIXI.Texture.fromImage(imgPath + 'textures/bignoisebg.png');
        t.tilingNoise = new PIXI.extras.TilingSprite(noiseTexture,cw * 2,ch * 2);
        t.tilingNoise.alpha = 1;
        t.tilingNoise.blendMode = PIXI.BLEND_MODES.DIFFERENCE;
        t.tilingNoise.filters = [t.rgbFilter];
        t.stage.addChild(t.tilingNoise);
    }
    ;
    
    
    TV.createAnswerScreen = function() {
        var t = this;
        
        t.answerCt = new PIXI.Container();
        
        var bg = new PIXI.Graphics();
        
        bg.lineStyle(0);
        bg.beginFill(0x000000, 0.8);
        
        bg.moveTo(0, 0);
        bg.drawRect(0, 0, cw, ch);
        bg.endFill();
        t.answerCt.addChild(bg);
        
        function createTypoSprite(typo) {
            var sp = PIXI.Sprite.fromImage(imgPath + 'typos/' + typo + '.png');
            sp.width = 800;
            sp.height = 400;
            sp.position.x = (cw / 2) - 400;
            sp.position.y = (ch / 2) - 200;
            sp.alpha = 0;
            t.answerCt.addChild(sp);
            return sp;
        }
        
        t.answers = {};
        var answerLabels = ['perfect', 'amazing', 'great', 'wrong', 'noway', 'toobad', 'bonus', 'gameover'];
        
        for (var i = 0; i < answerLabels.length; i++) {
            t.answers[answerLabels[i]] = createTypoSprite(answerLabels[i]);
        }
        
        t.answerCt.filters = [t.rgbFilter, t.brightFilter];
        t.answerCt.alpha = 0;
        
        
        t.stage.addChild(t.answerCt);
    }
    ;
    
    TV.showTypo = function(typo) {
        var t = this;
        for (i in t.answers) {
            t.answers[i].alpha = 0;
        }
        t.answers[typo].alpha = 1;
        t.answerCt.alpha = 1;
        
        sdPlayer.answers[typo].currentTime = 0;
        sdPlayer.answers[typo].play();
        Screens.$game.hide();
        
        
        $('body').addClass('low');
    }
    ;
    
    TV.hideTypo = function() {
        var t = this;
        
        t.answerCt.alpha = 0;
        
        for (i in t.answers) {
            t.answers[i].alpha = 0;
        }
        
        $('body').removeClass('low');
        
        if (Party.isRunning)
            Screens.$game.show();
    }
    
    TV.changeCharacter = function(character) {
        var t = this;
        t.isInTransition = true;
        
        sdPlayer.stopSound();
        
        if (character.sound) {
            sdPlayer.playCharacterSound(character.sound, true, .8, .01);
        }
        
        t.noiseOpacity = .3;
        
        t.stage.removeChild(t.videoTransitionSprite);
        t.stage.addChild(t.videoSprite);
        
        clearTimeout(t.chgTM1);
        clearTimeout(t.chgTM2);
        
        t.chanceJump = .3;
        t.jumpOffset = 700;
        t.jumpEffect = 20;
        t.rgbCoef = 1;
        
        
        
        if (!Party.isRunning) {
            clearTimeout(t.calmDownTM);
            t.calmDownTM = setTimeout(function() {
                TV.calmDown();
            }, 1000);
        } else {
            
            t.chgTM1 = setTimeout(function() {
                t.stage.removeChild(t.videoSprite);
                t.stage.addChild(t.videoTransitionSprite);
                t.img = character.img;
                t.tvContainer.removeChild(t.screenFrame1);
                t.tvContainer.removeChild(t.screenFrame2);
                
                t.screenFrame1 = t.createScreen(true);
                t.screenFrame2 = t.createScreen(false);
                t.tvContainer.addChildAt(t.screenFrame1, 0);
                t.tvContainer.addChildAt(t.screenFrame2, 0);
                
                TM.to(t, .1, {
                    noiseOpacity: .8,
                    offset: 80,
                    jumpOffset: 300,
                    rgbCoef: 2,
                    chanceJump: .9
                });
                
                TM.to(t, 3, {
                    noiseOpacity: .1,
                    offset: 0,
                    jumpOffset: 1,
                    rgbCoef: .1,
                    chanceJump: 1,
                    delay: .1
                });
                
                t.hideTypo();
                
                t.isInTransition = false;
                
                $('body').addClass('bright');
                
                t.chgTM2 = setTimeout(function() {
                    $('body').removeClass('bright');
                    
                    t.stage.removeChild(t.videoTransitionSprite);
                    t.stage.addChild(t.videoSprite);
                
                }, 2000);
            }, 1000);
        }
    }
    ;
    
    TV.calmDown = function() {
        
        var t = this;
        t.isInTransition = false;
        
        t.stage.removeChild(t.videoTransitionSprite);
        
        TM.to(t, 1, {
            noiseOpacity: .05,
            offset: 0,
            jumpOffset: 1,
            rgbCoef: .1,
            chanceJump: 2
        });
    
    
    }
    ;
    
    
    TV.animate = function() {
        
        var t = this;
        
        var count = 0;
        
        t.noiseOpacity = .5;
        t.offset = 4;
        t.rgbCoef = .4;
        t.chanceJump = 1;
        t.jumpOffset = 0;
        t.jumpEffect = 0;
        
        var frame = 0;
        
        
        
        function animate() {
            
            count += 0.005;
            frame++;
            
            if (frame > 4) {
                frame = 0;
                
                if (t.screenFrame1) {
                    t.screenFrame1.x = t.offset + Math.random() * 5;
                }
                if (t.screenFrame2) {
                    t.screenFrame2.x = -t.offset + Math.random() * 5;
                }
            
            }
            if (t.displacementSprite.y < ch) {
                t.displacementSprite.y += 3;
            } else {
                t.displacementSprite.y = 0;
            }
            
            if (!t.isIntroducing) {
                if (t.displacementFullSprite.y < ch) {
                    t.displacementFullSprite.y += .5;
                }
                if (Math.random() > .9) {
                    t.displacementFullSprite.y = Math.random() * ch;
                }
            }
            
            
            if (Math.random() > .96) {
                var axe = 'x';
                t.rgbFilter.blue[axe] = Math.random() * 20 * t.rgbCoef;
                t.rgbFilter.green[axe] = -Math.random() * 30 * t.rgbCoef;
                t.rgbFilter.red[axe] = (Math.random() * 60 - 30) * t.rgbCoef;
            } else {
                t.rgbFilter.blue.x -= t.rgbFilter.blue.x / 100;
                t.rgbFilter.green.x -= t.rgbFilter.green.x / 100;
                t.rgbFilter.red.x -= t.rgbFilter.red.x / 10;
            }
            
            
            if (Math.random() > t.chanceJump) {
                //            t.chanceJump = Math.min(.99, t.chanceJump + 0.005);
                t.jumpEffect = 20 * Math.random() + 10;
                t.jumpOffset = Math.random() * ch / 3;
            }
            
            if (t.jumpEffect > 0) {
                t.tvContainer.position.y = t.jumpOffset;
                t.jumpEffect--;
            } else {
                t.tvContainer.position.y = 0;
            }
            
            t.tilingNoise.alpha = t.noiseOpacity;
            t.tilingNoise.tilePosition.x += 500;
            t.tilingNoise.tilePosition.y += 500;
            
            var rdm = Math.random();
            if (rdm > 0.9) {
                t.brightFilter.brightness(.2);
            } else if (rdm > 0.5) {
                t.brightFilter.brightness(1.5);
            } else {
                t.brightFilter.brightness(1);
            }
            
            if (t.isIntroducing) {
                TV.updateIntroductionScreen();
            }
            
            if (t.welcomeTransition) {
                TV.updateWelcomeTransition();
            }
            
            renderer.render(t.stage);
            requestAnimationFrame(animate);
            
            if (t.statsActive) {
                stats.update();
            }
        }
        requestAnimationFrame(animate);
    }
    ;
    
    
    TV.showStat = function() {
        this.statsActive = true;
        
        stats = new Stats();
        stats.domElement.style.position = 'absolute';
        stats.domElement.style.top = '0px';
        stats.domElement.style.zIndex = '10000';
        
        document.body.appendChild(stats.domElement);
    }
    ;
    
    TV.updateIntroductionScreen = function() {
        var t = this;
        
        t.tvContainer.alpha = Math.min(1, t.tvContainer.alpha + 0.1);
        //    t.tvContainer.scale.x=t.tvContainer.scale.y= Math.min(1, t.tvContainer.scale.x+0.01);
        
        //    t.tvContainer.position.x = (1-t.tvContainer.scale.x)*(cw/2)-18;
        //    t.tvContainer.position.y = (1-t.tvContainer.scale.x)*(ch/2)-18;
        
        //    if(t.tvContainer.scale.x==1){
        //        t.isIntroducing = false;
        //        $('#start').fadeIn(800).addClass('active');
        //        setTimeout(function(){
        //            $('#start').removeClass('active');
        //        }, 800)
        //    }
    
    }
    ;
    
    TV.introductionScreen = function() {
        var t = this;
        t.tvContainer.alpha = 0;
        var $linesLoad = $('#loader-lines');
        var $loader = $('#loading-screen');
        
        var pg = 0;
        
        var loader = new PIXI.loaders.Loader();
        
        
        
        
        //VIDEOS
        //    loader.add('introduction', videoPath + 'introduction.mp4');
        loader.add('glitchnormal', videoPath + 'normal.mp4');
        loader.add('glitchtransition', videoPath + 'transition.mp4');
        
        
        var ptsText = ['', '.', '..', '...'];
        var i = 0;
        
        var headPhonesInterval = setInterval(function() {
            i = i < ptsText.length - 1 ? i + 1 : 0;
            $loader.find('#pct-load p sub').text(ptsText[i]);
            
            if (i == 0 || i == 2)
                $loader.find('#headphones').toggleClass('active');
        }, 200);
        
        TM.to($loader.find('#headphones i'), 1, {
            opacity: 1,
            y: 0,
            scale: .7,
            delay: .5
        });
        TM.to($loader.find('#headphones p'), 1, {
            opacity: 1,
            y: 0,
            delay: 1
        });
        
        
        
        loader.on('progress', function() {
            
            pg = this.progress;
            $loader.find('#pct-load span b').text(Math.round(pg));
            
            if (pg < 25) {
                TM.to($linesLoad.find('.bdt'), .2, {
                    width: (1 - pg / 25) * 100 + '%'
                });
            } else if (pg < 50) {
                TM.to($linesLoad.find('.bdt'), .2, {
                    width: 0
                });
                TM.to($linesLoad.find('.bdr'), .2, {
                    height: (1 - (pg - 25) / 25) * 100 + '%'
                });
            } else if (pg < 75) {
                TM.to($linesLoad.find('.bdr'), .2, {
                    height: 0
                });
                TM.to($linesLoad.find('.bdb'), .2, {
                    width: (1 - (pg - 50) / 25) * 100 + '%'
                });
            } else if (pg < 100) {
                TM.to($linesLoad.find('.bdb'), .2, {
                    width: 0
                });
                TM.to($linesLoad.find('.bdl'), .2, {
                    height: (1 - (pg - 75) / 25) * 100 + '%'
                });
            }
        });
        
        loader.once('complete', function() {
            $linesLoad.hide();
            $loader.find('#pct-load p').text('CHANNEL 001');
            $loader.find('#pct-load span').text('PLAY');
            
            t.videoGlitchTransitionTexture = new PIXI.Texture(PIXI.VideoBaseTexture.fromUrl(videoPath + 'transition.mp4'));
            t.videoTransitionSprite = new PIXI.Sprite(t.videoGlitchTransitionTexture);
            t.videoTransitionSprite.width = cw;
            t.videoTransitionSprite.height = ch;
            t.videoTransitionSprite.blendMode = PIXI.BLEND_MODES.ADD;
            t.videoGlitchTransitionTexture.baseTexture.source.loop = true;
            t.stage.addChild(t.videoTransitionSprite);
            
            t.videoGlitchEffectTexture = new PIXI.Texture(PIXI.VideoBaseTexture.fromUrl(videoPath + 'normal.mp4'));
            t.videoSprite = new PIXI.Sprite(t.videoGlitchEffectTexture);
            t.videoSprite.width = cw;
            t.videoSprite.height = ch;
            t.videoSprite.blendMode = PIXI.BLEND_MODES.ADD;
            t.videoGlitchEffectTexture.baseTexture.source.loop = true;
            
            if (isFirefox || isSafari || (b.browser == "Chrome" && b.version < 50)) {
                t.videoGlitchTransitionTexture.baseTexture.source.pause();
                t.videoGlitchEffectTexture.baseTexture.source.pause();
                t.videoTransitionSprite.alpha = 0;
                t.videoSprite.alpha = 0;
            }
            
            
            t.createAnswerScreen();
            t.createNoise();
            
            
            setTimeout(function() {
                t.welcomeTransition = false;
                t.isInTransition = false;
                t.isIntroducing = true;
                t.screenFrame1 = t.createIntroScreen(true);
                t.screenFrame2 = t.createIntroScreen(false);
                t.introductionScreen = new PIXI.Container();
                
                t.introductionScreen.alpha = 0;
                t.introductionScreen.addChild(t.screenFrame1);
                t.introductionScreen.addChild(t.screenFrame2);
                
                var posy = ch / 2 - t.screenFrame1.height / 2;
                
                t.tvContainer.addChild(t.introductionScreen);
                t.stage.removeChild(t.videoTransitionSprite);
                t.stage.addChild(t.videoSprite);
                t.animate();
                t.resize();
                
                t.introBgTexture.baseTexture.source.currentTime = 0;
                t.introBgTexture.baseTexture.source.play();
                
                sdPlayer.playSound(soundPath + 'effects/intro_opening.lite.mp3', true, .8, .01);
                sdPlayer.theme.play();
                
                t.introductionScreen.alpha = 1;
                
                
                TM.to($loader.find('#headphones i'), .5, {
                    opacity: 0,
                    y: -30,
                    scale: .7
                });
                TM.to($loader.find('#headphones p'), .5, {
                    opacity: 0,
                    y: -30,
                    delay: .2
                });
                
                TM.to($loader, .1, {
                    opacity: 0,
                    delay: .5,
                    onComplete: function() {
                        clearInterval(headPhonesInterval);
                    }
                });
            
            
            }, 1000);
        
        
        });
        
        
        //    t.introBgTexture = new PIXI.Texture(PIXI.VideoBaseTexture.fromUrl(videoPath + 'introduction.mp4'));
        
        
        var introductionVideo = document.createElement('video');
        
        introductionVideo.src = videoPath + 'introduction.mp4';
        introductionVideo.preload = true;
        introductionVideo.load();
        
        
        introductionVideo.onloadeddata = function() {
            t.introBgTexture = new PIXI.Texture.fromVideo(introductionVideo);
            t.introBgTexture.baseTexture.source.pause();
            loader.load();
        }
        ;
    
    }
    ;
    
    TV.updateWelcomeTransition = function() {
        var t = this;
        //    t.introductionScreen.visible=0;
        
        t.welcomeTransition = false;
    }
    ;
    
    
    TV.createIntroScreen = function(decal) {
        var t = this;
        
        var screen = new PIXI.Container();
        var centerContainer = new PIXI.Container();
        
        
        var introBg = new PIXI.Sprite(t.introBgTexture);
        introBg.width = cw;
        introBg.height = ch;
        
        centerContainer.position.y = -ch * (5 / 100);
        centerContainer.addChild(introBg);
        
        t.resizableElements.push(introBg);
        
        
        screen.addChild(centerContainer);
        screen = t.addFrameMask(screen, decal);
        
        TM.to(t, 5, {
            offset: .1,
            noiseOpacity: .05,
            rgbCoef: .1
        });
        
        
        if (decal) {
            
            t.introBgTexture.baseTexture.source.ontimeupdate = function() {
                if (!t.isIntroducing) {
                    this.pause();
                }
                if (this.currentTime > 14.5) {
                    this.currentTime = 10;
                    this.play();
                }
                if (this.currentTime > 4) {
                    if (!t.showStart) {
                        t.showStart = true;
                        $('#start').fadeIn(800);
                    }
                }
            }
            ;
        }
        return screen;
    }
    
    ;
    var $input, 
    $endscreen, 
    $score, 
    $timer, 
    $playBtn, 
    $writer, 
    $fbUrlLink, 
    $skipBtn, 
    shareFb = function() {}
    ;
    
    //SCREENS;
    var Screens = {
        $welcome: $('#welcome-screen'),
        $start: $('#start-screen'),
        $game: $('#interface'),
        $end: $('#endgame'),
        $bonus: $('#bonus-screen'),
        $scores: $('#scores-screen'),
        $menu: $('#menu-screen'),
        $record: $('#savescore-screen'),
        $credits: $('#credits-screen'),
    };
    
    var Party = {
        score: 0,
        nbParties: 0,
        cardsWon: [],
        cardsPack: [],
        currentCardsIdx: 0,
        duration: 90,
        partyDuration: new Date(10 * 1000),
        isRunning: false,
        pointsLoop: 2000,
        maxPoints: 3000,
        minPoints: 500,
        goods: 0,
        perfects: 0,
        wrongs: 0,
        startTime: 0,
        curTime: 0,
        diffTime: 0,
        chronoTime: 0,
        bonusPassed: false,
        hasRecord: false,
        bonusSprites: [
        imgPath + 'bonus/DBZ_sprite.jpg', 
        imgPath + 'bonus/over_sprite.jpg', 
        imgPath + 'bonus/JCVD_sprite.jpg', 
        imgPath + 'bonus/tmnt_sprite.jpg'
        ],
        
        init: function() {
            var t = this;
            $input = $('#input');
            $writer = $('#writer');
            Screens.$end = $('#endgame');
            $score = $('#main-score');
            $timer = $('#timer');
            ww = cw = $(window).width();
            wh = ch = $(window).height();
            $fbUrlLink = $('#fb_share');
            $playBtn = $('#play');
            
            $skipBtn = $('#skip-message');
            
            TV.init();
            TV.loadStarScene();
            
            $('footer').hide();
            
            t.runParty = false;
            
            
            $('#start').click(function() {
                $('#start').hide();
                t.loadParty();
                t.setupTuto();
            });
            
            $('#try-again').click(function() {
                if (TV.isEndScreen)
                    t.tryAgain();
            });
            
            $('#open-menu').click(function() {
                Screens.$menu.show();
            });
            $('#close-bt').click(function() {
                Screens.$menu.hide();
            });
            
            $('#play').click(function() {
                if (!Party.runParty) {
                    TV.transitionSpaceScreen();
                }
            });
            
            
            $(window).on('keypress keydown keyup', function(e) {
                if (t.isRunning && !$input.is(":focus")) {
                    $input.focus();
                }
                if (e.keyCode == 13) {
                    if (!t.runParty && t.isTutorial) {
                        TV.transitionSpaceScreen();
                    }
                }
            });
            
            $input.keyup(function(e) {
                e.preventDefault();
                if (e.keyCode == 13 && t.isRunning) {
                    $skipBtn.removeClass('active');
                    sdPlayer.vhsClick03.currentTime = 1;
                    sdPlayer.vhsClick03.play();
                    t.valideAnswer();
                }
            });
            
            $('#record-score').click(function() {
                if (!$(this).hasClass('send')) {
                    $(this).addClass('send');
                    t.recordScore();
                }
            });
            
            $('#record-score').addClass('send');
            
            $('#record_score_name').on('keyup', function(e) {
                if ($(this).val().length == 3) {
                    $('#record-score').removeClass('send');
                } else {
                    $('#record-score').addClass('send');
                }
                if (!$(this).hasClass('send')) {
                    if (e.keyCode == 13 && $(this).val().length == 3) {
                        $(this).addClass('send');
                        t.recordScore();
                    }
                }
            });
            
            t.setInputCaret();
            t.setupScoreScreen();
            t.setupCreditScreen();
            t.setupEndScreen();
        
        
        
        },
        
        valideAnswer: function() {
            var t = this;
            
            var str = $input.val().toLowerCase();
            var result = stringCompare(str, Party.currentCharacter.answers, Party.currentCharacter.greatanswers);
            $skipBtn.removeClass('active');
            
            if (result == "great" || result == "perfect" || result == "amazing") {
                Party.score++;
                Party.cardsWon.push(Party.currentCharacter);
                Party.cardsPack.splice(Party.currentCardsIdx, 1);
                if (result == "great") {
                    t.goods++;
                } else {
                    t.pointsLoop += 2000;
                    t.perfects++;
                }
                t.score += t.pointsLoop;
            } else {
                t.wrongs++;
            }
            
            $input.val('').trigger('keydown');
            
            if (Party.cardsPack.length > 0) {
                if (Party.score > 8000 && !t.bonusPassed && hasBonus) {
                    t.bonusPassed = true;
                    TV.bonusStage(function() {
                        Party.currentCardsIdx = Math.round(Math.random() * (Party.cardsPack.length - 1));
                        Party.currentCharacter = Party.cardsPack[Party.currentCardsIdx];
                        TV.changeCharacter(Party.currentCharacter);
                        Party.continueTime();
                    });
                
                } else {
                    TV.showTypo(result);
                    Party.currentCardsIdx = Math.round(Math.random() * (Party.cardsPack.length - 1));
                    Party.currentCharacter = Party.cardsPack[Party.currentCardsIdx];
                    TV.changeCharacter(Party.currentCharacter);
                }
            } else {
                Party.end();
            }
            
            t.pointsLoop = t.maxPoints;
            $score.find('span').text(addZero(Party.score, 6));
        },
        
        loadParty: function() {
            var t = this;
            TV.welcomeTransition = true;
            
            var allCharacters = Characters.slice();
            shuffle(allCharacters);
            t.cardsPack = allCharacters.slice(0, 30);
            
            if (TV.endScreen) {
                TV.stage.removeChild(TV.endScreen);
            }
            
            var $linesLoad = $('#loader-lines');
            
            $linesLoad.show();
            TM.set($linesLoad.find('.bdt, .bdb'), {
                width: '100%'
            });
            TM.set($linesLoad.find('.bdr, .bdl'), {
                height: '100%'
            });
            var pg = 0;
            var loader = new PIXI.loaders.Loader();
            
            for (var i = 0; i < t.cardsPack.length; i++) {
                loader.add(t.cardsPack[i].name, t.cardsPack[i].img);
                loader.add(t.cardsPack[i].name + 'sound', t.cardsPack[i].sound);
            }
            
            loader.on('progress', function() {
                pg = this.progress;
                $('#pct-load span').text(Math.round(pg));
                if (pg < 25) {
                    TM.to($linesLoad.find('.bdt'), .2, {
                        width: (1 - pg / 25) * 100 + '%'
                    });
                } else if (pg < 50) {
                    TM.to($linesLoad.find('.bdt'), .2, {
                        width: 0
                    });
                    TM.to($linesLoad.find('.bdr'), .2, {
                        height: (1 - (pg - 25) / 25) * 100 + '%'
                    });
                } else if (pg < 75) {
                    TM.to($linesLoad.find('.bdr'), .2, {
                        height: 0
                    });
                    TM.to($linesLoad.find('.bdb'), .2, {
                        width: (1 - (pg - 50) / 25) * 100 + '%'
                    });
                } else if (pg < 100) {
                    TM.to($linesLoad.find('.bdb'), .2, {
                        width: 0
                    });
                    TM.to($linesLoad.find('.bdl'), .2, {
                        height: (1 - (pg - 75) / 25) * 100 + '%'
                    });
                }
            });
            loader.once('complete', function() {
                $linesLoad.hide();
                $playBtn.fadeIn();
                
                $('body').removeClass('playing');
            });
            loader.load();
            
            
            if (Screens.$welcome) {
                TM.to(Screens.$welcome, 1, {
                    opacity: 0,
                    onComplete: function() {
                        Screens.$welcome.remove();
                        Screens.$welcome = null ;
                    }
                });
            }
            
            
            TM.fromTo(Screens.$start, 1, {
                opacity: 0,
                display: "block"
            }, {
                opacity: 1,
                delay: 2
            });
            TM.to(TV.introductionScreen, 1, {
                alpha: 0
            });
            
            TM.to(TV.starScreen, 1, {
                alpha: 1,
                delay: 1,
                onComplete: function() {
                    t.enableScreenScore = true;
                    $('footer').fadeIn();
                }
            });
            
            t.isTutorial = true;
            
            
            if (hasBonus)
                TV.loadBonusScene(t.bonusSprites[Math.floor(t.bonusSprites.length * Math.random())]);
        
        },
        
        tryAgain: function() {
            var t = this;
            
            if (TV.VHSIdx != Party.cardsWon.length)
                TV.VHSslide(Party.cardsWon.length);
            
            TV.isEndScreen = false;
            $input.val('').trigger('keydown');
            
            
            
            $('footer').fadeOut();
            
            TM.to(Screens.$end, 1, {
                opacity: 0
            });
            TM.to(TV.endScreen, 1, {
                alpha: 0,
                onComplete: function() {
                    Screens.$start.find('.vam').show();
                    Screens.$start.find('.start-timeout').hide().text(3);
                    TM.set(Screens.$end, {
                        display: "none"
                    });
                    
                    t.loadParty();
                    
                    TV.tvContainer.removeChild(TV.screenFrame1);
                    TV.tvContainer.removeChild(TV.screenFrame2);
                }
            });
            t.handTL.pause();
        
        },
        
        setupTuto: function() {
            var i = 0
              , inames = 0;
            var fakeName = ["Tom hanks", "Forrest gump"];
            var $fkName = Screens.$start.find('.fake-input span');
            
            TV.introBgTexture.baseTexture.source.pause();
            
            function tutoLoad() {
                if (i > fakeName[inames].length - 1) {
                    $fkName.text('');
                    i = 0;
                    inames = inames < fakeName.length - 1 ? inames + 1 : 0;
                    
                    $('#enter-btn').addClass('pressed');
                    setTimeout(function() {
                        $('#enter-btn').removeClass('pressed');
                    }, 200);
                } else {
                    var txt = $fkName.text();
                    $fkName.text(txt + fakeName[inames][i]);
                    i++;
                }
                setTimeout(tutoLoad, (20 + Math.random() * 180));
            }
            tutoLoad();
        },
        
        createNew: function() {
            var t = this;
            
            t.enableScreenScore = false;
            
            $('body').addClass('playing inparty');
            $('#ff-mention').remove();
            
            t.partyDuration = new Date(t.duration * 1000);
            
            t.bonusPassed = false;
            
            t.score = 0;
            t.goods = 0;
            t.perfects = 0;
            t.wrongs = 0;
            t.nbParties++;
            t.cardsWon = [];
            //        t.cardsPack = Characters.slice();
            
            t.isRunning = true;
            
            sdPlayer.vhsClick01.play();
            sdPlayer.theme.pause();
            
            $input.show();
            $input.focus();
            
            Party.currentCardsIdx = Math.round(Math.random() * (Party.cardsPack.length - 1));
            Party.currentCharacter = Party.cardsPack[Party.currentCardsIdx];
            
            TV.isIntroducing = false;
            TV.changeCharacter(Party.currentCharacter);
            TV.tvContainer.alpha = 1;
            
            clearInterval(t.partyTimeout);
            clearInterval(t.winInterval);
            clearInterval(t.timerInterval);
            
            $timer.text("00:00:000");
            $score.find('span').text("000000");
            var time = t.partyDuration * 1000;
            var min = 0;
            var second = 0;
            var milisecond = 0;
            var maxSecondPt = 10;
            var sec = 0;
            
            t.startTime = new Date();
            
            t.timerInterval = setInterval(function() {
                
                if (t.isPaused) {
                    return;
                }
                t.curTime = new Date();
                t.diffTime = new Date(t.curTime - t.startTime);
                t.chronoTime = new Date(t.partyDuration - t.diffTime);
                
                min = addZero(t.chronoTime.getMinutes(), 2);
                second = addZero(t.chronoTime.getSeconds(), 2);
                milisecond = addZero(t.chronoTime.getMilliseconds(), 3);
                $timer.text(min + ':' + second + ':' + milisecond);
                
                t.pointsLoop = Math.max(t.minPoints, t.pointsLoop - 5);
                
                if (t.pointsLoop < 1700 && $input.val().length == 0) {
                    $skipBtn.addClass('active');
                }
                
                if (t.chronoTime.getTime() <= 0) {
                    clearInterval(t.timerInterval);
                    if (t.isRunning) {
                        Party.end();
                    }
                }
            }, 10);
            
            Screens.$end.hide();
        },
        setupEndScreen: function() {
            var t = this;
            
            var $hand = Screens.$end.find('#show-vhs-hand');
            
            t.handTL = new TimelineMax({
                paused: true,
                repeat: -1,
                repeatDelay: 4
            });
            t.handTL.to($hand, .6, {
                x: -40,
                ease: Quad.easeOut,
                onComplete: function() {
                    if (!t.scoreScreenActive)
                        sdPlayer.handSqueeze.play();
                }
            }).to($hand, .8, {
                x: 0,
                ease: Bounce.easeOut
            });
        
        },
        end: function() {
            var t = this;
            
            t.setupShare();
            Screens.$game.fadeOut();
            t.isRunning = false;
            
            $('body').removeClass('inparty');
            
            $input.val('');
            
            //SETUP END SCREEN
            Screens.$end.find('.total-score span').text(t.score);
            Screens.$end.find('.nb-cards span').text(t.cardsWon.length);
            Screens.$end.find('.perfects span').text(t.perfects);
            Screens.$end.find('.goods span').text(t.goods);
            Screens.$end.find('.wrongs span').text(t.wrongs);
            
            t.hasRecord = t.lowRecord < t.score;
            
            TV.loadEndScreen();
        
        },
        
        recordScore: function() {
            var t = this;
            
            if (!t.hasRecord)
                return;
            
            var base32 = new Nibbler({
                dataBits: 8,
                codeBits: 5,
                keyString: 'ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=',
                pad: '='
            });
            
            t.encodeScore = base32.encode(t.score.toString());
            
            t.playerName = $('#record_score_name').val();
            t.playerScoreSaved = t.score;
            
            var data = [{
                name: 'dbyyeh',
                value: Party.encodeScore
            }, {
                name: "name",
                value: t.playerName
            }];
            
            $.ajax({
                url: 'db/playerrecord.php',
                type: "POST",
                data: data,
                beforeSend: function() {
                
                },
                success: function(data, success, jqXHR) 
                {
                    TM.to(Screens.$record, 1, {
                        alpha: 0,
                        onComplete: function() {
                            Screens.$record.css({
                                display: "none"
                            });
                        }
                    });
                    
                    sdPlayer.fadeOutSound(sdPlayer.people);
                    TV.introVHSScreen();
                },
                error: function(jqXHR, textStatus, errorThrown) 
                {
                    console.log(jqXHR, textStatus, errorThrown);
                    submited = false;
                }
            });
        },
        refreshScoreScreen: function(callback) {
            var t = this;
            
            t.lowRecord = 999999;
            
            $.ajax({
                url: 'db/getscores.php',
                type: "POST",
                beforeSend: function() {},
                success: function(data, success, jqXHR) 
                {
                    var data = $.parseJSON(data);
                    
                    var sups = ["st", "nd", "rd", "th"];
                    
                    if (callback) {
                        Screens.$scores.find('#score-table').empty();
                        
                        for (var i = 0; i < data.scores.length; i++) {
                            var sup = i < sups.length ? sups[i] : 'th';
                            var $lign = $('<li><p><span class="nb">' + (i + 1) + '<i></i><i class="wh"></i><sup>' + sup + '</sup></span><span class="name" data-text="' + data.scores[i][0] + '"><strong>' + data.scores[i][0] + '</strong></span><span class="score">' + data.scores[i][1] + '</span></p></li>')
                            Screens.$scores.find('#score-table').append($lign);
                            t.lowRecord = Math.min(t.lowRecord, data.scores[i][1]);
                        }
                        
                        callback();
                    } else {
                        
                        Screens.$scores.find('#score-table li p').removeClass('active');
                        
                        for (var i = 0; i < data.scores.length; i++) {
                            
                            t.playerName = $('#record_score_name').val();
                            t.playerScoreSaved = t.score;
                            
                            var sup = i < sups.length ? sups[i] : 'th';
                            var $lign = $('<span class="nb">' + (i + 1) + '<i></i><i class="wh"></i><sup>' + sup + '</sup></span><span class="name" data-text="' + data.scores[i][0] + '"><strong>' + data.scores[i][0] + '</strong></span><span class="score">' + data.scores[i][1] + '</span>');
                            
                            if (t.playerName == data.scores[i][0] && t.playerScoreSaved == data.scores[i][1]) {
                                
                                Screens.$scores.find('#score-table li').eq(i).find('p').addClass('active');
                            }
                            
                            Screens.$scores.find('#score-table li').eq(i).find('p').empty().append($lign);
                            t.lowRecord = Math.min(t.lowRecord, data.scores[i][1]);
                        }
                    }
                
                },
                error: function(jqXHR, textStatus, errorThrown) 
                {
                    console.log(jqXHR, textStatus, errorThrown);
                }
            });
        },
        
        setupScoreScreen: function() {
            var t = this;
            t.scrollScoreActive = false;
            t.scoreScreenActive = false;
            t.enableScreenScore = false;
            
            var delayTime = 120;
            
            var $close = Screens.$scores.find('#close-score');
            
            var pauseTimeout = setTimeout(function() {
                if (!t.isRunning && !t.scoreScreenActive && t.enableScreenScore) {
                    t.showScoreScreen();
                } else {
                    pauseTimeout = setTimeout(function() {
                        if (!t.isRunning && !t.scoreScreenActive && t.enableScreenScore)
                            t.showScoreScreen();
                    }, delayTime * 1000);
                }
            }, delayTime * 1000);
            
            $(window).on('mousemove', function(e) {
                if (t.scoreScreenActive)
                    TM.set($close, {
                        x: e.pageX,
                        y: e.pageY
                    });
            });
            
            $(window).on('click', function(e) {
                var $target = $(e.target);
                
                if ($target.is('#bt-scorescreen') || $target.parents('#bt-scorescreen').length > 0)
                    return;
                
                
                if (t.scoreScreenActive) {
                    t.hideScoreScreen();
                }
                
                clearTimeout(pauseTimeout);
                
                pauseTimeout = setTimeout(function() {
                    
                    clearTimeout(pauseTimeout);
                    
                    if (!t.isRunning && !t.scoreScreenActive && t.enableScreenScore) {
                        t.showScoreScreen();
                    }
                
                }, delayTime * 1000);
            
            });
            
            $(window).on('mousewheel', function(e) {
                if (!t.scoreScreenActive || !t.scrollScoreActive)
                    return;
                
                t.scoreTabTL.pause();
                
                var maxY = ($('.scores-ct').height() + 170) - ch + 170;
                var y = Math.max(-maxY, Math.min(0, t.scoreTabCurPos.y + e.deltaY / 2));
                
                TM.to(Screens.$scores.find('.scores-ct'), .2, {
                    y: y,
                    ease: Linear.easeNone
                });
                TM.to(t.scoreTabCurPos, .2, {
                    y: y,
                    ease: Linear.easeNone
                });
            });
            
            t.scoreTabCurPos = {
                y: 0
            };
            t.scoreTabTL = new TimelineMax({
                repeatDelay: 2,
                repeat: -1,
                paused: true
            });
            
            t.refreshScoreScreen(function() {
                Screens.$scores.css({
                    display: "block",
                    opacity: 0
                });
                var y = ($('.scores-ct').height() + 170) - wh + 170;
                
                t.scoreTabTL.fromTo(Screens.$scores.find('.scores-ct'), 1, {
                    opacity: 0
                }, {
                    opacity: 1
                }, "start")
                .staggerFrom(Screens.$scores.find('.scores-ct li').slice(0, 10), 1, {
                    x: -ww / 2,
                    opacity: 0
                }, .1, "start", function() {
                    t.scrollScoreActive = true;
                })
                .to(t.scoreTabCurPos, y / 15, {
                    y: -y,
                    ease: Linear.easeNone
                }, "start")
                .to(Screens.$scores.find('.scores-ct'), y / 15, {
                    y: -y,
                    ease: Linear.easeNone
                }, "start", function() {
                    t.scrollScoreActive = false;
                })
                .to(Screens.$scores.find('.scores-ct'), 1, {
                    opacity: 0
                })
                .to(Screens.$scores.find('.scores-ct'), .1, {
                    y: 0
                });
            });
            
            $('#bt-scorescreen').click(function() {
                if (!t.isRunning && !t.scoreScreenActive && t.enableScreenScore) {
                    clearTimeout(pauseTimeout);
                    t.showScoreScreen();
                }
            });
        
        },
        
        showScoreScreen: function() {
            var t = this;
            
            if (t.scoreScreenActive || !t.enableScreenScore)
                return;
            
            t.refreshScoreScreen();
            
            t.scoreScreenActive = true;
            t.scrollScoreActive = false;
            
            $('body').addClass('nocursor');
            
            $('footer').fadeOut();
            
            t.hideAllScreens();
            
            if (TV.tvContainer)
                TM.to(TV.tvContainer, 1, {
                    alpha: 0
                });
            
            if (TV.endScreen)
                TM.to(TV.endScreen, 1, {
                    alpha: 0
                });
            
            
            TM.to(TV.starScreen, 1, {
                alpha: 1,
                delay: 1,
                onComplete: function() {
                    Screens.$scores.css({
                        display: "block",
                        opacity: 1
                    });
                    t.scoreTabTL.restart();
                }
            });
        },
        
        hideScoreScreen: function() {
            var t = this;
            
            $('footer').fadeIn();
            
            $('body').removeClass('nocursor');
            
            TM.to(Screens.$scores, 1, {
                alpha: 0,
                onComplete: function() {
                    Screens.$scores.hide();
                }
            });
            
            if (t.isTutorial) {
                TM.fromTo(Screens.$start, 1, {
                    opacity: 0,
                    display: 'block'
                }, {
                    opacity: 1
                });
            } else if (TV.isEndScreen) {
                
                TM.to(TV.starScreen, 1, {
                    alpha: 0
                });
                TM.to(TV.endScreen, 1, {
                    alpha: 1
                });
                TM.to(Screens.$end, 1, {
                    opacity: 1,
                    display: 'block'
                });
            } else {
                TM.to(TV.starScreen, 1, {
                    alpha: 0
                });
                TM.to(TV.tvContainer, 1, {
                    alpha: 1
                });
                TM.fromTo(Screens.$welcome, 1, {
                    opacity: 0,
                    display: 'block'
                }, {
                    opacity: 1
                });
            }
            t.scoreScreenActive = false;
        
        },
        
        
        setupCreditScreen: function() {
            var t = this;
            t.creditScreenActive = false;
            
            var $close = Screens.$credits.find('#close-credits');
            
            $(window).on('mousemove', function(e) {
                if (t.creditScreenActive)
                    TM.set($close, {
                        x: e.pageX,
                        y: e.pageY
                    });
            });
            
            $(window).on('click', function(e) {
                var $target = $(e.target);
                if ($target.is('#bt-credits') || $target.parents('#bt-credits').length > 0)
                    return;
                if (t.creditScreenActive) {
                    t.hideCreditScreen();
                }
            });
            
            
            
            $('#bt-credits').click(function() {
                if (t.enableScreenScore) {
                    t.showCreditScreen();
                }
            });
        },
        
        showCreditScreen: function() {
            var t = this;
            
            if (t.creditScreenActive)
                return;
            
            
            $('footer').fadeOut();
            
            t.creditScreenActive = true;
            
            t.enableScreenScore = false;
            
            $('body').addClass('nocursor');
            
            t.hideAllScreens();
            
            if (TV.tvContainer)
                TM.to(TV.tvContainer, 1, {
                    alpha: 0
                });
            
            if (TV.endScreen)
                TM.to(TV.endScreen, 1, {
                    alpha: 0
                });
            
            TM.to(TV.starScreen, 1, {
                alpha: 1,
                onComplete: function() {
                    Screens.$credits.css({
                        display: "block",
                        opacity: 1
                    });
                    
                    TM.staggerFrom(Screens.$credits.find('h2, p'), 1, {
                        opacity: 0,
                        y: 30
                    }, .1);
                
                }
            });
        },
        
        hideCreditScreen: function() {
            var t = this;
            
            $('footer').fadeIn();
            
            $('body').removeClass('nocursor');
            
            TM.to(Screens.$credits, 1, {
                alpha: 0,
                onComplete: function() {
                    Screens.$credits.hide();
                }
            });
            
            if (t.isTutorial) {
                TM.fromTo(Screens.$start, 1, {
                    opacity: 0,
                    display: 'block'
                }, {
                    opacity: 1,
                    delay: 1
                });
            } else if (TV.isEndScreen) {
                
                TM.to(TV.starScreen, 1, {
                    alpha: 0
                });
                TM.to(TV.endScreen, 1, {
                    alpha: 1,
                    delay: 1
                });
                TM.to(Screens.$end, 1, {
                    opacity: 1,
                    display: 'block'
                });
            } else {
                TM.to(TV.starScreen, 1, {
                    alpha: 0
                });
                TM.to(TV.tvContainer, 1, {
                    alpha: 1,
                    delay: 1
                });
                TM.fromTo(Screens.$welcome, 1, {
                    opacity: 0,
                    display: 'block'
                }, {
                    opacity: 1,
                    delay: 1
                });
            }
            t.creditScreenActive = false;
            t.enableScreenScore = true;
        },
        
        setInputCaret: function() {
            
            
            var cursor;
            /* global variable */
            
            cursor = document.getElementById("cursor");
            /* defining the global var */
            cursor.style.left = "0px";
            /* setting it's position for future use */
            
            $input.on('keydown', function(e) {
                if ($writer.hasClass('glance')) {
                    $writer.removeClass('glance').find('b').remove();
                }
                writeit(this, e);
                moveIt(this.value.length, e);
            });
            $input.on('keyup keypress', function(e) {
                writeit(this, e);
            });
            
            var decal = 68;
            
            function writeit(from, e) {
                /* the magic starts here, this function requires the element from which the value is extracted and an event object */
                e = e || window.event;
                /* window.event fix for browser compatibility */
                var w = $writer[0];
                /* get the place to write */
                var tw = from.value;
                /* get the value of the textarea */
                w.innerHTML = tw;
                /* convert newlines to breaks and append the returned value to the content area */
            }
            
            function moveIt(count, e) {
                /* function to move the "fake caret" according to the keypress movement */
                e = e || window.event;
                /* window.event fix again */
                var keycode = e.keyCode || e.which;
                /* keycode fix */
                //				alert(count); /* for debugging purposes */
                if (keycode == 37 && parseInt(cursor.style.left) >= (0 - ((count - 1) * decal))) {
                    // if the key pressed by the user is left and the position of the cursor is greater than or equal to 0 - the number of words in the textarea - 1 * 10 then ...
                    cursor.style.left = parseInt(cursor.style.left) - decal + "px";
                    // move the cursor to the left
                } else if (keycode == 39 && (parseInt(cursor.style.left) + decal) <= 0) {
                    // otherwise, if the key pressed by the user if right then check if the position of the cursor + 10 is smaller than or equal to zero if it is then ...
                    cursor.style.left = parseInt(cursor.style.left) + decal + "px";
                    // move the "fake caret" to the right
                }
            }
            function alert(txt) {// for debugging
            }
        },
        testEndScreen: function() {
            var t = this;
            Party.cardsWon = Characters.slice(0, 20);
            TV.loadEndScreen();
        },
        pauseTime: function() {
            var t = this;
            t.isPaused = true;
            t.pauseStartTime = new Date();
        },
        continueTime: function() {
            var t = this;
            t.curTime = new Date();
            t.diffTime = new Date(t.curTime - t.pauseStartTime);
            t.partyDuration = new Date((t.duration + t.diffTime.getSeconds() + TV.bonusTimeResult) * 1000);
            t.isPaused = false;
        },
        hideAllScreens: function() {
            var t = this;
            
            if (t.isTutorial) {
                TM.to(Screens.$start, 1, {
                    opacity: 0,
                    onComplete: function() {
                        Screens.$start.hide();
                    }
                });
            } else if (TV.isEndScreen) {
                TM.to(Screens.$end, 1, {
                    opacity: 0,
                    onComplete: function() {
                        Screens.$end.hide();
                    }
                });
            }
        
        },
        
        setupShare: function() {
            var t = this;
            
            $('#share-tw-c iframe').remove();
            var share_text = "I've found " + t.cardsWon.length + " characters on the Retrominder, try to beat me !";
            
            $fbUrlLink.off('click', shareFb);
            shareFb = function() {
                FB.ui({
                    method: 'feed',
                    name: share_text,
                    link: 'http://www.retrominder.tv',
                    picture: 'http://www.retrominder.tv/assets/img/retrominder_fb.jpg',
                    caption: 'Retrominder',
                    description: '90 seconds to test your videotape culture !'
                }, 
                function(response) {}
                );
            }
            ;
            $fbUrlLink.on('click', shareFb);
            
            if (typeof twttr == 'undefined') {
                $('share-tw-c').hide();
            } else {
                twttr.widgets.createShareButton(
                'http://www.retrominder.tv', 
                document.getElementById('share-tw-c'), 
                {
                    text: share_text,
                    size: 'large',
                    count: 'none'
                }
                );
            }
        
        
        
        }
    
    };
    ;
    
    TV.loadBonusScene = function(src) {
        var t = this;
        
        var loader = new PIXI.loaders.Loader();
        loader.add('bonusSprite', src);
        loader.load(complete);
        
        function complete(loader, resources) {
            t.bonusResources = resources;
        }
    }
    
    TV.bonusStage = function(callback) {
        var t = this;
        
        Party.pauseTime();
        
        t.isRunning = true;
        t.isIntroducing = false;
        
        t.tvContainer.removeChild(t.screenFrame1);
        t.tvContainer.removeChild(t.screenFrame2);
        t.bonusScreen = new PIXI.Container();
        
        t.tvContainer.addChild(t.bonusScreen);
        
        
        t.showTypo("bonus");
        
        
        
        var bonusActive = false;
        
        
        setTimeout(function() {
            t.hideTypo();
            t.answerCt.removeChild(t.bonusMessage);
            
            Screens.$bonus.show().find('.bonus-message').show();
            Screens.$game.hide();
            
            t.bonusSprite = TV.createBonusSprite();
            t.bonusSprite.width = cw;
            t.bonusSprite.height = ch;
            t.bonusScreen.addChild(t.bonusSprite);
            
            t.bonusScreen.filters = [t.displacementFilter, t.displacementFullFilter];
            
            t.calmDown();
            
            if (sdPlayer.characterSd)
                sdPlayer.characterSd.pause();
            
            sdPlayer.people.currentTime = 0;
            sdPlayer.people.volume = 1;
            sdPlayer.people.play();
            
            sdPlayer.theme.currentTime = 47;
            sdPlayer.fadeInSound(sdPlayer.theme);
            
            var percent = 0;
            var isPlaying = true;
            var $bar = $('#jauge-ct .jauge-cache');
            var $space = $('#space-btn');
            var $timeout = $('#bonus-timeout');
            
            
            
            $timeout.text('');
            
            bonusActive = true;
            
            $(document).keyup(function(e) {
                if (e.keyCode == 32 && isPlaying && bonusActive) {
                    
                    Screens.$bonus.find('.bonus-message').hide();
                    
                    $space.removeClass('pressed');
                    percent += 3;
                    refreshBar();
                }
            });
            
            $(document).keydown(function(e) {
                if (e.keyCode == 32 && isPlaying) {
                    $space.addClass('pressed');
                }
            });
            
            
            var second = 0;
            var milisecond = 0;
            var sec = 0;
            
            var bonusDuration = new Date(8 * 1000)
              , 
            bonustStartTime = new Date();
            
            
            var bonusInterval = setInterval(function() {
                
                var curTime = new Date();
                var diffTime = new Date(curTime - bonustStartTime);
                var chronoTime = new Date(bonusDuration - diffTime);
                second = addZero(chronoTime.getSeconds(), 2);
                $timeout.text(second);
                
                percent -= 1;
                
                refreshBar();
                
                if (chronoTime.getTime() <= 0) {
                    second = 0;
                    endBonus();
                }
            }, 100);
            
            
            
            function refreshBar() {
                
                $bar.css({
                    height: percent + "%"
                });
                var frame = Math.round((percent / 100) * t.bonusSprite.totalFrames);
                
                t.bonusSprite.gotoAndStop(frame);
                
                
                if (percent >= 100) {
                    endBonus();
                }
            }
            
            function endBonus() {
                bonusActive = false;
                
                clearInterval(bonusInterval);
                t.bonusSprite.gotoAndPlay(0);
                t.bonusSprite.animationSpeed = .3;
                
                Screens.$bonus.hide();
                isPlaying = false;
                var result = '';
                
                
                t.bonusTimeResult = percent / 10 + parseInt(second);
                
                if (percent >= 70) {
                    result = "amazing"
                } else if (percent > 20) {
                    result = "great";
                } else {
                    result = "toobad";
                }
                
                sdPlayer.fadeOutSound(sdPlayer.people);
                sdPlayer.fadeOutSound(sdPlayer.theme);
                
                sdPlayer.letsplay.currentTime = 0;
                sdPlayer.letsplay.play();
                
                t.bonusTimeScore = new PIXI.Text("+" + Math.round(TV.bonusTimeResult),{
                    font: '150px Abduction',
                    fill: 0xFFFFFF
                });
                
                var blur = new PIXI.filters.BlurFilter();
                blur.passes = 3;
                blur.blur = 3;
                
                t.bonusTimeScore.filters = [TV.rgbFilter, blur];
                t.bonusScreen.addChild(t.bonusTimeScore);
                
                var scorePts = new PIXI.Text('SEC',{
                    font: '40px Abduction',
                    fill: 0xFFFFFF
                });
                scorePts.position.x = t.bonusTimeScore.width - 5;
                scorePts.position.y = t.bonusTimeScore.height - scorePts.height - 10;
                
                t.bonusTimeScore.addChild(scorePts);
                t.bonusTimeScore.position.x = cw / 2 - t.bonusTimeScore.width / 2 - 40;
                t.bonusTimeScore.position.y = ch / 2 - t.bonusTimeScore.height / 2;
                
                setTimeout(function() {
                    t.showTypo(result);
                    t.tvContainer.removeChild(t.bonusScreen);
                    callback();
                }, 2000);
            }
        
        }, 1000);
    
    }
    
    
    
    TV.createBonusSprite = function() {
        var t = this;
        
        var frames = [];
        for (var i = 0; i < 12; i++) {
            var sprite = new PIXI.Texture(t.bonusResources['bonusSprite'].texture,new PIXI.Rectangle(0,i * 360,640,360));
            frames.push(sprite);
        }
        
        var bonus_sprite = new PIXI.extras.MovieClip(frames);
        bonus_sprite.animationSpeed = 0;
        bonus_sprite.gotoAndStop(0);
        return bonus_sprite;
    }
    ;
    ;TV.loadEndScreen = function() {
        var t = this;
        
        var loader = new PIXI.loaders.Loader();
        
        
        for (var i = 1; i < 5; i++) {
            loader.add('sp_K7_' + i, imgPath + 'K7/sprite_K7_' + i + '.png');
            loader.add(imgPath + 'K7/K7_' + i + '.png');
        }
        loader.load(complete);
        
        function complete(loader, resources) {
            t.K7resources = resources;
            TV.setupEndScreen();
        }
    }
    TV.createTVSprite = function(numK7) {
        var t = this;
        
        var frames = [];
        for (var i = 0; i < 3; i++) {
            var sprite = new PIXI.Texture(t.K7resources['sp_K7_' + numK7].texture,new PIXI.Rectangle(0,i * 214,382,214));
            frames.push(sprite);
        }
        
        var K7_sprite = new PIXI.extras.MovieClip(frames);
        K7_sprite.animationSpeed = 1;
        
        return K7_sprite;
    }
    ;
    
    
    TV.setupEndScreen = function() {
        var t = this;
        
        
        t.baseColor = "0x53C0EF";
        t.isEndScreen = true;
        t.isEndScreenScroll = true;
        
        
        t.endScreen = new PIXI.Container();
        t.scoreScreen = new PIXI.Container();
        t.BGendScreen = new PIXI.Container();
        t.vhsFullCt = new PIXI.Container();
        t.vhsContainer = new PIXI.Container();
        t.VHSDirection = -1.5;
        
        
        t.vhsFullCt.addChild(t.vhsContainer);
        t.vhsFullCt.position.x = 0;
        t.vhsFullCt.position.y = 0;
        t.vhsFullCt.width = cw;
        t.vhsFullCt.height = ch;
        
        t.curVHS = null ;
        
        t.endScreen.addChild(t.BGendScreen);
        t.endScreen.addChild(t.scoreScreen);
        
        
        t.stage.addChild(t.displacementSprite);
        
        var blur = new PIXI.filters.BlurFilter();
        blur.passes = 7;
        blur.blur = 7;
        
        
        var blurShadow = new PIXI.filters.BlurFilter();
        blurShadow.blur = 100;
        blurShadow.passes = 10;
        
        
        var scoreMask = new PIXI.Sprite.fromImage('assets/img/test/mask.jpg');
        scoreMask.width = cw;
        scoreMask.height = ch;
        t.scoreScreen.addChild(scoreMask);
        
        
        t.scoreNb = new PIXI.Text(0,{
            font: '228px Abduction',
            fill: 0xFFFFFF
        });
        t.scoreNb.position.x = 200;
        t.scoreNb.position.y = 120;
        t.scoreNb.width = 300;
        t.scoreNb.alpha = 0.9;
        t.scoreNb.mask = scoreMask;
        t.scoreScreen.addChild(t.scoreNb);
        
        t.scoreNbShadow = new PIXI.Text(0,{
            font: '228px Abduction',
            fill: 0xFFFFFF
        });
        t.scoreNbShadow.position.x = 200;
        t.scoreNbShadow.position.y = 120;
        t.scoreNbShadow.width = 300;
        t.scoreNbShadow.alpha = .5;
        t.scoreNbShadow.mask = scoreMask;
        
        t.scoreScreen.addChild(t.scoreNbShadow);
        t.scoreNbShadow.filters = [blurShadow];
        
        t.scoreValue = new PIXI.Text(Party.score,{
            font: '35px Abduction',
            fill: 0xFFFFFF
        });
        t.scoreValue.position.x = cw - 360;
        t.scoreValue.position.y = 200;
        t.scoreScreen.addChild(t.scoreValue);
        
        var scorePts = new PIXI.Text('PTS',{
            font: '18px Abduction',
            fill: 0xFFFFFF
        });
        scorePts.position.x = t.scoreValue.width + 14;
        scorePts.position.y = 3;
        
        t.scoreValue.addChild(scorePts);
        
        t.scoreValue.text = 0;
        
        t.scoreValue.filters = [blur];
        
        t.endScreen.addChild(t.vhsFullCt);
        
        t.BGendScreen.filters = [t.testDisplacmentFilter];
        
        t.blueBG = new PIXI.Sprite.fromImage(imgPath + 'bg/fond_bleu.jpg');
        t.blueBG.position.x = 0;
        t.blueBG.position.y = 0;
        t.blueBG.width = cw;
        t.blueBG.height = ch;
        t.BGendScreen.addChild(t.blueBG);
        
        t.starsBG = new PIXI.Sprite.fromImage(imgPath + 'bg/stars.png');
        t.starsBG.position.x = 0;
        t.starsBG.position.y = 0;
        t.starsBG.width = cw;
        t.starsBG.height = ch;
        
        t.BGendScreen.addChild(t.starsBG);
        
        //BG
        
        var ambianceMask = new PIXI.Sprite.fromImage(imgPath + 'bg/ambiance_mask.jpg');
        ambianceMask.width = cw;
        ambianceMask.height = ch;
        t.scoreScreen.addChild(ambianceMask);
        
        
        
        t.bgGradient = new PIXI.Graphics();
        t.bgGradient.beginFill(t.baseColor);
        t.bgGradient.drawRect(0, 0, cw, ch);
        t.bgGradient.tintIdx = 0;
        t.bgGradient.mask = ambianceMask;
        t.bgGradient.alpha = .2;
        
        t.BGendScreen.addChild(t.bgGradient);
        
        t.gridSprite = TV.createGridSprite();
        t.gridSprite.width = cw;
        t.gridSprite.height = 1280 / cw * 350;
        t.gridSprite.position.x = 0;
        t.gridSprite.position.y = ch - t.gridSprite.height;
        t.gridSprite.blendMode = PIXI.BLEND_MODES.ADD;
        t.gridSprite.alpha = .5;
        t.gridSprite.play();
        
        t.gridMask = new PIXI.Graphics();
        t.gridMask.beginFill(0xffffff);
        t.gridMask.beginFill(t.baseColor);
        t.gridMask.drawRect(0, 0, t.gridSprite.width, t.gridSprite.position.y - 30);
        t.gridMask.position.x = t.gridSprite.position.x;
        t.gridMask.position.y = t.gridSprite.position.y + 30;
        t.BGendScreen.addChild(t.gridMask);
        
        t.gridSprite.mask = t.gridMask;
        
        
        t.BGendScreen.addChild(t.gridSprite);
        t.BGendScreen.addChild(t.gridSprite);
        
        
        t.shadowBG = new PIXI.Sprite.fromImage(imgPath + 'bg/ombre.png');
        t.shadowBG.position.x = 0;
        t.shadowBG.position.y = 0;
        t.shadowBG.width = cw;
        t.shadowBG.height = ch;
        
        for (var i = 0; i < Party.cardsWon.length; i++) {
            var vhs = TV.createVHS((cw * .5) * (i), Party.cardsWon[i]);
            t.vhsContainer.addChild(vhs);
        }
        t.endScreen.visible = true;
        
        
        t.smokeVideo = new PIXI.Texture.fromVideo(videoPath + 'fumee.mp4');
        t.smokeVideoSprite = new PIXI.Sprite(t.smokeVideo);
        t.smokeVideoSprite.width = cw;
        t.smokeVideoSprite.height = ch;
        t.smokeVideoSprite.blendMode = PIXI.BLEND_MODES.ADD;
        t.smokeVideoSprite.tint = t.baseColor;
        t.smokeVideo.baseTexture.source.loop = true;
        t.endScreen.addChild(t.smokeVideoSprite);
        
        
        t.topMask = new PIXI.Graphics();
        t.topMask.beginFill(t.baseColor);
        t.topMask.drawRect(0, 0, cw, ch);
        t.topMask.tintIdx = 0;
        t.topMask.mask = ambianceMask;
        //    t.topMask.blendMode = PIXI.BLEND_MODES.LIGHTEN;
        t.topMask.alpha = .1;
        
        t.endScreen.addChild(t.topMask);
        
        t.blurXFilter = new PIXI.filters.BlurFilter();
        t.blurXFilter.blurX = 0;
        t.blurXFilter.blurY = 0;
        t.vhsFullCt.filters = [t.blurXFilter];
        
        
        //LENSFLARE
        t.lensFlare = new PIXI.Container();
        t.lensFlare.addChild(new PIXI.Sprite.fromImage(imgPath + 'bg/lens_part_3.png'));
        t.lensFlare.addChild(new PIXI.Sprite.fromImage(imgPath + 'bg/lens_part_1.png'));
        t.lensFlare.addChild(new PIXI.Sprite.fromImage(imgPath + 'bg/lens_part_2.png'));
        for (var i = 0; i < t.lensFlare.children.length; i++) {
            t.lensFlare.children[i].width = cw;
            t.lensFlare.children[i].height = ch;
            
            t.lensFlare.children[i].originalScale = {
                x: cw / 1280,
                y: ch / 720
            };
            //        t.lensFlare.children[i].blendMode = PIXI.BLEND_MODES.ADD;
            t.lensFlare.children[i].alpha = 1;
            t.lensFlare.children[i].tint = t.baseColor;
        
        }
        t.endScreen.addChild(t.lensFlare);
        
        function updateLensFlare() {
            var duration = Math.random() > .7 ? Math.random() + 1 : Math.random() * 10 + 10;
            TM.to(t.lensFlare, .5, {
                alpha: Math.random()
            });
            TM.to(t.starsBG, .5, {
                alpha: Math.random()
            });
            
            setTimeout(function() {
                updateLensFlare();
            }, duration * 10);
        }
        ;
        
        updateLensFlare();
        
        t.rgbCoef = .1;
        
        t.endScreen.filters = [t.rgbFilter, t.displacementFilter];
        t.endScreen.alpha = 0;
        TV.createVHSnav();
        
        t.addLightFrames(t.endScreen);
        
        t.stage.addChildAt(t.endScreen, 2);
        
        TV.endScreenSetupAction();
        
        TV.endScreenOpening();
        
        TM.set(Screens.$end, {
            display: "block",
            opacity: 1
        });
        TM.set(Screens.$end.find('.scoring'), {
            opacity: 0,
            x: cw * .6
        });
        TM.set(Screens.$end.find('#back-to-end'), {
            opacity: 0,
            x: -cw * .4
        });
    
    
    }
    ;
    
    TV.endScreenOpening = function() {
        var t = this;
        
        t.tvContainer.alpha = 0;
        
        t.VHSIdx = Party.cardsWon.length;
        
        if (sdPlayer.characterSd)
            sdPlayer.characterSd.pause();
        
        clearTimeout(t.chgTM1);
        clearTimeout(t.chgTM2);
        
        t.showTypo("gameover");
        
        t.stage.removeChild(t.videoTransitionSprite);
        t.stage.addChild(t.videoSprite);
        t.noiseOpacity = .15;
        t.offset = 0;
        t.jumpOffset = 0;
        t.rgbCoef = .1;
        
        
        
        if (Party.hasRecord) {
            t.scoreScreen.alpha = 0;
            t.vhsContainer.position.x = cw;
        }
        
        TM.to(t.endScreen, 1, {
            alpha: 1,
            delay: 3
        });
        TM.to(t.answerCt, 1, {
            alpha: 0,
            delay: 3,
            onComplete: function() {
                
                t.hideTypo();
                Screens.$game.hide();
                
                if (!Party.hasRecord) {
                    TV.introVHSScreen();
                } else {
                    Screens.$record.find('#record_score_name').val('');
                    TM.fromTo(Screens.$record, 1, {
                        alpha: 0
                    }, {
                        alpha: 1,
                        display: "block",
                        onComplete: function() {
                            Screens.$record.find('#record_score_name').focus();
                        }
                    });
                    sdPlayer.people.volume = 1;
                    sdPlayer.people.currentTime = 0;
                    sdPlayer.people.play();
                }
            }
        });
        
        setTimeout(function() {
            sdPlayer.endtheme.volume = 1;
            sdPlayer.endtheme.currentTime = 0;
            sdPlayer.endtheme.play();
        }, 3000);
    
    }
    ;
    
    TV.introVHSScreen = function() {
        var t = this;
        
        var maxVHSDirection = Party.cardsWon.length * (-3.3);
        var maxBlur = Party.cardsWon.length * (-.8);
        var maxXpos = (Party.cardsWon.length - 1) * (cw / 2) + 546 / 2;
        var transiDuration = Math.max(1, Math.min(8, Party.cardsWon.length * .2));
        
        TM.to(t.scoreScreen, .3, {
            alpha: 1
        });
        
        var pingInterval = setInterval(function() {
            sdPlayer.scoreVHS.currentTime = 0;
            sdPlayer.scoreVHS.play();
        }, 200);
        
        TM.to(t.scoreValue, transiDuration, {
            text: Party.score,
            ease: Expo.easeInOut,
            roundProps: "text",
            onComplete: function() {
                $('body').removeClass('playing');
                clearInterval(pingInterval);
            }
        });
        
        TM.to(t.scoreNb, transiDuration, {
            text: Party.cardsWon.length,
            ease: Expo.easeInOut,
            roundProps: "text"
        });
        TM.to(t.scoreNbShadow, transiDuration, {
            text: Party.cardsWon.length,
            ease: Expo.easeInOut,
            roundProps: "text"
        });
        
        TM.to(t.vhsContainer.position, transiDuration, {
            x: -maxXpos,
            ease: Expo.easeInOut,
            onUpdate: function() {
                for (var i = 0; i < t.vhsContainer.children.length; i++) {
                    t.vhsContainer.children[i].typo.position.x = t.vhsContainer.children[i].getLocalBounds().x + t.vhsContainer.children[i].typo.position.originalX - (100 * this.progress());
                }
            }
        });
        
        TM.to(t.blurXFilter, transiDuration / 2, {
            blurX: maxBlur,
            ease: Quad.easeIn
        });
        TM.to(t.blurXFilter, transiDuration / 2, {
            blurX: 0,
            ease: Quad.easeOut,
            delay: transiDuration / 2
        });
        
        TM.to(Screens.$end.find('.scoring'), 1, {
            opacity: 1,
            x: 0,
            ease: Expo.easeInOut,
            delay: transiDuration * .9
        });
        TM.to(t.scoreScreen, .5, {
            alpha: 0,
            delay: transiDuration * .9
        });
        
        Party.handTL.restart();
        
        Party.enableScreenScore = true;
    }
    ;
    
    TV.endScreenSetupAction = function() {
        var t = this;
        
        var MD = false, 
        posX = 0, 
        originalPosX;
        
        $(document).on('mousemove', function(e) {
            mouse.pos = {
                x: e.pageX,
                y: e.pageY
            };
            if (t.isEndScreen && !Party.scoreScreenActive) {
                mouse.cy = ch / 2 - e.pageY;
                mouse.cx = cw / 2 - e.pageX;
                t.onMousemove();
            }
        });
        
        $(window).on('click', function(e) {
            if (t.isEndScreen && !Party.scoreScreenActive) {
                if (mouse.pos.x < cw / 3 || mouse.pos.x > (cw / 3) * 2) {
                    var dir = mouse.pos.x < cw / 3 ? 1 : -1;
                    
                    if ((dir > 0 && t.VHSIdx == 0) || (dir < 0 && t.VHSIdx >= Party.cardsWon.length)) {
                        return;
                    }
                    
                    t.VHSslide(t.VHSIdx - dir);
                }
            }
        });
    }
    ;
    
    
    TV.VHSslide = function(idx) {
        var t = this;
        
        if (t.vhsSliding)
            return;
        t.vhsSliding = true;
        
        var currentVHS = null ;
        var prevVHS = null ;
        var nextVHS = null ;
        
        var dir = idx > t.VHSIdx ? -1 : 1;
        
        if (t.VHSIdx != Party.cardsWon.length) {
            currentVHS = t.vhsContainer.children[t.VHSIdx];
            //        TM.to(currentVHS.shadow.scale,.3, {y:.5});
            TM.to(currentVHS.scale, .3, {
                y: 1,
                x: 1
            });
            TM.to(currentVHS.position, .3, {
                x: currentVHS.initialPosition.x,
                y: currentVHS.initialPosition.y
            });
            //        TM.to(currentVHS.shadow.position,.3, {y:currentVHS.getLocalBounds().y+currentVHS.shadow.originalY});
            //        TM.to(currentVHS.typo.position,1.3, {x: currentVHS.getLocalBounds().x + currentVHS.typo.position.originalX+100*dir, ease:Expo.easeInOut});
        }
        
        if (t.VHSIdx > 0) {
            prevVHS = t.vhsContainer.children[idx - 1];
        }
        
        t.VHSIdx = idx;
        
        if ((dir < 0 && t.VHSIdx == Party.cardsWon.length) ) {
            TM.to(Screens.$end.find('.scoring'), 1, {
                opacity: 1,
                x: 0,
                ease: Expo.easeInOut
            });
            TM.to(Screens.$end.find('#vhs-navigation'), 1, {
                opacity: 0,
                x: -cw * .4,
                ease: Expo.easeInOut
            });
            TM.to(Screens.$end.find('#back-to-end'), 1, {
                opacity: 0,
                x: -cw * .6,
                ease: Expo.easeInOut
            });
            Party.handTL.restart();
            
            TM.to(t.scoreScreen, .5, {
                alpha: 0
            });
        } else {
            TM.to(Screens.$end.find('.scoring'), 1, {
                opacity: 0,
                x: cw * .4,
                ease: Expo.easeInOut
            });
            TM.to(Screens.$end.find('#vhs-navigation'), 1, {
                opacity: 1,
                x: 0,
                ease: Expo.easeInOut
            });
            Party.handTL.pause();
            
            TM.to(t.scoreScreen, .5, {
                alpha: 1,
                delay: .5
            });
            nextVHS = t.vhsContainer.children[t.VHSIdx];
            
            if (t.VHSIdx == Party.cardsWon.length - 1) {
                TM.to(Screens.$end.find('#back-to-end'), 1, {
                    opacity: 1,
                    x: 0,
                    ease: Expo.easeInOut
                });
            } else {
                TM.to(Screens.$end.find('#back-to-end'), 1, {
                    opacity: 0,
                    x: cw * .6,
                    ease: Expo.easeInOut
                });
            }
        }
        
        
        TM.to(t.blurXFilter, .5, {
            blurX: 10,
            ease: Quad.easeIn,
            onComplete: function() {
                if (currentVHS)
                    currentVHS.spriteK7.visible = false;
                if (nextVHS)
                    nextVHS.spriteK7.visible = true;
                
                t.scoreNb.text = (t.VHSIdx + 1);
                t.scoreNbShadow.text = (t.VHSIdx + 1);
                
                sdPlayer.nbVHS.currentTime = 0;
                sdPlayer.nbVHS.play();
                
                t.$vhsPuces.removeClass('active').eq(t.VHSIdx).addClass('active');
            
            }
        });
        
        var colorTransi = {
            tint: currentVHS ? currentVHS.bgColor : t.baseColor.replace('0x', '#')
        };
        var nextColorTransi = nextVHS ? nextVHS.bgColor : t.baseColor.replace('0x', '#');
        
        TM.to(colorTransi, 1, {
            tint: nextColorTransi,
            onUpdateParams: [colorTransi.bgColor],
            onUpdate: onUpdateGradient
        });
        
        function onUpdateGradient(val) {
            
            var color = parseColor(colorTransi.tint);
            t.bgGradient.clear();
            t.bgGradient.beginFill(color);
            t.bgGradient.drawRect(0, 0, cw, ch);
            
            t.topMask.clear();
            t.topMask.beginFill(color);
            t.topMask.drawRect(0, 0, cw, ch);
            
            t.smokeVideoSprite.tint = color;
        }
        
        TM.to(t.blurXFilter, .5, {
            blurX: 0,
            ease: Quad.easeOut,
            delay: .5,
            onComplete: function() {
                if (nextVHS) {
                    TM.to(nextVHS.scale, .3, {
                        y: 1.05,
                        x: 1.05
                    });
                    TM.to(nextVHS.position, .3, {
                        x: nextVHS.initialPosition.x - 10,
                        y: nextVHS.initialPosition.y - 10
                    });
                    //            TM.to(nextVHS.shadow.scale,.3, {y:1.1});
                    //            TM.to(nextVHS.shadow.position,.3, {y:nextVHS.shadow.originalY-30});
                }
            }
        });
        
        TM.to(t.vhsContainer.position, 1, {
            x: -(t.VHSIdx - 1) * (cw / 2) - 546 / 2,
            ease: Expo.easeInOut
        });
        
        if (prevVHS) {
            TM.to(prevVHS.typo.position, 1.3, {
                x: prevVHS.getLocalBounds().x + prevVHS.typo.position.originalX - 100,
                ease: Expo.easeInOut
            });
        }
        
        //    if(currentVHS){
        //        TM.to(currentVHS.typo.position,1.3, {x: currentVHS.getLocalBounds().x + currentVHS.typo.position.originalX+100*dir, ease:Expo.easeInOut});
        //    }
        //
        if (t.VHSIdx < Party.cardsWon.length - 1) {
            var futurNextVHS = t.vhsContainer.children[t.VHSIdx + 1];
            TM.to(futurNextVHS.typo.position, 1.3, {
                x: futurNextVHS.getLocalBounds().x + futurNextVHS.typo.position.originalX + 100,
                ease: Expo.easeInOut
            });
        }
        
        if (nextVHS) {
            TM.to(nextVHS.typo.position, 1.3, {
                x: nextVHS.getLocalBounds().x + nextVHS.typo.position.originalX,
                ease: Expo.easeInOut
            });
        }
        
        
        
        t.curVHS = nextVHS;
        
        TM.to(t.starsBG.position, 1, {
            x: '+=' + dir * 7,
            ease: Expo.easeInOut
        });
        TM.to(t.starsBG.position, .8, {
            x: '-=' + dir * 7,
            delay: 1
        });
        
        TM.to(t.gridSprite.position, 1, {
            x: '+=' + dir * 15,
            ease: Expo.easeInOut
        });
        TM.to(t.gridSprite.position, .8, {
            x: '-=' + dir * 15,
            delay: 1
        });
        
        TM.to(t.scoreScreen.position, 1, {
            x: '+=' + dir * 30,
            ease: Expo.easeInOut
        });
        TM.to(t.scoreScreen.position, .8, {
            x: '-=' + dir * 30,
            delay: 1,
            onComplete: function() {
                t.vhsSliding = false;
            }
        });
        
        
        if (t.curVHS) {
            if (t.curVHS.character.sound) {
                TM.to(sdPlayer.endtheme, .6, {
                    volume: .05
                });
                sdPlayer.playCharacterSound(t.curVHS.character.sound, true, .8, .01);
            }
        } else {
            sdPlayer.fadeOutSound(sdPlayer.characterSd);
            TM.to(sdPlayer.endtheme, .6, {
                volume: 1
            });
        }
    }
    ;
    
    
    
    TV.getFramesFromSpriteSheet = function(imagePath, frameWidth, frameHeight) {
        
        var frames = [];
        for (var i = 0; i < frameWidth * 3; i += frameWidth) {
            var temp = new PIXI.Texture.fromImage(imagePath);
            temp.baseTexture.frame = new PIXI.Rectangle(0,i,frameWidth,frameHeight);
            frames.push(temp.baseTexture);
        }
        
        return frames;
    }
    
    TV.createVHSnav = function() {
        var t = this;
        
        /*
         t.VHSnav = new PIXI.Container();
         t.VHSnavShadow = new PIXI.Container();

         var blur = new PIXI.filters.BlurFilter();
         blur.passes = 20;
         blur.blur = 20;

         t.VHSnavShadow.filters = [blur];

         for (var i = 0; i < Party.cardsWon.length; i++) {
         var circle = new PIXI.Graphics();
         circle.lineStyle(3,0xFFFFFF);
         circle.drawCircle(cw/2 + (i-Party.cardsWon.length/2)*30, ch-200, 10);

         var circleShadow = new PIXI.Graphics();
         circleShadow.lineStyle(3,0xFFFFFF);
         circleShadow.drawCircle(cw/2 + (i-Party.cardsWon.length/2)*30, ch-200, 10);

         t.VHSnav.addChild(circle);
         t.VHSnavShadow.addChild(circleShadow);
         }

         t.endScreen.addChild(t.VHSnavShadow);
         t.endScreen.addChild(t.VHSnav);
         */
        
        t.$vhsNav = Screens.$end.find('#vhs-navigation nav');
        t.$vhsNav.empty();
        for (var i = 0; i < Party.cardsWon.length; i++) {
            var $pts = $('<div class="pts"><p data-text=""></p></div>');
            t.$vhsNav.append($pts);
        }
        t.$vhsPuces = t.$vhsNav.find('.pts');
        
        t.$vhsPuces.click(function() {
            var idx = $(this).index();
            t.VHSslide(idx);
        });
    
    }
    
    TV.createVHS = function(posX, character) {
        var t = this;
        /////// CASSETTE
        var vhsW = 546;
        var vhsH = 308;
        var vhsZ = 50;
        var speed2 = 0;
        
        var VHS = new PIXI.Container();
        VHS.character = character;
        
        VHS.initialPosition = {};
        VHS.width = vhsW;
        VHS.height = vhsH;
        VHS.position.x = VHS.initialPosition.x = posX;
        VHS.position.y = VHS.initialPosition.y = ch / 2 - vhsH / 2;
        VHS.bgColor = character.color;
        VHS.bgTint = Math.random() * 0.01;
        
        
        VHS.pivot.y = 20;
        
        
        var vhsBg = new PIXI.Sprite.fromImage(character.img);
        vhsBg.width = vhsW - 214;
        vhsBg.height = vhsH - 112;
        vhsBg.position.x = 107;
        vhsBg.position.y = 66;
        VHS.addChild(vhsBg);
        
        var k7 = Math.ceil(Math.random() * 4);
        var vhsFace = new PIXI.Sprite.fromImage('assets/img/K7/K7_' + k7 + '.png');
        vhsFace.width = vhsW;
        vhsFace.height = vhsH;
        VHS.addChild(vhsFace);
        
        var spriteK7 = TV.createTVSprite(k7);
        spriteK7.width = vhsW;
        spriteK7.height = vhsH;
        spriteK7.play();
        spriteK7.visible = false;
        VHS.addChild(spriteK7);
        VHS.spriteK7 = spriteK7;
        
        var vhsTypo = new PIXI.Sprite.fromImage(character.typo);
        vhsTypo.width = 300;
        vhsTypo.height = 300;
        vhsTypo.position.y = vhsTypo.position.originalY = vhsH - 200;
        vhsTypo.position.x = vhsTypo.position.originalX = (vhsW - vhsTypo.width) / 2;
        vhsTypo.alpha = 1;
        VHS.typo = vhsTypo;
        VHS.addChild(vhsTypo);
        
        return VHS;
    }
    ;
    
    
    
    
    TV.onMousemove = function() {
        var t = this;
        
        if (t.vhsSliding)
            return;
        
        
        if (t.starBG) {
            TM.to(t.starsBG.position, .1, {
                x: cw - 1.04 * (t.starsBG.width - 56) + mouse.cx / 300,
                y: ch - 1.04 * (t.starsBG.height - 56) + mouse.cy / 300,
                delay: .1
            });
        }
        
        
        TM.to(t.gridSprite.position, .1, {
            x: cw - 1.04 * (t.gridSprite.width - 56) + mouse.cx / 200,
            //        y: ch - 1.04 * (t.gridSprite.height - 56) + mouse.cy/200,
            delay: .1,
            onUpdate: function() {
                t.gridMask.position.y = t.gridSprite.position.y + 30;
            }
        });
        
        TM.to(t.scoreScreen.position, .1, {
            x: mouse.cx / 150,
            y: mouse.cy / 150,
            delay: .1
        });
        
        TM.to(t.vhsFullCt.position, .1, {
            x: mouse.cx / 60,
            y: mouse.cy / 60,
            delay: .1
        });
        
        if (t.curVHS) {
            TM.to(t.curVHS.typo.position, .1, {
                x: t.curVHS.getLocalBounds().x + t.curVHS.typo.position.originalX + mouse.cx / 50,
                y: t.curVHS.getLocalBounds().y + t.curVHS.typo.position.originalY + mouse.cy / 50,
                delay: .1
            });
        }
        
        
        for (var i = 0; i < t.lensFlare.children.length; i++) {
            TM.to(t.lensFlare.children[i].position, .1, {
                x: mouse.cx / (70 - i * 30),
                y: mouse.cy / (70 - i * 30),
                delay: .1
            });
            
            TM.to(t.lensFlare.children[i].scale, .1, {
                x: t.lensFlare.children[i].originalScale.x + mouse.cx / (cw * (20 - i * 3)),
                y: t.lensFlare.children[i].originalScale.y + mouse.cy / (ch * (20 - i * 3)),
                delay: .1
            });
        }
    }
    ;
    ;var ww = window.innerWidth, wh = window.innerHeight, TM, 
    mouse = {
        pos: ''
    };
    var Characters, isFirefox = false, isSafari = false, b;
    
    $(function() {
        TM = TweenMax;
        ww = $(window).width();
        wh = $(window).height();
        
        window.mobileAndTabletcheck = function() {
            var check = false;
            (function(a) {
                if (/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(a) || /1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(a.substr(0, 4)))
                    check = true
            })(navigator.userAgent || navigator.vendor || window.opera);
            return check;
        }
        touch = mobileAndTabletcheck();
        
        if (touch) {
            window.location = "http://mobile.retrominder.tv/";
        } else {
            checkWebGL();
        }
        
        
        
        function checkWebGL() {
            var canvas = document.getElementById("iswebgl");
            var gl = false;
            b = BD;
            b.init();
            
            
            canvas.width = 1;
            canvas.height = 1;
            var experimental = false;
            try {
                gl = canvas.getContext("webgl");
            } 
            catch (x) {
                gl = null ;
            }
            
            if (gl == null ) {
                try {
                    gl = canvas.getContext("experimental-webgl");
                    experimental = true;
                } 
                catch (x) {
                    gl = null ;
                }
            }
            
            $(canvas).remove();
            
            $('body').addClass(b.browser);
            
            isFirefox = b.browser == 'Firefox';
            isSafari = b.browser == 'Safari';
            
            if (b.browser == "Explorer") {
                redirectUnsupported();
            }
            
            if (gl) {
                launchRetrominder();
            } else {
                redirectUnsupported();
            }
        }
        ;
        
        function launchRetrominder() {
            $.getJSON('assets/data/characters.json', function(data) {
                Characters = data;
                sdPlayer.init();
                Party.init();
            });
        }
        
        function redirectUnsupported() {
            window.location += 'unsupported.html';
        }
    });
    
    
    
    var BD = {
        init: function() {
            var info = this.searchString(this.dataBrowser) || {
                identity: "unknown"
            }
            this.browser = info.identity;
            this.version = this.searchVersion(navigator.userAgent) 
            || this.searchVersion(navigator.appVersion) 
            || "an unknown version";
            this.platformInfo = this.searchString(this.dataPlatform) || this.dataPlatform["unknown"];
            this.platform = this.platformInfo.identity;
            var browserInfo = this.urls[this.browser];
            if (!browserInfo) {
                browserInfo = this.urls["unknown"];
            } else if (browserInfo.platforms) {
                var info = browserInfo.platforms[this.platform];
                if (info) {
                    browserInfo = info;
                }
            }
            this.urls = browserInfo;
        },
        searchString: function(data) {
            for (var i = 0; i < data.length; i++) {
                var info = data[i];
                var dataString = info.string;
                var dataProp = info.prop;
                this.versionSearchString = info.versionSearch || info.identity;
                if (dataString) {
                    if (dataString.indexOf(info.subString) != -1) {
                        var shouldExclude = false;
                        if (info.excludeSubstrings) {
                            for (var ii = 0; ii < info.excludeSubstrings.length; ++ii) {
                                if (dataString.indexOf(info.excludeSubstrings[ii]) != -1) {
                                    shouldExclude = true;
                                    break;
                                }
                            }
                        }
                        if (!shouldExclude)
                            return info;
                    }
                } else if (dataProp) {
                    return info;
                }
            }
        },
        searchVersion: function(dataString) {
            var index = dataString.indexOf(this.versionSearchString);
            if (index == -1) {
                return;
            }
            return parseFloat(dataString.substring(
            index + this.versionSearchString.length + 1));
        },
        dataBrowser: [
        {
            string: navigator.userAgent,
            subString: "Chrome",
            excludeSubstrings: ["OPR/"],
            identity: "Chrome"
        }, 
        {
            string: navigator.userAgent,
            subString: "OmniWeb",
            versionSearch: "OmniWeb/",
            identity: "OmniWeb"
        }, 
        {
            string: navigator.vendor,
            subString: "Apple",
            identity: "Safari",
            versionSearch: "Version"
        }, 
        {
            string: navigator.vendor,
            subString: "Opera",
            identity: "Opera"
        }, 
        {
            string: navigator.userAgent,
            subString: "Android",
            identity: "Android"
        }, 
        {
            string: navigator.vendor,
            subString: "iCab",
            identity: "iCab"
        }, 
        {
            string: navigator.vendor,
            subString: "KDE",
            identity: "Konqueror"
        }, 
        {
            string: navigator.userAgent,
            subString: "Firefox",
            identity: "Firefox"
        }, 
        {
            string: navigator.vendor,
            subString: "Camino",
            identity: "Camino"
        }, 
        {
            // for newer Netscapes (6+)
            string: navigator.userAgent,
            subString: "Netscape",
            identity: "Netscape"
        }, 
        {
            string: navigator.userAgent,
            subString: "MSIE",
            identity: "Explorer",
            versionSearch: "MSIE"
        }, 
        {
            // for IE11+
            string: navigator.userAgent,
            subString: "Trident",
            identity: "Explorer",
            versionSearch: "rv"
        }, 
        {
            string: navigator.userAgent,
            subString: "Gecko",
            identity: "Mozilla",
            versionSearch: "rv"
        }, 
        {
            // for older Netscapes (4-)
            string: navigator.userAgent,
            subString: "Mozilla",
            identity: "Netscape",
            versionSearch: "Mozilla"
        }
        ],
        dataPlatform: [
        {
            string: navigator.platform,
            subString: "Win",
            identity: "Windows",
            browsers: [
            {
                url: "http://www.mozilla.com/en-US/firefox/new/",
                name: "Mozilla Firefox"
            }, 
            {
                url: "http://www.opera.com/",
                name: "Opera"
            }, 
            {
                url: "http://www.google.com/chrome/",
                name: "Google Chrome"
            }, 
            {
                url: "http://www.microsoft.com/ie",
                name: "Internet Explorer"
            }
            ]
        }, 
        {
            string: navigator.platform,
            subString: "Mac",
            identity: "Mac",
            browsers: [
            {
                url: "http://www.mozilla.com/en-US/firefox/new/",
                name: "Mozilla Firefox"
            }, 
            {
                url: "http://www.google.com/chrome/",
                name: "Google Chrome"
            }, 
            {
                url: "http://www.opera.com/",
                name: "Opera"
            }, 
            {
                url: "http://www.webkit.org/",
                name: "WebKit Developer Builds"
            }
            ]
        }, 
        {
            string: navigator.userAgent,
            subString: "iPhone",
            identity: "iPhone/iPod",
            browsers: [
            {
                url: "http://www.mozilla.com/en-US/firefox/new/",
                name: "Mozilla Firefox"
            }
            ]
        }, 
        {
            string: navigator.platform,
            subString: "iPad",
            identity: "iPad",
            browsers: [
            {
                url: "http://www.mozilla.com/en-US/firefox/new/",
                name: "Mozilla Firefox"
            }
            ]
        }, 
        {
            string: navigator.userAgent,
            subString: "Android",
            identity: "Android",
            browsers: [
            {
                url: "https://market.android.com/details?id=org.mozilla.firefox",
                name: "Mozilla Firefox"
            }, 
            {
                url: "https://market.android.com/details?id=com.opera.browser",
                name: "Opera Mobile"
            }
            ]
        }, 
        {
            string: navigator.platform,
            subString: "Linux",
            identity: "Linux",
            browsers: [
            {
                url: "http://www.mozilla.com/en-US/firefox/new/",
                name: "Mozilla Firefox"
            }, 
            {
                url: "http://www.google.com/chrome/",
                name: "Google Chrome"
            }, 
            {
                url: "http://www.opera.com/",
                name: "Opera"
            }
            ]
        }, 
        {
            string: "unknown",
            subString: "unknown",
            identity: "unknown",
            browsers: [
            {
                url: "http://www.mozilla.com/en-US/firefox/new/",
                name: "Mozilla Firefox"
            }, 
            {
                url: "http://www.google.com/chrome/",
                name: "Google Chrome"
            }, 
            {
                url: "http://www.opera.com/",
                name: "Opera"
            }, 
            {
                url: "http://www.webkit.org/",
                name: "WebKit Developer Builds"
            }
            ]
        }
        ],
        /*
         upgradeUrl:         Tell the user how to upgrade their browser.
         troubleshootingUrl: Help the user.
         platforms:          Urls by platform. See dataPlatform.identity for valid platform names.
         */
        urls: {
            "Chrome": {
                upgradeUrl: "http://www.google.com/support/chrome/bin/answer.py?answer=95346",
                troubleshootingUrl: "http://www.google.com/support/chrome/bin/answer.py?answer=1220892"
            },
            "Firefox": {
                upgradeUrl: "http://www.mozilla.com/en-US/firefox/new/",
                troubleshootingUrl: "https://support.mozilla.com/en-US/kb/how-do-i-upgrade-my-graphics-drivers"
            },
            "Opera": {
                platforms: {
                    "Android": {
                        upgradeUrl: "https://market.android.com/details?id=com.opera.browser",
                        troubleshootingUrl: "http://www.opera.com/support/"
                    }
                },
                upgradeUrl: "http://www.opera.com/",
                troubleshootingUrl: "http://www.opera.com/support/"
            },
            "Android": {
                upgradeUrl: null ,
                troubleshootingUrl: null 
            },
            "Safari": {
                platforms: {
                    "iPhone/iPod": {
                        upgradeUrl: "http://www.apple.com/ios/",
                        troubleshootingUrl: "http://www.apple.com/support/iphone/"
                    },
                    "iPad": {
                        upgradeUrl: "http://www.apple.com/ios/",
                        troubleshootingUrl: "http://www.apple.com/support/ipad/"
                    },
                    "Mac": {
                        upgradeUrl: "http://www.webkit.org/",
                        troubleshootingUrl: "http://www.webkit.org/blog/919/webgl-draft-specification-now-available/"
                    }
                },
                upgradeUrl: "http://www.webkit.org/",
                troubleshootingUrl: "http://www.webkit.org/blog/919/webgl-draft-specification-now-available/"
            },
            "Explorer": {
                upgradeUrl: "http://www.microsoft.com/ie",
                troubleshootingUrl: "http://msdn.microsoft.com/en-us/library/ie/bg182648(v=vs.85).aspx"
            },
            "unknown": {
                upgradeUrl: null ,
                troubleshootingUrl: null 
            }
        }
    };
    ;var sdPlayer = {
        SO: {},
        extWav: ".mp3",
        curSound: null ,
        characterSd: null ,
        vhsLittleNoise: new Audio('assets/sounds/effects/vhs_noise.lite.mp3'),
        vhsClick01: new Audio('assets/sounds/effects/vhs_click_01.lite.mp3'),
        vhsClick03: new Audio('assets/sounds/effects/vhs_click_03.lite.mp3'),
        btnClick: new Audio('assets/sounds/effects/btn_click.lite.mp3'),
        letsplay: new Audio('assets/sounds/effects/lets_play.lite.mp3'),
        scoreVHS: new Audio('assets/sounds/effects/scoreVHS.lite.mp3'),
        nbVHS: new Audio('assets/sounds/effects/nbVHS.lite.mp3'),
        handSqueeze: new Audio('assets/sounds/effects/hand_sound.lite.mp3'),
        theme: new Audio('assets/sounds/retro_theme_light.mp3'),
        endtheme: new Audio('assets/sounds/retro_end_theme.lite.mp3'),
        people: new Audio('assets/sounds/effects/peoplescream.lite.mp3'),
        answers: {
            perfect: new Audio('assets/sounds/answers/Answer_Good_Perfect.lite.mp3'),
            amazing: new Audio('assets/sounds/answers/Answer_Good_Amazing.lite.mp3'),
            great: new Audio('assets/sounds/answers/Answer_Good_Great.lite.mp3'),
            
            wrong: new Audio('assets/sounds/answers/Answer_Wrong_Wrong.lite.mp3'),
            noway: new Audio('assets/sounds/answers/Answer_Wrong_No_Way.lite.mp3'),
            toobad: new Audio('assets/sounds/answers/Answer_Wrong_Too_Bad.lite.mp3'),
            
            bonus: new Audio('assets/sounds/answers/Answer_Bonus_Stage.lite.mp3'),
            gameover: new Audio('assets/sounds/answers/Answer_TimesUp.lite.mp3'),
        },
        
        init: function() {
            var t = this;
            t.vhsClick03.volume = .2;
            
            t.endtheme.onended = function() {
                t.endtheme.play();
            }
            t.theme.onended = function() {
                t.theme.currentTime = 7;
                t.theme.play();
            }
            $('.glitch-hover').click(function() {
                t.btnClick.currentTime = 0;
                t.btnClick.play();
            });
            
            t.handSqueeze.volume = .3;
        },
        
        playSound: function(url, fade, max, speed) {
            var t = this;
            t.curSound = new Audio(url);
            if (fade) {
                t.curSound.volume = 0;
                t.fadeInSound(t.curSound, max, speed);
            }
            t.curSound.play();
        },
        playCharacterSound: function(url, fade, max, speed) {
            var t = this;
            
            t.curSound.pause();
            
            t.vhsLittleNoise.currentTime = 0;
            t.vhsLittleNoise.play();
            
            t.vhsClick01.currentTime = 0;
            t.vhsClick01.play();
            
            
            if (t.characterSd) {
                t.fadeOutSound(t.characterSd);
            }
            
            t.characterSd = new Audio(url);
            
            if (isFirefox) {
                t.characterSd.onloadeddata = function() {
                    t.characterSd.currentTime = 1.5;
                    t.characterSd.onended = function() {
                        if (Party.isRunning) {
                            Party.valideAnswer();
                        }
                    }
                    ;
                    if (fade) {
                        t.characterSd.volume = 0;
                        t.fadeInSound(t.characterSd, max, speed);
                    }
                    t.characterSd.play();
                
                }
            } else {
                t.characterSd.currentTime = 1.5;
                t.characterSd.onended = function() {
                    if (Party.isRunning) {
                        Party.valideAnswer();
                    }
                }
                ;
                if (fade) {
                    t.characterSd.volume = 0;
                    t.fadeInSound(t.characterSd, max, speed);
                }
                t.characterSd.play();
            }
        
        
        
        },
        stopSound: function() {
            var t = this;
            if (t.curSound) {
                t.fadeOutSound(t.curSound);
            }
        },
        fadeOutSound: function(audio, fn) {
            
            var interval;
            
            if (typeof fn == 'undefined')
                fn = false;
            
            TM.to(audio, 1, {
                volume: 0,
                onComplete: function() {
                    if (fn)
                        fn();
                    else
                        audio.pause();
                }
            });
        
        },
        fadeInSound: function(audio, max, speed) {
            var t = this, 
            interval;
            
            if (typeof max == 'undefined') {
                max = 1;
            }
            
            audio.volume = 0;
            audio.play();
            
            TM.to(audio, .3, {
                volume: max
            });
        },
    
    };
    TV.loadStarScene = function() {
        var t = this;
        
        var loader = new PIXI.loaders.Loader();
        loader.add('grid_sprite', imgPath + 'bg/grid_anim_sprite_light.png');
        loader.load(complete);
        
        function complete(loader, resources) {
            t.gridResources = resources;
            TV.createStarScene();
        }
    }
    
    TV.createStarScene = function() {
        var t = this;
        
        t.baseColor = "0x53C0EF";
        
        t.starScreen = new PIXI.Container();
        t.BG = new PIXI.Container();
        
        t.starScreen.addChild(t.BG);
        
        t.testDisplacmentSprite = new PIXI.Sprite.fromImage(imgPath + 'textures/linear_test.png');
        t.testDisplacmentSprite.position.x = 0;
        t.testDisplacmentSprite.position.y = 0;
        t.testDisplacmentSprite.width = cw;
        t.testDisplacmentSprite.height = ch;
        t.stage.addChild(t.testDisplacmentSprite);
        
        t.testDisplacmentFilter = new PIXI.filters.DisplacementFilter(t.testDisplacmentSprite);
        
        
        t.blueBG = new PIXI.Sprite.fromImage(imgPath + 'bg/fond_bleu.jpg');
        t.blueBG.position.x = 0;
        t.blueBG.position.y = 0;
        t.blueBG.width = cw;
        t.blueBG.height = ch;
        t.BG.addChild(t.blueBG);
        
        t.starsBG = new PIXI.Sprite.fromImage(imgPath + 'bg/stars.png');
        t.starsBG.position.x = 0;
        t.starsBG.position.y = 0;
        t.starsBG.width = cw;
        t.starsBG.height = ch;
        t.BG.addChild(t.starsBG);
        
        //    if(!isFirefox){
        t.gridSprite = TV.createGridSprite();
        t.gridSprite.width = cw;
        t.gridSprite.height = 1280 / cw * 350;
        t.gridSprite.position.x = 0;
        t.gridSprite.position.y = ch - t.gridSprite.height;
        t.gridSprite.blendMode = PIXI.BLEND_MODES.ADD;
        t.gridSprite.alpha = .5;
        t.gridSprite.play();
        t.BG.addChild(t.gridSprite);
        //    }else{
        //        t.gridSprite=false;
        //    }
        
        t.smokeVideo = new PIXI.Texture.fromVideo(videoPath + 'fumee.mp4');
        t.smokeVideoSprite = new PIXI.Sprite(t.smokeVideo);
        t.smokeVideoSprite.width = cw;
        t.smokeVideoSprite.height = ch;
        t.smokeVideoSprite.blendMode = PIXI.BLEND_MODES.ADD;
        t.smokeVideoSprite.tint = t.baseColor;
        t.smokeVideo.baseTexture.source.loop = true;
        t.BG.addChild(t.smokeVideoSprite);
        
        
        //LENSFLARE
        t.lensFlare = new PIXI.Container();
        t.lensFlare.addChild(new PIXI.Sprite.fromImage(imgPath + 'bg/lens_part_3.png'));
        t.lensFlare.addChild(new PIXI.Sprite.fromImage(imgPath + 'bg/lens_part_1.png'));
        t.lensFlare.addChild(new PIXI.Sprite.fromImage(imgPath + 'bg/lens_part_2.png'));
        for (var i = 0; i < t.lensFlare.children.length; i++) {
            t.lensFlare.children[i].width = cw;
            t.lensFlare.children[i].height = ch;
            t.lensFlare.children[i].originalScale = {
                x: cw / 1280,
                y: ch / 720
            };
            t.lensFlare.children[i].alpha = 1;
            t.lensFlare.children[i].tint = t.baseColor;
        }
        t.BG.addChild(t.lensFlare);
        
        function updateLensFlare() {
            var duration = Math.random() > .7 ? Math.random() + 1 : Math.random() * 10 + 10;
            TM.to(t.lensFlare, .5, {
                alpha: Math.random()
            });
            TM.to(t.starsBG, .5, {
                alpha: Math.random()
            });
            setTimeout(function() {
                updateLensFlare();
            }, duration * 10);
        }
        ;
        updateLensFlare();
        
        t.starScreen.alpha = 0;
        
        t.starScreen.filters = [t.rgbFilter, t.testDisplacmentFilter, t.displacementFilter];
        
        t.addLightFrames();
        
        t.stage.addChildAt(t.starScreen, 1);
        
        //    Party.testEndScreen();
    
    }
    
    TV.addLightFrames = function(screen) {
        var t = this;
        
        var gap = 5;
        t.globalFrames = new PIXI.Graphics();
        t.globalFrames.lineStyle(0);
        t.globalFrames.beginFill(0xffffff);
        t.globalFrames.moveTo(0, 0);
        
        for (var j = 0; j < Math.round(ch / gap); j++) {
            t.globalFrames.drawRect(0, gap * j, cw, gap / 2)
        }
        
        t.globalFrames.endFill();
        t.globalFrames.alpha = .03;
        t.globalFrames.blendMode = PIXI.BLEND_MODES.COLOR_BURN;
        t.stage.addChild(t.globalFrames);
    
    }
    
    TV.createGridSprite = function() {
        var t = this;
        
        var frames = [];
        for (var i = 0; i < 16; i++) {
            var sprite = new PIXI.Texture(t.gridResources['grid_sprite'].texture,new PIXI.Rectangle(0,i * 350,1280,350));
            frames.push(sprite);
        }
        
        var K7_sprite = new PIXI.extras.MovieClip(frames);
        K7_sprite.animationSpeed = .5;
        
        return K7_sprite;
    }
    ;
    
    
    
    TV.transitionSpaceScreen = function() {
        var t = this;
        
        Party.runParty = true;
        Party.isTutorial = false;
        Screens.$start.find('.vam').fadeOut();
        
        var newScale = 1.2;
        TM.to(t.starScreen, 2, {
            alpha: 0,
            delay: 2
        });
        TM.to(t.starScreen.scale, 4, {
            x: newScale,
            y: newScale
        });
        TM.to(t.starScreen.position, 4, {
            x: (cw - newScale * cw) / 2,
            y: (ch - newScale * ch) / 2
        });
        if (t.gridSprite)
            TM.to(t.gridSprite, 2, {
                animationSpeed: 5
            });
        
        var timeoutTL = new TimelineMax();
        var $timeout = Screens.$start.find('.start-timeout');
        
        sdPlayer.fadeOutSound(sdPlayer.theme);
        sdPlayer.fadeOutSound(sdPlayer.endtheme);
        
        $('body').addClass('playing');
        
        $timeout.show();
        timeoutTL.to($timeout, .9, {
            opacity: 0,
            scale: .7,
            delay: .1,
            onComplete: function() {
                $timeout.text("2");
                TM.set($timeout, {
                    opacity: 1,
                    scale: 1
                });
                sdPlayer.btnClick.currentTime = 0;
                sdPlayer.btnClick.play();
            }
        }).to($timeout, .9, {
            opacity: 0,
            scale: .7,
            delay: .1,
            onComplete: function() {
                $timeout.text("1");
                TM.set($timeout, {
                    opacity: 1,
                    scale: 1
                });
                sdPlayer.btnClick.currentTime = 0;
                sdPlayer.btnClick.play();
            }
        }).to($timeout, .9, {
            opacity: 0,
            scale: .7,
            delay: .1,
            onComplete: function() {
                Screens.$game.show();
                Screens.$start.hide();
                Party.createNew();
                sdPlayer.letsplay.play();
                
                if (t.gridSprite)
                    TM.set(t.gridSprite, 2, {
                        animationSpeed: .5
                    });
                
                Party.runParty = false;
            }
        });
    
    }
    ;
    ;
    
    
    /**
     * Nibbler - Multi-Base Encoder
     *
     * version 2013-04-24
     *
     * Options:
     *   dataBits: The number of bits in each character of unencoded data.
     *   codeBits: The number of bits in each character of encoded data.
     *   keyString: The characters that correspond to each value when encoded.
     *   pad (optional): The character to pad the end of encoded output.
     *   arrayData (optional): If truthy, unencoded data is an array instead of a string.
     *
     * Example:
     *
     * var base64_8bit = new Nibbler({
 *     dataBits: 8,
 *     codeBits: 6,
 *     keyString: 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/',
 *     pad: '='
 * });
     * base64_8bit.encode("Hello, World!");  // returns "SGVsbG8sIFdvcmxkIQ=="
     * base64_8bit.decode("SGVsbG8sIFdvcmxkIQ==");  // returns "Hello, World!"
     *
     * var base64_7bit = new Nibbler({
 *     dataBits: 7,
 *     codeBits: 6,
 *     keyString: 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/',
 *     pad: '='
 * });
     * base64_7bit.encode("Hello, World!");  // returns "kZdmzesQV9/LZkQg=="
     * base64_7bit.decode("kZdmzesQV9/LZkQg==");  // returns "Hello, World!"
     *
     */
    var Nibbler = function(options) {
        "use strict";
        
        // Code quality tools like jshint warn about bitwise operators,
        // because they're easily confused with other more common operators,
        // and because they're often misused for doing arithmetic.  Nibbler uses
        // them properly, though, for moving individual bits, so turn off the warning.
        /*jshint bitwise:false */
        
        var construct, 
        
        // options
        pad, dataBits, codeBits, keyString, arrayData, 
        
        // private instance variables
        mask, group, max, 
        
        // private methods
        gcd, translate, 
        
        // public methods
        encode, decode;
        
        // pseudo-constructor
        construct = function() {
            var i, mag, prev;
            
            // options
            pad = options.pad || '';
            dataBits = options.dataBits;
            codeBits = options.codeBits;
            keyString = options.keyString;
            arrayData = options.arrayData;
            
            // bitmasks
            mag = Math.max(dataBits, codeBits);
            prev = 0;
            mask = [];
            for (i = 0; i < mag; i += 1) {
                mask.push(prev);
                prev += prev + 1;
            }
            max = prev;
            
            // ouput code characters in multiples of this number
            group = dataBits / gcd(dataBits, codeBits);
        }
        ;
        
        // greatest common divisor
        gcd = function(a, b) {
            var t;
            while (b !== 0) {
                t = b;
                b = a % b;
                a = t;
            }
            return a;
        }
        ;
        
        // the re-coder
        translate = function(input, bitsIn, bitsOut, decoding) {
            var i, len, chr, byteIn, 
            buffer, size, output, 
            write;
            
            // append a byte to the output
            write = function(n) {
                if (!decoding) {
                    output.push(keyString.charAt(n));
                } else if (arrayData) {
                    output.push(n);
                } else {
                    output.push(String.fromCharCode(n));
                }
            }
            ;
            
            buffer = 0;
            size = 0;
            output = [];
            
            len = input.length;
            for (i = 0; i < len; i += 1) {
                // the new size the buffer will be after adding these bits
                size += bitsIn;
                
                // read a character
                if (decoding) {
                    // decode it
                    chr = input.charAt(i);
                    byteIn = keyString.indexOf(chr);
                    if (chr === pad) {
                        break;
                    } else if (byteIn < 0) {
                        throw 'the character "' + chr + '" is not a member of ' + keyString;
                    }
                } else {
                    if (arrayData) {
                        byteIn = input[i];
                    } else {
                        byteIn = input.charCodeAt(i);
                    }
                    if ((byteIn | max) !== max) {
                        throw byteIn + " is outside the range 0-" + max;
                    }
                }
                
                // shift the buffer to the left and add the new bits
                buffer = (buffer << bitsIn) | byteIn;
                
                // as long as there's enough in the buffer for another output...
                while (size >= bitsOut) {
                    // the new size the buffer will be after an output
                    size -= bitsOut;
                    
                    // output the part that lies to the left of that number of bits
                    // by shifting the them to the right
                    write(buffer >> size);
                    
                    // remove the bits we wrote from the buffer
                    // by applying a mask with the new size
                    buffer &= mask[size];
                }
            }
            
            // If we're encoding and there's input left over, pad the output.
            // Otherwise, leave the extra bits off, 'cause they themselves are padding
            if (!decoding && size > 0) {
                
                // flush the buffer
                write(buffer << (bitsOut - size));
                
                // add padding string for the remainder of the group
                while (output.length % group > 0) {
                    output.push(pad);
                }
            }
            
            // string!
            return (arrayData && decoding) ? output : output.join('');
        }
        ;
        
        /**
         * Encode.  Input and output are strings.
         */
        encode = function(input) {
            return translate(input, dataBits, codeBits, false);
        }
        ;
        
        /**
         * Decode.  Input and output are strings.
         */
        decode = function(input) {
            return translate(input, codeBits, dataBits, true);
        }
        ;
        
        this.encode = encode;
        this.decode = decode;
        construct();
    }
    ;
    
    
    
    function getRandomColor() {
        var letters = '0123456789ABCDEF'.split('');
        var color = '#';
        for (var i = 0; i < 6; i++) {
            color += letters[Math.floor(Math.random() * 16)];
        }
        return color;
    }
    
    function rgbToHex(rbg) {
        return "0x" + ((1 << 24) + (rbg[0] << 16) + (rbg[1] << 8) + rbg[2]).toString(16).slice(1);
    }
    
    parseColor = function(color) {
        
        var cache
        , p = parseInt // Use p as a byte saving reference to parseInt
        , color = color.replace(/\s\s*/g, '')// Remove all spaces
        ;
        //var
        
        // Checks for 6 digit hex and converts string to integer
        if (cache = /^#([\da-fA-F]{2})([\da-fA-F]{2})([\da-fA-F]{2})/.exec(color))
            cache = [p(cache[1], 16), p(cache[2], 16), p(cache[3], 16)];
            
            // Checks for 3 digit hex and converts string to integer
        else if (cache = /^#([\da-fA-F])([\da-fA-F])([\da-fA-F])/.exec(color))
            cache = [p(cache[1], 16) * 17, p(cache[2], 16) * 17, p(cache[3], 16) * 17];
            
            // Checks for rgba and converts string to
            // integer/float using unary + operator to save bytes
        else if (cache = /^rgba\(([\d]+),([\d]+),([\d]+),([\d]+|[\d]*.[\d]+)\)/.exec(color))
            cache = [+cache[1], +cache[2], +cache[3], +cache[4]];
            
            // Checks for rgb and converts string to
            // integer/float using unary + operator to save bytes
        else if (cache = /^rgb\(([\d]+),([\d]+),([\d]+)\)/.exec(color))
            cache = [+cache[1], +cache[2], +cache[3]];
            
            // Otherwise throw an exception to make debugging easier
        else
            throw Error(color + ' is not supported by $.parseColor');
        
        // Performs RGBA conversion by default
        isNaN(cache[3]) && (cache[3] = 1);
        
        // Adds or removes 4th value based on rgba support
        // Support is flipped twice to prevent erros if
        // it's not defined
        var colorObj = cache.slice(0, 3 + !!$.support.rgba);
        
        return rgbToHex(colorObj);
    
    
    }
    
    
    function shuffle(array) {
        var currentIndex = array.length, temporaryValue, randomIndex;
        
        // While there remain elements to shuffle...
        while (0 !== currentIndex) {
            
            // Pick a remaining element...
            randomIndex = Math.floor(Math.random() * currentIndex);
            currentIndex -= 1;
            
            // And swap it with the current element.
            temporaryValue = array[currentIndex];
            array[currentIndex] = array[randomIndex];
            array[randomIndex] = temporaryValue;
        }
        
        return array;
    }

});
Array.prototype.max = function() {
    return Math.max.apply(null , this);
}
;

Array.prototype.min = function() {
    return Math.min.apply(null , this);
}
;

(function(root, factory) {
    if (typeof define == 'function' && typeof define.amd == 'object' && define.amd) {
        define(function() {
            return factory(root);
        });
    } else if (typeof module == 'object' && module && module.exports) {
        module.exports = factory(root);
    } else {
        root.Levenshtein = factory(root);
    }
}(this, function(root) {
    
    function forEach(array, fn) {
        var i, length
        i = -1
        length = array.length
        while (++i < length)
            fn(array[i], i, array)
    }
    
    function map(array, fn) {
        var result
        result = Array(array.length)
        forEach(array, function(val, i, array) {
            result[i] = fn(val, i, array)
        })
        return result
    }
    
    function reduce(array, fn, accumulator) {
        forEach(array, function(val, i, array) {
            accumulator = fn(val, i, array)
        })
        return accumulator
    }
    
    // Levenshtein distance
    function Levenshtein(str_m, str_n) {
        var previous, current, matrix
        // Constructor
        matrix = this._matrix = []
        // Sanity checks
        if (str_m == str_n)
            return this.distance = 0
        else if (str_m == '')
            return this.distance = str_n.length
        else if (str_n == '')
            return this.distance = str_m.length
        else {
            // Danger Will Robinson
            previous = [0]
            forEach(str_m, function(v, i) {
                i++,
                previous[i] = i
            })
            
            matrix[0] = previous
            forEach(str_n, function(n_val, n_idx) {
                current = [++n_idx]
                forEach(str_m, function(m_val, m_idx) {
                    m_idx++
                    if (str_m.charAt(m_idx - 1) == str_n.charAt(n_idx - 1))
                        current[m_idx] = previous[m_idx - 1]
                    else
                        current[m_idx] = Math.min
                        (previous[m_idx] + 1 // Deletion
                        , current[m_idx - 1] + 1 // Insertion
                        , previous[m_idx - 1] + 1 // Subtraction
                        )
                })
                previous = current
                matrix[matrix.length] = previous
            })
            
            return this.distance = current[current.length - 1]
        }
    }
    
    Levenshtein.prototype.toString = Levenshtein.prototype.inspect = function inspect(no_print) {
        var matrix, max, buff, sep, rows
        matrix = this.getMatrix()
        max = reduce(matrix, function(m, o) {
            return Math.max(m, reduce(o, Math.max, 0))
        }, 0)
        buff = Array((max + '').length).join(' ')
        
        sep = []
        while (sep.length < (matrix[0] && matrix[0].length || 0))
            sep[sep.length] = Array(buff.length + 1).join('-')
        sep = sep.join('-+') + '-'
        
        rows = map(matrix, function(row) {
            var cells
            cells = map(row, function(cell) {
                return (buff + cell).slice(-buff.length)
            })
            return cells.join(' |') + ' '
        })
        
        return rows.join("\n" + sep + "\n")
    }
    
    Levenshtein.prototype.getMatrix = function() {
        return this._matrix.slice()
    }
    
    Levenshtein.prototype.valueOf = function() {
        return this.distance
    }
    
    return Levenshtein

}))


function stringCompare(str, strTabs, strTabs2) {
    var maxResult = 9999
      , 
    greatanswer = false;
    
    str = str.replace(/ /g, '');
    str = str.toLowerCase();
    
    for (var j = 0; j < strTabs.length; j++) {
        strTabs[j] = strTabs[j].replace(/ /g, '');
        strTabs[j] = strTabs[j].toLowerCase();
        if (maxResult != 0) {
            var result = new Levenshtein(str,strTabs[j]).distance;
            maxResult = Math.min(maxResult, result);
        }
    }
    
    if (maxResult > Math.ceil(str.length * .3) && strTabs2) {
        greatanswer = true;
        for (var j = 0; j < strTabs2.length; j++) {
            strTabs2[j] = strTabs2[j].replace(/ /g, '');
            strTabs2[j] = strTabs2[j].toLowerCase();
            if (maxResult != 0) {
                var result = new Levenshtein(str,strTabs2[j]).distance;
                maxResult = Math.min(maxResult, result);
            }
        }
    }
    
    var badAnswer = ['wrong', 'noway', 'toobad'];
    var perfectAnswer = ['perfect', 'amazing'];
    
    if (maxResult == 0) {
        return greatanswer ? "great" : perfectAnswer[Math.round(Math.random() * (perfectAnswer.length - 1))];
    } else if (maxResult < Math.ceil(str.length * .3)) {
        return 'great';
    } else {
        return badAnswer[Math.round(Math.random() * (badAnswer.length - 1))];
    }
}





function addZero(x, n) {
    while (x.toString().length < n) {
        x = "0" + x;
    }
    return x;
}
